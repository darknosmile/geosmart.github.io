<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  
  <title><![CDATA[Geosmart's Notes]]></title>
  <subtitle><![CDATA[追求心智成长，记录技术点滴]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://geosmart.github.io//"/>
  <updated>2015-09-15T02:51:27.972Z</updated>
  <id>http://geosmart.github.io//</id>
  
  <author>
    <name><![CDATA[geosmart]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[SQLite数据库使用笔记]]></title>
    <link href="http://geosmart.github.io/2015/09/15/SQLite%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/"/>
    <id>http://geosmart.github.io/2015/09/15/SQLite数据库使用笔记/</id>
    <published>2015-09-15T02:24:33.000Z</published>
    <updated>2015-09-15T02:51:27.972Z</updated>
    <content type="html"><![CDATA[<p><a href="http://www.sqlite.org/wal.html">&#x5B98;&#x65B9;&#x6587;&#x6863;</a><br>
<a href="http://www.cnblogs.com/wuhenke/archive/2011/11/20/2256618.html">sqlite&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x4E0B;&#x7684;&#x5E94;&#x7528;</a></p>
<h1 id="sqlite&#x7279;&#x70B9;">SQLite&#x7279;&#x70B9;</h1>
<p>SQLite&#x53EA;&#x652F;&#x6301;&#x5E93;&#x7EA7;&#x9501;&#xFF0C;&#x540C;&#x65F6;&#x53EA;&#x80FD;&#x5141;&#x8BB8;&#x4E00;&#x4E2A;&#x5199;&#x64CD;&#x4F5C;&#x3002;&#x4F46;SQLite&#x5C3D;&#x91CF;&#x5EF6;&#x8FDF;&#x7533;&#x8BF7;X&#x9501;&#xFF0C;&#x76F4;&#x5230;&#x6570;&#x636E;&#x5757;&#x771F;&#x6B63;&#x5199;&#x76D8;&#x65F6;&#x624D;&#x7533;&#x8BF7;X&#x9501;&#xFF0C;&#x8FD9;&#x662F;&#x975E;&#x5E38;&#x5DE7;&#x5999;&#x800C;&#x6709;&#x6548;&#x7684;&#x3002;</p>
<ol>
<li>SQLite&#x652F;&#x6301;3&#x79CD;&#x7EBF;&#x7A0B;&#x6A21;&#x5F0F;:&#x5355;&#x7EBF;&#x7A0B;,&#x591A;&#x7EBF;&#x7A0B;,&#x4E32;&#x884C;</li>
<li>&#x53EF;&#x4F7F;&#x7528;WAL&#xFF08;Write-Ahead Logging&#xFF09;&#x6A21;&#x5F0F;&#x65F6;&#xFF0C;&#x5199;&#x64CD;&#x4F5C;&#x662F;append&#x5230;WAL&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x4E0D;&#x76F4;&#x63A5;&#x6539;&#x52A8;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x56E0;&#x6B64;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x88AB;&#x540C;&#x65F6;&#x8BFB;&#x53D6;&#x3002;&#x5F53;&#x6267;&#x884C;checkpoint&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;WAL&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x4F1A;&#x88AB;&#x5199;&#x56DE;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x3002;&#x5F53;WAL&#x6587;&#x4EF6;&#x8FBE;&#x5230;SQLITE_DEFAULT_WAL_AUTOCHECKPOINT&#xFF08;&#x9ED8;&#x8BA4;&#x503C;&#x662F;1000&#xFF09;&#x9875;&#xFF08;&#x9ED8;&#x8BA4;&#x5927;&#x5C0F;&#x662F;1KB&#xFF09;&#x65F6;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x4F7F;&#x7528;&#x5F53;&#x524D;COMMIT&#x7684;&#x7EBF;&#x7A0B;&#x6765;&#x6267;&#x884C;checkpoint&#x64CD;&#x4F5C;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x5173;&#x95ED;&#x81EA;&#x52A8;checkpoint&#xFF0C;&#x6539;&#x4E3A;&#x624B;&#x52A8;&#x5B9A;&#x671F;
checkpoint&#x3002;jdbc&#x53EF;&#x901A;&#x8FC7;setJournalMode(JournalMode.WAL)/setJounalSizeLimit&#x5B9E;&#x73B0;</li>
<li>&#x4E8B;&#x52A1;&#x662F;&#x548C;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x76F8;&#x5173;&#x7684;&#xFF0C;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#xFF08;&#x4F7F;&#x7528;pager&#x6765;&#xFF09;&#x7EF4;&#x62A4;&#x81EA;&#x5DF1;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x4E14;&#x540C;&#x65F6;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF08;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x7528;SAVEPOINT&#x6765;&#x5B9E;&#x73B0;&#x5185;&#x5D4C;&#x4E8B;&#x52A1;&#xFF09;&#x3002;</li>
</ol>
<h2 id="wal&#x6A21;&#x5F0F;">WAL&#x6A21;&#x5F0F;</h2>
<ul>
<li>-shm&#x6587;&#x4EF6;&#x5305;&#x542B;-wal&#x6587;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x7D22;&#x5F15;&#xFF0C;-shm&#x6587;&#x4EF6;&#x63D0;&#x5347;-wal&#x6587;&#x4EF6;&#x7684;&#x8BFB;&#x6027;&#x80FD;</li>
<li>&#x5982;&#x679C;-shm&#x6587;&#x4EF6;&#x88AB;&#x5220;&#x9664;&#xFF0C;&#x4E0B;&#x6B21;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x65F6;&#x4F1A;&#x81EA;&#x52A8;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;-shm&#x6587;&#x4EF6;</li>
<li>&#x5982;&#x679C;&#x6267;&#x884C;&#x4E86;checkpoint&#x547D;&#x4EE4;&#xFF0C;-war&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x5220;&#x9664;</li>
</ul>
<h2 id="vacuum&#x547D;&#x4EE4;">VACUUM&#x547D;&#x4EE4;</h2>
<p>VACUUM&#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x91CD;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C; &#x6267;&#x884C;VACUUM &#x65F6;&#xFF0C;&#x4F1A;&#x62F7;&#x8D1D;&#x6574;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5230;Transient databases&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x8986;&#x76D6;&#x5199;&#x56DE;&#x5230;&#x539F;&#x6765;&#x7684;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x4E2D;&#x3002;<br>
&#x5199;&#x56DE;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x521B;&#x5EFA;rollback journal or write-ahead log WAL file&#x4EE5;&#x4FDD;&#x8BC1;transaction atomic&#x3002;&#x5F53;vacuum&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#xFF0C;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x88AB;&#x5220;&#x9664;&#x3002;</p>
<p>&#x91CD;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x7684;&#x539F;&#x56E0;&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x70B9;</p>
<ol>
<li>&#x5F53;&#x5927;&#x91CF;&#x6570;&#x636E;&#x88AB;&#x5220;&#x9664;&#x540E;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x4E2D;&#x4F1A;&#x6709;&#x5F88;&#x591A;&#x7A7A;&#x5757;,&#x7A7A;&#x9875;&#x548C;&#x788E;&#x7247;&#xFF0C;VACUUM rebuild&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#xFF0C;&#x79FB;&#x9664;&#x8FD9;&#x4E9B;&#x7A7A;&#x5757;&#xFF0C;&#x51CF;&#x5C11;&#x6240;&#x5360;&#x7684;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;</li>
<li>&#x9891;&#x7E41;&#x7684;inserts, updates, and deletes &#x5BFC;&#x81F4;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x4E2D;&#x5F88;&#x591A;&#x788E;&#x7247;&#xFF0C;VACUUM &#x91CD;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x4F7F;&#x5F97;&#x8868;&#xFF0C;&#x7D22;&#x5F15;&#x8FDE;&#x7EED;&#x7684;&#x5B58;&#x50A8;, &#x51CF;&#x5C11;&#x7A7A;&#x95F2;&#x9875;&#xFF0C; &#x51CF;&#x5C11;&#x6240;&#x5360;&#x7684;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;</li>
<li>&#x5F53;page_size &#x6216;&#x7528;pragma auto_vacuum &#x547D;&#x4EE4;&#x4FEE;&#x6539;&#x8FD9;&#x4E24;&#x4E2A;&#x503C;&#x65F6;&#xFF0C; SQLite&#x4F1A;&#x81EA;&#x52A8;&#x6267;&#x884C;VACUMM</li>
<li>VACUUM&#x53EA;&#x5BF9;main&#x6570;&#x636E;&#x5E93;&#x6709;&#x6548;&#xFF0C;&#x5BF9;ATTACHED&#x6570;&#x636E;&#x5E93;&#x65E0;&#x6548;</li>
<li>&#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x8FD8;&#x6709;&#x5176;&#x4ED6;transaction&#xFF0C; VACUUM&#x5C06;&#x6267;&#x884C;&#x5931;&#x8D25;</li>
<li>&#x9664;&#x4E86;&#x4F7F;&#x7528;VACUUM&#x5916;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;PRAGMA auto_vacuum&#x63A7;&#x5236;vacuum&#x7684;&#x6267;&#x884C;
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PRAGMA auto_vacuum;</span><br><span class="line">PRAGMA auto_vacuum = 0 |<span class="string"> NONE </span>|<span class="string"> 1 </span>|<span class="string"> FULL </span>|<span class="string"> 2 </span>|<span class="string"> INCREMENTAL;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="&#x95EE;&#x9898;&#x8BB0;&#x5F55;">&#x95EE;&#x9898;&#x8BB0;&#x5F55;</h1>
<h2 id="&#x63D0;&#x4EA4;-wal&#x4FEE;&#x6539;&#x5230;&#x6570;&#x636E;&#x5E93;main&#x6587;&#x4EF6;">&#x63D0;&#x4EA4;-wal&#x4FEE;&#x6539;&#x5230;&#x6570;&#x636E;&#x5E93;main&#x6587;&#x4EF6;</h2>
<p>&#x6267;&#x884C;<code>VACUUM</code>&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x751F;&#x6210;&#x6700;&#x65B0;&#x7684;&#x6570;&#x636E;&#x5E93;-db&#x6587;&#x4EF6;</p>
<h2 id="&#x5982;&#x4F55;&#x5220;&#x9664;&#x4F7F;&#x7528;&#x4E2D;&#x7684;sqlite&#x6570;&#x636E;&#x5E93;">&#x5982;&#x4F55;&#x5220;&#x9664;&#x4F7F;&#x7528;&#x4E2D;&#x7684;SQLite&#x6570;&#x636E;&#x5E93;</h2>
<p><a href="http://stackoverflow.com/questions/991489/i-cant-delete-a-file-in-java">&#x53C2;&#x8003;</a></p>
<p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &#x6DFB;&#x52A0;System.gc()&#x548C;Thread.sleep&#x8FDB;&#x884C;&#x5F3A;&#x5236;&#x5220;&#x9664; </span></span><br><span class="line">System.gc();</span><br><span class="line">Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">FileDeleteStrategy.FORCE.delete(workFile);</span><br></pre></td></tr></table></figure></p>
<h2 id="sqlite&#x5F00;&#x542F;wal&#x8BFB;&#x5199;&#x6A21;&#x5F0F;">SQLite&#x5F00;&#x542F;WAL&#x8BFB;&#x5199;&#x6A21;&#x5F0F;</h2>
<p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SQLiteConfig config = <span class="keyword">new</span> SQLiteConfig();</span><br><span class="line">config.setOpenMode(SQLiteOpenMode.READWRITE);</span><br><span class="line">config.setJournalMode(JournalMode.WAL); </span><br><span class="line">dataSource.setConfig(config);</span><br></pre></td></tr></table></figure></p>
<h2 id="sqlite&#x6279;&#x91CF;&#x66F4;&#x65B0;">SQLite&#x6279;&#x91CF;&#x66F4;&#x65B0;</h2>
<p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">/**</span><br><span class="line">  * &#x6279;&#x91CF;&#x66F4;&#x65B0;</span><br><span class="line">  * </span><br><span class="line">  * <span class="doctag">@param</span> updateSqlList</span><br><span class="line">  */</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchUpdate</span><span class="params">(List&lt;String&gt; updateSqlList)</span> </span>{</span><br><span class="line"><span class="keyword">if</span> (updateSqlList.size() &gt; <span class="number">0</span>) {</span><br><span class="line">  <span class="keyword">try</span> { </span><br><span class="line">trueConnection conn = dataSource.getConnection();</span><br><span class="line">trueStatement statement = conn.createStatement();</span><br><span class="line">true<span class="keyword">for</span> (String sql : updateSqlList) {</span><br><span class="line">true  statement.addBatch(sql);</span><br><span class="line">true}</span><br><span class="line">true<span class="keyword">int</span>[] count = statement.executeBatch();</span><br><span class="line"></span><br><span class="line">truelog.info(<span class="string">&quot;SQLite-JDBC&#x6279;&#x91CF;&#x66F4;&#x65B0;{}&#x6761;&quot;</span>, count.length);</span><br><span class="line">  } <span class="keyword">catch</span> (SQLException e) {</span><br><span class="line">truee.printStackTrace();</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line"> }</span><br></pre></td></tr></table></figure></p>
<h2 id="sqlite&#x9664;&#x6CD5;&#x8FD0;&#x7B97;&#x4FDD;&#x7559;&#x5C0F;&#x6570;&#x95EE;&#x9898;">sqlite&#x9664;&#x6CD5;&#x8FD0;&#x7B97;&#x4FDD;&#x7559;&#x5C0F;&#x6570;&#x95EE;&#x9898;</h2>
<p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator"><span class="keyword">select</span>  <span class="keyword">distinct</span> <span class="number">1</span>/<span class="number">100</span> <span class="keyword">from</span> &#x5174;&#x8DA3;&#x70B9;</span><br><span class="line"># &#x7ED3;&#x679C;&#xFF1A;<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span>  <span class="keyword">distinct</span> <span class="keyword">cast</span>(<span class="number">1</span> <span class="keyword">as</span> <span class="built_in">real</span>)/<span class="number">100</span>  <span class="keyword">from</span> &#x5174;&#x8DA3;&#x70B9;</span><br><span class="line"># &#x7ED3;&#x679C;&#xFF1A;<span class="number">0.01</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="sqlite&#x5B58;&#x50A8;number&#x578B;&#x65F6;&#x5C0F;&#x4E8E;0&#x7684;&#x503C;&#x4F1A;&#x4EE5;0&#x5B58;&#x50A8;">sqlite&#x5B58;&#x50A8;number&#x578B;&#x65F6;&#x5C0F;&#x4E8E;0&#x7684;&#x503C;&#x4F1A;&#x4EE5;0&#x5B58;&#x50A8;</h2>
<h2 id="sqlite38-shell&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;">sqlite3.8-shell&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;</h2>
<p><code>cd /usr/local/sqlite &amp;&amp; sqlite3 /uadb/data/geocodingdb.db</code></p>]]></content>
    <summary type="html">
    <![CDATA[<p><a href="http://www.sqlite.org/wal.html">&#x5B98;&#x65B9;&#x6587;&#x6863;</a><br>
<a href="http://www.cnblogs.com/wuhenke/archive/2011/11]]>
    </summary>
    
      <category term="J2EE" scheme="http://geosmart.github.io/tags/J2EE/"/>
    
      <category term="SQLite" scheme="http://geosmart.github.io/tags/SQLite/"/>
    
      <category term="数据库" scheme="http://geosmart.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[SublimeText常用技巧]]></title>
    <link href="http://geosmart.github.io/2015/09/14/SublimeText%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7/"/>
    <id>http://geosmart.github.io/2015/09/14/SublimeText常用技巧/</id>
    <published>2015-09-14T00:53:20.000Z</published>
    <updated>2015-09-15T02:28:44.325Z</updated>
    <content type="html"></content>
    <summary type="html">
    
    </summary>
    
      <category term="TextEditor" scheme="http://geosmart.github.io/tags/TextEditor/"/>
    
      <category term="工具" scheme="http://geosmart.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[NLP学习笔记]]></title>
    <link href="http://geosmart.github.io/2015/09/11/NLP%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>http://geosmart.github.io/2015/09/11/NLP学习笔记/</id>
    <published>2015-09-11T13:51:49.000Z</published>
    <updated>2015-09-15T02:27:24.494Z</updated>
    <content type="html"><![CDATA[<h1 id="&#x4E13;&#x4E1A;&#x540D;&#x8BCD;">&#x4E13;&#x4E1A;&#x540D;&#x8BCD;</h1>
<h1 id="&#x57FA;&#x7840;&#x9605;&#x8BFB;">&#x57FA;&#x7840;&#x9605;&#x8BFB;</h1>
<p>&#x300A;&#x6570;&#x5B66;&#x4E4B;&#x7F8E;&#x300B;&#x9605;&#x8BFB;&#x4E2D;</p>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="&#x4E13;&#x4E1A;&#x540D;&#x8BCD;">&#x4E13;&#x4E1A;&#x540D;&#x8BCD;</h1>
<h1 id="&#x57FA;&#x7840;&#x9605;&#x8BFB;">&#x57FA;&#x7840;&#]]>
    </summary>
    
      <category term="NLP" scheme="http://geosmart.github.io/tags/NLP/"/>
    
      <category term="大数据" scheme="http://geosmart.github.io/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[基于Solr的Hbase二级索引]]></title>
    <link href="http://geosmart.github.io/2015/09/01/%E5%9F%BA%E4%BA%8ESolr%E7%9A%84Hbase%E4%BA%8C%E7%BA%A7%E7%B4%A2%E5%BC%95/"/>
    <id>http://geosmart.github.io/2015/09/01/基于Solr的Hbase二级索引/</id>
    <published>2015-09-01T11:41:27.000Z</published>
    <updated>2015-09-15T02:53:01.324Z</updated>
    <content type="html"><![CDATA[<h1 id="&#x5173;&#x4E8E;hbase&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;">&#x5173;&#x4E8E;Hbase&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;</h1>
<p>HBase &#x662F;&#x4E00;&#x4E2A;&#x5217;&#x5B58;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6BCF;&#x884C;&#x6570;&#x636E;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;RowKey&#xFF0C;&#x65E0;&#x6CD5;&#x4F9D;&#x636E;&#x6307;&#x5B9A;&#x5217;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x68C0;&#x7D22;&#x3002;&#x67E5;&#x8BE2;&#x65F6;&#x9700;&#x8981;&#x901A;&#x8FC7;RowKey&#x8FDB;&#x884C;&#x68C0;&#x7D22;&#xFF0C;&#x7136;&#x540E;&#x67E5;&#x770B;&#x6307;&#x5B9A;&#x5217;&#x7684;&#x6570;&#x636E;&#x662F;&#x4EC0;&#x4E48;&#xFF0C;&#x6548;&#x7387;&#x4F4E;&#x4E0B;&#x3002;&#x5728;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x7ECF;&#x5E38;&#x9700;&#x8981;&#x6839;&#x636E;&#x6307;&#x5B9A;&#x5217;&#x8FDB;&#x884C;&#x68C0;&#x7D22;&#xFF0C;&#x6216;&#x8005;&#x51E0;&#x4E2A;&#x5217;&#x8FDB;&#x884C;&#x7EC4;&#x5408;&#x68C0;&#x7D22;&#xFF0C;&#x8FD9;&#x5C31;&#x63D0;&#x51FA;&#x4E86;&#x5EFA;&#x7ACB; HBase &#x4E8C;&#x7EA7;&#x7D22;&#x5F15;&#x7684;&#x9700;&#x6C42;&#x3002;</p>
<p>&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;&#x6784;&#x5EFA;&#x65B9;&#x5F0F;&#xFF1A;&#x8868;&#x7D22;&#x5F15;&#x3001;&#x5217;&#x7D22;&#x5F15;&#x3001;&#x5168;&#x6587;&#x7D22;&#x5F15;</p>
<ul>
<li>&#x8868;&#x7D22;&#x5F15;&#x662F;&#x5C06;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x5355;&#x72EC;&#x5B58;&#x50A8;&#x4E3A;&#x4E00;&#x5F20;&#x8868;&#xFF0C;&#x901A;&#x8FC7; HBase Coprocessor &#x751F;&#x6210;&#x5E76;&#x8BBF;&#x95EE;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x3002;</li>
<li>&#x5217;&#x7D22;&#x5F15;&#x662F;&#x5C06;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x4E0E;&#x6E90;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5728;&#x76F8;&#x540C;&#x7684; Region &#x91CC;&#xFF0C;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x5B9A;&#x4E49;&#x4E3A;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x5217;&#x65CF;&#xFF0C;&#x4E5F;&#x662F;&#x5229;&#x7528; Coprocessor &#x6765;&#x751F;&#x6210;&#x5E76;&#x8BBF;&#x95EE;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x3002;&#x5BF9;&#x4E8E;&#x8868;&#x7D22;&#x5F15;&#xFF0C;&#x6E90;&#x6570;&#x636E;&#x8868;&#x4E0E;&#x7D22;&#x5F15;&#x8868;&#x7684;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x5F88;&#x96BE;&#x4FDD;&#x8BC1;&#xFF0C;&#x8BBF;&#x95EE;&#x4E24;&#x5F20;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x4E5F;&#x4F1A;&#x589E;&#x52A0; IO &#x5F00;&#x9500;&#x548C;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x7684;&#x6B21;&#x6570;&#x3002;&#x5BF9;&#x4E8E;&#x5217;&#x7D22;&#x5F15;&#xFF0C;&#x5355;&#x8868;&#x7684;&#x6570;&#x636E;&#x5BB9;&#x91CF;&#x4F1A;&#x6025;&#x5267;&#x589E;&#x52A0;&#xFF0C;&#x5BF9;&#x540C;&#x4E00; Region &#x91CC;&#x7684;&#x591A;&#x4E2A;&#x5217;&#x65CF;&#x8FDB;&#x884C; Split &#x6216; Merge &#x7B49;&#x64CD;&#x4F5C;&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x9020;&#x6210;&#x6570;&#x636E;&#x4E22;&#x5931;&#x6216;&#x4E0D;&#x4E00;&#x81F4;&#x3002;</li>
<li>&#x5168;&#x6587;&#x7D22;&#x5F15;&#xFF1A;&#x4EE5;CDH5&#x4E2D;&#x7684;Lily HBase Indexer&#x670D;&#x52A1;&#x5B9E;&#x73B0;&#xFF0C;&#x5176;&#x4F7F;&#x7528;SolrCloud&#x5B58;&#x50A8;HBase&#x7684;&#x7D22;&#x5F15;&#x6570;&#x636E;&#xFF0C;Indexer&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;HBase&#x8FD0;&#x884C;&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x548C;HBase&#x6570;&#x636E;&#x5199;&#x5165;&#x7684;&#x541E;&#x5410;&#x91CF;&#xFF0C;&#x56E0;&#x4E3A;&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x8FC7;&#x7A0B;&#x662F;&#x5B8C;&#x5168;&#x5206;&#x5F00;&#x5E76;&#x4E14;&#x5F02;&#x6B65;&#x7684;&#x3002;Lily HBase Indexer&#x5728;CDH5&#x4E2D;&#x8FD0;&#x884C;&#x5FC5;&#x987B;&#x4F9D;&#x8D56;HBase&#x3001;SolrCloud&#x548C;Zookeeper&#x670D;&#x52A1;&#x3002;</li>
</ul>
<p><img src="solr-query.png" alt="&#x901A;&#x8FC7;solr&#x67E5;&#x8BE2;rowkey&#x518D;&#x67E5;&#x8BE2;Hbase"></p>
<h1 id="&#x5173;&#x4E8E;key-value-indexer&#x7EC4;&#x4EF6;">&#x5173;&#x4E8E;Key-Value Indexer&#x7EC4;&#x4EF6;</h1>
<p><a href="http://www.cloudera.com/content/cloudera/zh-CN/documentation/core/v5-3-x/topics/search_use_hbase_indexer_service.html?scroll=xd_583c10bfdbd326ba-204beb9-13ef1573a9e--7fbb">CDH&#x5B98;&#x65B9;&#x6587;&#x6863;</a><br>
<a href="http://blog.cloudera.com/blog/2013/11/email-indexing-using-cloudera-search-and-hbase/">&#x53C2;&#x8003;&#x535A;&#x5BA2;&#xFF1A;Email Indexing Using Cloudera Search and HBase</a><br>
<a href="http://blog.csdn.net/kissmelove01/article/details/45043955">&#x53C2;&#x8003;&#x535A;&#x5BA2;&#xFF1A; Cloudera Search Solr&#x521D;&#x63A2;</a><br>
<a href="http://ae.yyuap.com/pages/viewpage.action?pageId=920173">&#x53C2;&#x8003;&#x535A;&#x5BA2;&#xFF1A;&#x4E00;&#x79CD;&#x57FA;&#x4E8E;UDH Search&#x7684;HBase&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;&#x6784;&#x5EFA;&#x65B9;&#x6848;</a></p>
<p>CDH5.4&#x4E2D;&#x7684;Key-Value Indexer&#x4F7F;&#x7528;&#x7684;&#x662F;Lily HBase NRT Indexer&#x670D;&#x52A1;&#xFF0C;Lily HBase Indexer&#x662F;&#x4E00;&#x6B3E;&#x7075;&#x6D3B;&#x7684;&#x3001;&#x53EF;&#x6269;&#x5C55;&#x7684;&#x3001;&#x9AD8;&#x5BB9;&#x9519;&#x7684;&#x3001;&#x4E8B;&#x52A1;&#x6027;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x8FD1;&#x5B9E;&#x65F6;&#x7684;&#x5904;&#x7406;HBase&#x5217;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x670D;&#x52A1;&#x8F6F;&#x4EF6;&#x3002;&#x5B83;&#x662F;NGDATA&#x516C;&#x53F8;&#x5F00;&#x53D1;&#x7684;Lily&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5DF2;&#x5F00;&#x653E;&#x6E90;&#x4EE3;&#x7801;&#x3002;
Lily HBase Indexer&#x4F7F;&#x7528;SolrCloud&#x6765;&#x5B58;&#x50A8;HBase&#x7684;&#x7D22;&#x5F15;&#x6570;&#x636E;&#xFF0C;&#x5F53;HBase&#x6267;&#x884C;&#x5199;&#x5165;&#x3001;&#x66F4;&#x65B0;&#x6216;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;Indexer&#x901A;&#x8FC7;HBase&#x7684;replication&#x529F;&#x80FD;&#x6765;&#x628A;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x62BD;&#x8C61;&#x6210;&#x4E00;&#x7CFB;&#x5217;&#x7684;Event&#x4E8B;&#x4EF6;&#xFF0C;&#x5E76;&#x7528;&#x6765;&#x4FDD;&#x8BC1;&#x5199;&#x5165;Solr&#x4E2D;&#x7684;HBase&#x7D22;&#x5F15;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x5E76;&#x4E14;Indexer&#x652F;&#x6301;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x62BD;&#x53D6;&#xFF0C;&#x8F6C;&#x6362;&#x89C4;&#x5219;&#x6765;&#x7D22;&#x5F15;HBase&#x5217;&#x6570;&#x636E;&#x3002;Solr&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x4F1A;&#x5305;&#x542B;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;columnfamily:qualifier&#x5B57;&#x6BB5;&#x7ED3;&#x679C;&#xFF0C;&#x8FD9;&#x6837;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;HBase&#x7684;&#x5217;&#x6570;&#x636E;&#x3002;&#x800C;&#x4E14;Indexer&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;HBase&#x8FD0;&#x884C;&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x548C;HBase&#x6570;&#x636E;&#x5199;&#x5165;&#x7684;&#x541E;&#x5410;&#x91CF;&#xFF0C;&#x56E0;&#x4E3A;&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x8FC7;&#x7A0B;&#x662F;&#x5B8C;&#x5168;&#x5206;&#x5F00;&#x5E76;&#x4E14;&#x5F02;&#x6B65;&#x7684;&#x3002;
Lily HBase Indexer&#x5728;CDH5&#x4E2D;&#x8FD0;&#x884C;&#x5FC5;&#x987B;&#x4F9D;&#x8D56;HBase&#x3001;SolrCloud&#x548C;Zookeeper&#x670D;&#x52A1;&#x3002;</p>
<h1 id="&#x4F7F;&#x7528;-lily-hbase-batch-indexer-&#x8FDB;&#x884C;&#x7D22;&#x5F15;">&#x4F7F;&#x7528; Lily HBase Batch Indexer &#x8FDB;&#x884C;&#x7D22;&#x5F15;</h1>
<p>&#x501F;&#x52A9; Cloudera Search&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5229;&#x7528; MapReduce &#x4F5C;&#x4E1A;&#x5BF9; HBase &#x8868;&#x8FDB;&#x884C;&#x6279;&#x91CF;&#x7D22;&#x5F15;&#x3002;&#x6279;&#x91CF;&#x7D22;&#x5F15;&#x4E0D;&#x9700;&#x8981;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C;&#xFF1A;</p>
<ul>
<li>HBase &#x590D;&#x5236;</li>
<li>Lily HBase Indexer &#x670D;&#x52A1;</li>
<li>&#x901A;&#x8FC7; Lily HBase Indexer &#x670D;&#x52A1;&#x6CE8;&#x518C; Lily HBase Indexer &#x914D;&#x7F6E;<br>
&#x8BE5;&#x7D22;&#x5F15;&#x5668;&#x652F;&#x6301;&#x7075;&#x6D3B;&#x7684;&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x3001;&#x7279;&#x5B9A;&#x4E8E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x89C4;&#x5219;&#x6765;&#x5C06; HBase &#x6570;&#x636E;&#x63D0;&#x53D6;&#x3001;&#x8F6C;&#x6362;&#x548C;&#x52A0;&#x8F7D;&#x5230; Solr&#x3002;Solr &#x641C;&#x7D22;&#x7ED3;&#x679C;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x5230;&#x5B58;&#x50A8;&#x5728; HBase &#x4E2D;&#x7684;&#x6570;&#x636E;&#x7684; columnFamily:qualifier &#x94FE;&#x63A5;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x96C6;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5339;&#x914D;&#x7684;&#x539F;&#x59CB; HBase &#x5355;&#x5143;&#x683C;&#x3002;</li>
</ul>
<h1 id="&#x521B;&#x5EFA;hbase&#x96C6;&#x7FA4;&#x7684;&#x8868;&#x4E2D;&#x5217;&#x7D22;&#x5F15;&#x7684;&#x6B65;&#x9AA4;">&#x521B;&#x5EFA;HBase&#x96C6;&#x7FA4;&#x7684;&#x8868;&#x4E2D;&#x5217;&#x7D22;&#x5F15;&#x7684;&#x6B65;&#x9AA4;&#xFF1A;</h1>
<ul>
<li>&#x586B;&#x5145; HBase &#x8868;&#x3002;</li>
<li>&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684; SolrCloud &#x96C6;&#x5408;</li>
<li>&#x521B;&#x5EFA; Lily HBase Indexer &#x914D;&#x7F6E;</li>
<li>&#x521B;&#x5EFA; Morphline &#x914D;&#x7F6E;&#x6587;&#x4EF6;</li>
<li>&#x6CE8;&#x518C; Lily HBase Indexer Configuration &#x548C; Lily HBase Indexer Service</li>
</ul>
<h2 id="&#x586B;&#x5145;-hbase-&#x8868;">&#x586B;&#x5145; HBase &#x8868;</h2>
<p>&#x5728;&#x914D;&#x7F6E;&#x548C;&#x542F;&#x52A8;&#x7CFB;&#x7EDF;&#x540E;&#xFF0C;&#x521B;&#x5EFA; HBase &#x8868;&#x5E76;&#x5411;&#x5176;&#x6DFB;&#x52A0;&#x884C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;
&#x5BF9;&#x4E8E;&#x6BCF;&#x4E2A;&#x65B0;&#x8868;&#xFF0C;&#x5728;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x53D1;&#x51FA;&#x683C;&#x5F0F;&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x7D22;&#x5F15;&#x7684;&#x6BCF;&#x4E2A;&#x5217;&#x7CFB;&#x5217;&#x4E0A;&#x8BBE;&#x7F6E; REPLICATION_SCOPE&#xFF1A;</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hbase shell 

#&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#xFF1A;&#x5217;&#x7C07;&#x8BBE;&#x7F6E;REPLICATION_SCOPE
disable &apos;User&apos;
drop  &apos;User&apos;
create &apos;User&apos;, {NAME =&gt; &apos;data&apos;, REPLICATION_SCOPE =&gt; 1}  
disable &apos;User&apos;
alter &apos;User&apos;, {NAME =&gt; &apos;detail&apos;, REPLICATION_SCOPE =&gt; 1}  
enable &apos;User&apos;

#&#x65B0;&#x589E;CF
disable &apos;User&apos;
alter &apos;User&apos;, {NAME =&gt; &apos;detail&apos;, REPLICATION_SCOPE =&gt; 1} 
enable &apos;User&apos;

#&#x4FEE;&#x6539;&#x73B0;&#x6709;
disable &apos;User&apos;
alter &apos;User&apos;, {NAME =&gt; &apos;data&apos;, REPLICATION_SCOPE =&gt; 1} 
enable &apos;User&apos;

# &#x63D2;&#x5165;&#x6D4B;&#x8BD5;&#x6570;&#x636E; 
put &apos;User&apos;,&apos;row1&apos;,&apos;data:name&apos;,&apos;u1&apos;
put &apos;User&apos;,&apos;row1&apos;,&apos;data:psd&apos;,&apos;123&apos;</span><br></pre></td></tr></table></figure></p>
<h2 id="&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684;-solrcloud-&#x96C6;&#x5408;">&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684; SolrCloud &#x96C6;&#x5408;</h2>
<p>&#x7528;&#x4E8E; HBase &#x7D22;&#x5F15;&#x7684; SolrCloud &#x96C6;&#x5408;&#x5FC5;&#x987B;&#x5177;&#x6709;&#x53EF;&#x5BB9;&#x7EB3; HBase &#x5217;&#x7CFB;&#x5217;&#x7684;&#x7C7B;&#x578B;&#x548C;&#x8981;&#x8FDB;&#x884C;&#x7D22;&#x5F15;&#x5904;&#x7406;&#x7684;&#x9650;&#x5B9A;&#x7B26;&#x7684; Solr &#x67B6;&#x6784;&#x3002;&#x82E5;&#x8981;&#x5F00;&#x59CB;&#xFF0C;&#x8BF7;&#x8003;&#x8651;&#x5C06;&#x5305;&#x62EC;&#x4E00;&#x5207; data &#x7684;&#x5B57;&#x6BB5;&#x6DFB;&#x52A0;&#x5230;&#x9ED8;&#x8BA4;schema&#x3002;&#x4E00;&#x65E6;&#x60A8;&#x51B3;&#x5B9A;&#x91C7;&#x7528;&#x4E00;&#x79CD;schema&#xFF0C;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x8868;&#x5355;&#x547D;&#x4EE4;&#x521B;&#x5EFA; SolrCloud &#x96C6;&#x5408;&#xFF1A;</p>
<h3 id="user&#x793A;&#x4F8B;&#x914D;&#x7F6E;">user&#x793A;&#x4F8B;&#x914D;&#x7F6E;</h3>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># &#x751F;&#x6210;&#x5B9E;&#x4F53;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;
solrctl instancedir --generate $HOME/hbase-indexer/User</span><br></pre></td></tr></table></figure></p>
<p>&#x7F16;&#x8F91;schema&#xFF0C;&#x9700;&#x5305;&#x542B;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;
<code>vim $HOME/hbase-indexer/User/conf/schema.xml</code></p>
<p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- &#x7ED1;&#x5B9A;rowkey--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">field</span> <span class="attribute">name</span>=<span class="value">&quot;id&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;string&quot;</span> <span class="attribute">indexed</span>=<span class="value">&quot;true&quot;</span> <span class="attribute">stored</span>=<span class="value">&quot;true&quot;</span> <span class="attribute">required</span>=<span class="value">&quot;true&quot;</span> <span class="attribute">multiValued</span>=<span class="value">&quot;false&quot;</span> /&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="title">field</span> <span class="attribute">name</span>=<span class="value">&quot;data_name&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;string&quot;</span> <span class="attribute">indexed</span>=<span class="value">&quot;true&quot;</span> <span class="attribute">stored</span>=<span class="value">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">field</span> <span class="attribute">name</span>=<span class="value">&quot;data_psd&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;string&quot;</span> <span class="attribute">indexed</span>=<span class="value">&quot;true&quot;</span> <span class="attribute">stored</span>=<span class="value">&quot;true&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="title">field</span> <span class="attribute">name</span>=<span class="value">&quot;detail_address&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;string&quot;</span> <span class="attribute">indexed</span>=<span class="value">&quot;true&quot;</span> <span class="attribute">stored</span>=<span class="value">&quot;true&quot;</span>/&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="title">field</span> <span class="attribute">name</span>=<span class="value">&quot;detail_photo&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;string&quot;</span> <span class="attribute">indexed</span>=<span class="value">&quot;true&quot;</span> <span class="attribute">stored</span>=<span class="value">&quot;true&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># &#x521B;&#x5EFA; collection&#x5B9E;&#x4F8B;&#x5E76;&#x5C06;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5230; zookeeper&#xFF1A;
solrctl instancedir --create User  $HOME/hbase-indexer/User
# &#x4E0A;&#x4F20;&#x5230; zookeeper &#x4E4B;&#x540E;&#xFF0C;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#x5C31;&#x53EF;&#x4EE5;&#x4ECE;zookeeper&#x4E0B;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x521B;&#x5EFA; collection:
solrctl collection --create User</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x6269;&#x5C55;&#x547D;&#x4EE4;">&#x6269;&#x5C55;&#x547D;&#x4EE4;</h3>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">solrctl instancedir --list  

# &#x66F4;&#x65B0;coolection&#x914D;&#x7F6E;
solrctl instancedir --update User $HOME/hbase-indexer/User
solrctl collection --reload  User


#&#x5220;&#x9664;instancedir
solrctl instancedir  --delete  User
#&#x5220;&#x9664;collection
solrctl collection --delete  User
#&#x5220;&#x9664;collection&#x6240;&#x6709;doc
solrctl collection --deletedocs User</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x6CE8;&#x610F;">&#x6CE8;&#x610F;</h3>
<p>&#x5728;schema.xml&#x4E2D;uniqueKey&#x5FC5;&#x987B;&#x4E3A;rowkey,&#x800C;rowkey&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&apos;id&apos;&#x5B57;&#x6BB5;&#x8868;&#x793A;&#xFF0C;&lt;field&gt;&#x4E2D;&#x5FC5;&#x987B;&#x8981;&#x6709;uniqueKey&#x5BF9;&#x5E94;&#x7684;id&#x5B57;&#x6BB5;&#x3002;</p>
<h2 id="&#x521B;&#x5EFA;-lily-hbase-indexer-&#x914D;&#x7F6E;">&#x521B;&#x5EFA; Lily HBase Indexer &#x914D;&#x7F6E;</h2>
<p>&#x5728;HBase-Solr&#x7684;&#x5B89;&#x88C5;&#x76EE;&#x5F55;/usr/lib/hbase-solr/&#x4E0B;&#xFF0C;&#x521B;&#x5EFA;morphline-hbase-mapper.xml&#x6587;&#x4EF6;&#xFF0C;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p>
<p><code>$ vim $HOME/morphline-hbase-mapper.xml</code></p>
<p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version=&quot;1.0&quot;?&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- table&#xFF1A;&#x9700;&#x8981;&#x7D22;&#x5F15;&#x7684;HBase&#x8868;&#x540D;&#x79F0;--&gt;</span></span><br><span class="line"> <span class="comment">&lt;!-- mapper&#xFF1A;&#x7528;&#x6765;&#x5B9E;&#x73B0;&#x548C;&#x8BFB;&#x53D6;&#x6307;&#x5B9A;&#x7684;Morphline&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7C7B;&#xFF0C;&#x56FA;&#x5B9A;&#x4E3A;MorphlineResultToSolrMapper--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">indexer</span> <span class="attribute">table</span>=<span class="value">&quot;User&quot;</span> <span class="attribute">mapper</span>=<span class="value">&quot;com.ngdata.hbaseindexer.morphline.MorphlineResultToSolrMapper&quot;</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">   <span class="comment">&lt;!--param&#x4E2D;&#x7684;name&#x53C2;&#x6570;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x5F53;&#x524D;&#x914D;&#x7F6E;&#x4E3A;morphlineFile&#x6587;&#x4EF6; --&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--value&#x7528;&#x6765;&#x6307;&#x5B9A;morphlines.conf&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x7EDD;&#x5BF9;&#x6216;&#x8005;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x672C;&#x5730;&#x8DEF;&#x5F84;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x4F7F;&#x7528;Cloudera Manager&#x6765;&#x7BA1;&#x7406;morphlines.conf&#x5C31;&#x76F4;&#x63A5;&#x5199;&#x5165;&#x503C;morphlines.conf&quot;--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">&quot;morphlineFile&quot;</span> <span class="attribute">value</span>=<span class="value">&quot;morphlines.conf&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!-- The optional morphlineId identifies a morphline if there are multiple morphlines in morphlines.conf --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="title">param</span> <span class="attribute">name</span>=<span class="value">&quot;morphlineId&quot;</span> <span class="attribute">value</span>=<span class="value">&quot;userMap&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">indexer</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x5F53;&#x4F7F;&#x7528;&#x7EDD;&#x5BF9;&#x6216;&#x8005;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#x6765;&#x6307;&#x5B9A;&#x8DEF;&#x5F84;&#x65F6;&#xFF0C;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x5176;&#x5B83;&#x673A;&#x5668;&#x4E5F;&#x8981;&#x5728;&#x914D;&#x7F6E;&#x8DEF;&#x5F84;&#x4E0A;&#x6709;&#x8BE5;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x901A;&#x8FC7;Cloudera Manager&#x7BA1;&#x7406;&#x7684;&#x8BDD;&#x53EA;&#x9700;&#x8981;&#x5728;CM&#x4E2D;&#x4FEE;&#x6539;&#x540E;&#x5373;&#x53EF;&#xFF0C;CM&#x4F1A;&#x81EA;&#x52A8;&#x5206;&#x53D1;&#x7ED9;&#x96C6;&#x7FA4;&#x3002;&#x5F53;&#x7136;&#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x5176;&#x5B83;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#xFF0C;<a href="https://github.com/NGDATA/hbase-indexer/wiki/Indexer-configuration#table">&#x6269;&#x5C55;&#x9605;&#x8BFB;</a>&#x3002;</p>
<h2 id="&#x521B;&#x5EFA;-morphline-&#x914D;&#x7F6E;&#x6587;&#x4EF6;">&#x521B;&#x5EFA; Morphline &#x914D;&#x7F6E;&#x6587;&#x4EF6;</h2>
<p>Morphlines&#x662F;&#x4E00;&#x6B3E;&#x5F00;&#x6E90;&#x7684;&#xFF0C;&#x7528;&#x6765;&#x51CF;&#x5C11;&#x6784;&#x5EFA;hadoop ETL&#x6570;&#x636E;&#x6D41;&#x7A0B;&#x65F6;&#x95F4;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x66FF;&#x4EE3;&#x4F20;&#x7EDF;&#x7684;&#x901A;&#x8FC7;MapReduce&#x6765;&#x62BD;&#x53D6;&#x3001;&#x8F6C;&#x6362;&#x3001;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x547D;&#x4EE4;&#x5DE5;&#x5177;&#xFF0C;
&#x5177;&#x4F53;&#x53EF;&#x4EE5;&#x53C2;&#x89C1;&#xFF1A;http://kitesdk.org/docs/0.13.0/kite-morphlines/morphlinesReferenceGuide.html&#x3002;</p>
<p>&#x5BF9;&#x4E8E;HBase&#x7684;&#x5176;&#x63D0;&#x4F9B;&#x4E86;extractHBaseCells&#x547D;&#x4EE4;&#x6765;&#x8BFB;&#x53D6;HBase&#x7684;&#x5217;&#x6570;&#x636E;&#x3002;&#x6211;&#x4EEC;&#x91C7;&#x7528;Cloudera Manager&#x6765;&#x7BA1;&#x7406;morphlines.conf&#x6587;&#x4EF6;&#xFF0C;&#x4F7F;&#x7528;CM&#x6765;&#x7BA1;&#x7406;morphlines.  conf&#x6587;&#x4EF6;&#x9664;&#x4E86;&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684;&#x597D;&#x5904;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x597D;&#x5904;&#x5C31;&#x662F;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x589E;&#x52A0;&#x7D22;&#x5F15;&#x5217;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x91C7;&#x7528;&#x672C;&#x5730;&#x8DEF;&#x5F84;&#x65B9;&#x5F0F;&#x5C06;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x6CE8;&#x518C;Lily HBase Indexer&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x91C7;&#x7528;CM&#x7BA1;&#x7406;&#x7684;&#x8BDD;&#x53EA;&#x9700;&#x8981;&#x4FEE;&#x6539;morphlines.conf&#x6587;&#x4EF6;&#x540E;&#x91CD;&#x542F;Key-Value HBase Indexer&#x670D;&#x52A1;&#x5373;&#x53EF;&#x3002;<br>
&#x5177;&#x4F53;&#x64CD;&#x4F5C;&#x4E3A;&#xFF1A;&#x8FDB;&#x5165;Key-Value Store Indexer&#x9762;&#x677F;-&gt;&#x914D;&#x7F6E;-&gt;&#x670D;&#x52A1;&#x8303;&#x56F4;-&gt;Morphlines-&gt;Morphlines&#x6587;&#x4EF6;&#x3002;&#x5728;&#x8BE5;&#x9009;&#x9879;&#x52A0;&#x5165;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#xFF1A;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x6BCF;&#x4E2A;Collection&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;morphline-hbase-mapper.xml</p>
<p><img src="indexerConfig.png" alt="cdh lily hbase indexer config"></p>
<p><code>$ vim /etc/hbase-solr/conf/morphlines.conf</code></p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">SOLR_LOCATOR : {</span><br><span class="line">  # Name of solr collection</span><br><span class="line">  collection : collection</span><br><span class="line"> </span><br><span class="line">  # ZooKeeper ensemble</span><br><span class="line">  zkHost : &quot;$ZK_HOST&quot;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">morphlines : [</span><br><span class="line">{</span><br><span class="line">id : userMap</span><br><span class="line">importCommands : [&quot;org.kitesdk.**&quot;, &quot;com.ngdata.**&quot;]</span><br><span class="line"></span><br><span class="line">commands : [                   </span><br><span class="line">  {</span><br><span class="line">    extractHBaseCells {</span><br><span class="line">      mappings : [</span><br><span class="line">        {</span><br><span class="line">          inputColumn : &quot;data:name&quot;</span><br><span class="line">          outputField : &quot;data_name&quot;</span><br><span class="line">          type : string</span><br><span class="line">          source : value</span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          inputColumn : &quot;data:psd&quot;</span><br><span class="line">          outputField : &quot;data_psd&quot;</span><br><span class="line">          type : string</span><br><span class="line">          source : value</span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          inputColumn : &quot;detail:address&quot;</span><br><span class="line">          outputField : &quot;detail_address&quot;</span><br><span class="line">          type : string</span><br><span class="line">          source : value</span><br><span class="line">        },</span><br><span class="line">        {</span><br><span class="line">          inputColumn : &quot;detail:photo&quot;</span><br><span class="line">          outputField : &quot;detail_photo&quot;</span><br><span class="line">          type : string</span><br><span class="line">          source : value</span><br><span class="line">        }</span><br><span class="line">      ]</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  { logDebug { format : &quot;output record: {}&quot;, args : [&quot;@{}&quot;] } }</span><br><span class="line">]</span><br><span class="line">}</span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<h2 id="&#x6CE8;&#x518C;-lily-hbase-indexer-configuration-&#x548C;-lily-hbase-indexer-service">&#x6CE8;&#x518C; Lily HBase Indexer Configuration &#x548C; Lily HBase Indexer Service</h2>
<p>&#x5F53; Lily HBase Indexer &#x914D;&#x7F6E; XML&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x4EE4;&#x4EBA;&#x6EE1;&#x610F;&#xFF0C;&#x5C06;&#x5B83;&#x6CE8;&#x518C;&#x5230; Lily HBase Indexer Service&#x3002;&#x4E0A;&#x4F20; Lily HBase Indexer &#x914D;&#x7F6E; XML&#x6587;&#x4EF6;&#x81F3; ZooKeeper&#xFF0C;&#x7531;&#x7ED9;&#x5B9A;&#x7684; SolrCloud &#x96C6;&#x5408;&#x5B8C;&#x6210;&#x6B64;&#x64CD;&#x4F5C;&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hbase-indexer add-indexer \
--name userIndexer \
--indexer-conf $HOME/hbase-indexer/User/conf/morphline-hbase-mapper.xml \
--connection-param solr.zk=master:2181/solr \
--connection-param solr.collection=User \
--zookeeper master:2181</span><br></pre></td></tr></table></figure></p>
<h2 id="&#x9A8C;&#x8BC1;&#x7D22;&#x5F15;&#x5668;&#x662F;&#x5426;&#x5DF2;&#x6210;&#x529F;&#x521B;&#x5EFA;">&#x9A8C;&#x8BC1;&#x7D22;&#x5F15;&#x5668;&#x662F;&#x5426;&#x5DF2;&#x6210;&#x529F;&#x521B;&#x5EFA;</h2>
<p>&#x6267;&#x884C;<code>$ hbase-indexer list-indexers</code>&#x9A8C;&#x8BC1;&#x7D22;&#x5F15;&#x5668;&#x662F;&#x5426;&#x5DF2;&#x6210;&#x529F;&#x521B;&#x5EFA;</p>
<p>&#x66F4;&#x591A;&#x5E2E;&#x52A9;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A;</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hbase-indexer add-indexer --help
$ hbase-indexer list-indexers --help
$ hbase-indexer update-indexer --help
$ hbase-indexer delete-indexer --help

# &#x82E5;&#x4FEE;&#x6539;&#x4E86;morphline-hbase-mapper.xml&#xFF0C;&#x9700;&#x66F4;&#x65B0;&#x7D22;&#x5F15;
hbase-indexer update-indexer  -n userIndexer
 
# &#x5220;&#x9664;&#x7D22;&#x5F15;
hbase-indexer delete-indexer  -n userIndexer</span><br></pre></td></tr></table></figure></p>
<h2 id="&#x6D4B;&#x8BD5;&#x662F;solr&#x662F;&#x5426;&#x5DF2;&#x65B0;&#x5EFA;&#x7D22;&#x5F15;">&#x6D4B;&#x8BD5;&#x662F;solr&#x662F;&#x5426;&#x5DF2;&#x65B0;&#x5EFA;&#x7D22;&#x5F15;</h2>
<p>&#x5199;&#x5165;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5728;solr-webui&#x63A7;&#x5236;&#x53F0;&#x67E5;&#x770B;&#x65E5;&#x5FD7;&#x662F;&#x5426;&#x66F4;&#x65B0;</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">
put &apos;User&apos;,&apos;row1&apos;,&apos;data:name&apos;,&apos;u2&apos;
put &apos;User&apos;,&apos;row1&apos;,&apos;data:psd&apos;,&apos;123&apos;   
put &apos;User&apos;,&apos;row1&apos;,&apos;detail:address&apos;,&apos;address2&apos;   
put &apos;User&apos;,&apos;row1&apos;,&apos;detail:photo&apos;,&apos;photo2&apos;   

put &apos;User&apos;,&apos;row2&apos;,&apos;data:name&apos;,&apos;u2&apos;
put &apos;User&apos;,&apos;row2&apos;,&apos;data:psd&apos;,&apos;123&apos;   
put &apos;User&apos;,&apos;row2&apos;,&apos;detail:address&apos;,&apos;address2&apos;   
put &apos;User&apos;,&apos;row2&apos;,&apos;detail:photo&apos;,&apos;photo2&apos;  


put &apos;User&apos;,&apos;row3&apos;,&apos;data:name&apos;,&apos;u2&apos;
put &apos;User&apos;,&apos;row3&apos;,&apos;data:psd&apos;,&apos;123&apos;   
put &apos;User&apos;,&apos;row3&apos;,&apos;detail:address&apos;,&apos;&#x6C5F;&#x82CF;&#x7701;&#x5357;&#x4EAC;&#x5E02;&apos;   
put &apos;User&apos;,&apos;row3&apos;,&apos;detail:photo&apos;,&apos;phto3&apos;</span><br></pre></td></tr></table></figure></p>
<p><img src="solr.png" alt="solr web ui&#x67E5;&#x770B;&#x6700;&#x7EC8;&#x7ED3;&#x679C;"></p>
<p>&#x6298;&#x817E;&#x51E0;&#x5929;&#x5F04;&#x597D;&#xFF0C;&#x4E0B;&#x4E00;&#x6B65;&#x662F;&#x5982;&#x4F55;&#x4EE5;&#x6784;&#x5EFA;&#x597D;&#x7684;&#x7D22;&#x5F15;Hbase&#x5B9E;&#x73B0;&#x591A;&#x5217;&#x6761;&#x4EF6;&#x7684;&#x7EC4;&#x5408;&#x67E5;&#x8BE2;&#x3002;</p>
<h2 id="&#x6240;&#x9047;&#x95EE;&#x9898;qa">&#x6240;&#x9047;&#x95EE;&#x9898;QA</h2>
<h3 id="lily-hbase-indexer-service&#x6CE8;&#x518C;&#x9519;&#x8BEF;">Lily HBase Indexer Service&#x6CE8;&#x518C;&#x9519;&#x8BEF;</h3>
<p>&#x8BE6;&#x7EC6;&#x65E5;&#x5FD7;<br>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[WARN ][<span class="number">08</span>:<span class="number">56</span>:<span class="number">49</span>,<span class="number">677</span>][.com:<span class="number">2181</span>)] org.apache.zookeeper.ClientCnxn - Session <span class="number">0x0</span> <span class="keyword">for</span> server <span class="keyword">null</span>, unexpected error, closing socket connection and attempting reconnect</span><br><span class="line">java.net.ConnectException: Connection refused</span><br><span class="line">     at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)</span><br><span class="line">     at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:<span class="number">739</span>)</span><br><span class="line">     at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:<span class="number">350</span>)</span><br><span class="line">     at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:<span class="number">1081</span>)</span><br></pre></td></tr></table></figure></p>
<p>&#x89E3;&#x51B3;&#xFF1A;&#x5C06;&#x5E2E;&#x52A9;&#x6587;&#x6863;&#x539F;&#x6587;&#x4E2D;&#x7684;-zookeeper hbase-cluster-zookeeper:2181&#x4E2D;hbase-cluster-zookeeper&#x6362;&#x6210;zoomkeeper&#x7684;&#x4E3B;&#x673A;&#x540D;</p>
<h3 id="schemaxm&#x548C;morphlineconf&#x914D;&#x7F6E;&#x95EE;&#x9898;">schema.xm&#x548C;morphline.conf&#x914D;&#x7F6E;&#x95EE;&#x9898;</h3>
<p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ERROR  org.apache.solr.common.SolrException: ERROR: [doc=row3] unknown field <span class="string">&apos;data&apos;</span></span><br><span class="line">trueat org.apache.solr.update.DocumentBuilder.toDocument(DocumentBuilder.java:<span class="number">185</span>)</span><br></pre></td></tr></table></figure></p>
<p>&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#xFF1A;<br>
Thanks for the response. In the meantime I got a solution which is fine for me using: &lt;dynamicField name=&quot;*&quot; type=&quot;string&quot; indexed=&quot;true&quot; stored=&quot;true&quot; /&gt; But type=&quot;ignored&quot; is a good hint once I want to get rid of the fields I do not need, thanks. &#x2013;</p>
<p>schema&#x65B0;&#x589E;&#x914D;&#x7F6E;&#xFF1A;</p>
<p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">dynamicField</span> <span class="attribute">name</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;string&quot;</span> <span class="attribute">indexed</span>=<span class="value">&quot;true&quot;</span> <span class="attribute">stored</span>=<span class="value">&quot;true&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">field</span> <span class="attribute">name</span>=<span class="value">&quot;data&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;string&quot;</span> <span class="attribute">indexed</span>=<span class="value">&quot;true&quot;</span> <span class="attribute">stored</span>=<span class="value">&quot;true&quot;</span> <span class="attribute">multiValued</span>=<span class="value">&quot;true&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>&#x4FEE;&#x6539;schema.xml&#x540E;&#xFF0C;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x66F4;&#x65B0;&#x914D;&#x7F6E;&#xFF1A;
solrctl instancedir --update hbase-collection-user   $HOME/hbase-collection-user
solrctl collection  --reload  hbase-collection-user</p>
<p>&#x4FEE;&#x6539;Collection
&#x5F53;&#x6211;&#x4EEC;&#x521B;&#x5EFA;Collection&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x4FEE;&#x6539;schema.xml&#x6587;&#x4EF6;&#x91CD;&#x65B0;&#x914D;&#x7F6E;&#x9700;&#x8981;&#x7D22;&#x5F15;&#x7684;&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x6309;&#x5982;&#x4E0B;&#x64CD;&#x4F5C;&#xFF1A;</p>
<ul>
<li>&#x5982;&#x679C;&#x662F;&#x4FEE;&#x6539;&#x539F;&#x6709;schema.xml&#x4E2D;&#x5B57;&#x6BB5;&#x503C;&#xFF0C;&#x800C;&#x5728;solr&#x4E2D;&#x5DF2;&#x7ECF;&#x63D2;&#x5165;&#x4E86;&#x7D22;&#x5F15;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6E05;&#x7A7A;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x96C6;&#xFF0C;&#x6E05;&#x7A7A;&#x6570;&#x636E;&#x96C6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;solr API&#x6765;&#x5B8C;&#x6210;&#x3002;</li>
<li>&#x5982;&#x679C;&#x662F;&#x5728;&#x539F;&#x6709;schema.xml&#x4E2D;&#x52A0;&#x5165;&#x65B0;&#x7684;&#x7D22;&#x5F15;&#x5B57;&#x6BB5;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x8DF3;&#x8FC7;1&#xFF0C;&#x76F4;&#x63A5;&#x6267;&#x884C;&#xFF1A;</li>
</ul>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">solrctl instancedir --update solrtest $HOME/solrtest   
solrctl collection --reload solrtest</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x591A;&#x4E2A;hbasetable&#x65F6;schemaxml&#x7684;&#x914D;&#x7F6E;&#x548C;morphlineconf&#x7684;&#x914D;&#x7F6E;&#x5982;&#x4F55;&#x7EC4;&#x5408;">&#x591A;&#x4E2A;HbaseTable&#x65F6;schema.xml&#x7684;&#x914D;&#x7F6E;&#x548C;morphline.conf&#x7684;&#x914D;&#x7F6E;&#x5982;&#x4F55;&#x7EC4;&#x5408;</h3>
<p>&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#xFF1A;
<a href="https://github.com/jshmain/cloudera-search/blob/master/email-search/email-schema.xml">email-schema&#x793A;&#x4F8B;</a></p>
<p>Q&#xFF1A;morphline.conf&#x548C;morphline-hbase-mapper.xml&#x6587;&#x4EF6;&#x662F;&#x5426;&#x6BCF;&#x4E2A;HbaseTable&#x90FD;&#x8981;&#x5BF9;&#x5E94;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;?<br>
A&#xFF1A;&#x6BCF;&#x4E00;&#x4E2A;Hbase Table&#x5BF9;&#x5E94;&#x751F;&#x6210;&#x4E00;&#x4E2A;Solr&#x7684;Collection&#x7D22;&#x5F15;&#xFF0C;&#x6BCF;&#x4E2A;&#x7D22;&#x5F15;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;Lily HBase Indexer &#x914D;&#x7F6E;&#x6587;&#x4EF6;morphlines.conf&#x548C;morphline&#x914D;&#x7F6E;&#x6587;&#x4EF6;morphline-hbase-mapper.xml&#xFF0C;&#x5176;&#x4E2D;morphlines.conf&#x53EF;&#x7531;CDH&#x7684;Key-Value Store Indexer&#x63A7;&#x5236;&#x53F0;&#x7BA1;&#x7406;&#xFF0C;&#x4EE5;id&#x533A;&#x5206;</p>
<p>&#x5B98;&#x65B9;&#x8BF4;&#x660E;&#xFF1A;
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Creating <span class="operator">a</span> Lily HBase Indexer configuration  </span><br><span class="line">Individual Lily HBase Indexers are configured <span class="keyword">using</span> <span class="operator">the</span> hbase-indexer <span class="command"><span class="keyword">command</span> <span class="title">line</span> <span class="title">utility</span>.   </span></span><br><span class="line">Typically, there is <span class="constant">one</span> Lily HBase Indexer configuration <span class="keyword">for</span> <span class="keyword">each</span> HBase table,   </span><br><span class="line">but there can be <span class="keyword">as</span> many Lily HBase Indexer configurations <span class="keyword">as</span> there are tables <span class="operator">and</span> column families <span class="operator">and</span> corresponding collections <span class="operator">in</span> <span class="operator">the</span> SolrCloud.   </span><br><span class="line">Each Lily HBase Indexer configuration is defined <span class="operator">in</span> <span class="operator">an</span> XML <span class="built_in">file</span> such <span class="keyword">as</span> morphline-hbase-mapper.xml.</span><br></pre></td></tr></table></figure></p>
<h3 id="key-value-store-indexer&#x670D;&#x52A1;&#x603B;&#x662F;&#x610F;&#x5916;&#x505C;&#x6B62;">Key-Value Store Indexer&#x670D;&#x52A1;&#x603B;&#x662F;&#x610F;&#x5916;&#x505C;&#x6B62;</h3>
<ul>
<li>&#x95EE;&#x9898;&#x63CF;&#x8FF0;&#xFF1A;&#x91CD;&#x65B0;&#x6784;&#x5EFA;&#x7684;Solr Collection&#x548C;Index&#xFF0C;&#x7A0B;&#x5E8F;&#x6279;&#x91CF;&#x5199;&#x5165;&#x65F6;&#x5C31;&#x670D;&#x52A1;&#x5C31;&#x81EA;&#x52A8;&#x505C;&#x6B62;</li>
<li>&#x89E3;&#x51B3;&#xFF1A;
1&#xFF09;&#x5220;&#x9664;Key-Value Store Indexer&#x5E76;&#x91CD;&#x65B0;&#x6DFB;&#x52A0;&#xFF0C;&#x6DFB;&#x52A0;&#x65F6;&#x9009;&#x62E9;3&#x4E2A;&#x89D2;&#x8272;&#x5B9E;&#x4F8B;&#xFF08;&#x524D;&#x9762;&#x662F;1&#x53F0;&#xFF09;&#xFF0C;
2&#xFF09;&#x91CD;&#x8BD5;&#x5199;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x5199;&#x5165;&#x4E00;&#x6B21;&#x6B7B;&#x4E00;&#x4E2A;&#xFF0C;&#x5199;&#x5B8C;&#x4E09;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x6B7B;&#x5149;&#x4E86;
3&#xFF09;&#x67E5;&#x770B;&#x65E5;&#x5FD7;&#xFF0C;&#x627E;&#x5230;&#x9519;&#x8BEF;&#x63CF;&#x8FF0;&#xFF1A;
2015-09-11 11:28:40,732 INFO org.apache.zookeeper.ClientCnxn: Opening socket connection to server master.lt.com/192.168.1.100:2181. Will not attempt to authenticate using SASL (unknown error)</li>
</ul>
<p>&#x624B;&#x52A8;&#x5B9E;&#x73B0;&#xFF1F;&#xFF1F;&#xFF1F;</p>
<h3 id="&#x5BF9;hbasetable&#x5DF2;&#x6709;&#x6570;&#x636E;&#x65B0;&#x5EFA;&#x7D22;&#x5F15;">&#x5BF9;HBaseTable&#x5DF2;&#x6709;&#x6570;&#x636E;&#x65B0;&#x5EFA;&#x7D22;&#x5F15;</h3>
<p>&#x9700;&#x8981;&#x7528;&#x5230;Lily HBase Indexer&#x7684;&#x6279;&#x5904;&#x7406;&#x7D22;&#x5F15;&#x529F;&#x80FD;&#x4E86;</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo hadoop --config /etc/hadoop/conf \
jar /usr/lib/hbase-solr/tools/hbase-indexer-mr-1.5-cdh5.4.4-job.jar \
--conf /etc/hbase/conf/hbase-site.xml \
-D &apos;mapred.child.java.opts=-Xmx500m&apos; \
--hbase-indexer-zk master:2181 \
--collection hbase-collection-user \
--hbase-indexer-name userIndexer \
--hbase-indexer-file $HOME/hbase-collection-user/conf/morphline-hbase-mapper.xml \
--go-live \
``` 

  
&#x9519;&#x8BEF;&#x65E5;&#x5FD7;  

``` java
Caused by: java.io.IOException Can not find resource  solrconfig.xml in classpath 
or  /root/file:/tmp/hadoop-root/mapred/local/1441858645500/6a1a458e-35e2-4f66-82df-02795ba44e2c.solr.zip/collection1/conf</span><br></pre></td></tr></table></figure></p>
<p>&#x4E34;&#x65F6;&#x4FEE;&#x6539;$HOME/hbase-collection-user/conf/morphline-hbase-mapper.xml&#x4E2D;morphlineFile&#x4E3A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;
&lt;param name=&quot;morphlineFile&quot; value=&quot;/root/hbase-collection-user/conf/morphlines.conf&quot;/&gt;</p>
<p>&#x5220;&#x9664;/etc/solr/conf.dist/&#x4E0B;&#x7684;collection1&#xFF0C;&#x53EF;&#x80FD;&#x662F;&#x5B89;&#x88C5;&#x65F6;&#x9ED8;&#x8BA4;&#x65B0;&#x5EFA;&#x7684;</p>
<p>&#x53EF;&#x80FD;&#x9ED8;&#x8BA4;&#x8BFB;&#x53D6;&#x7684;&#x662F;/etc/hbase-solr/conf.dist&#x76EE;&#x5F55;&#x7684;morphline.conf</p>
<p>/root/hbase-collection-userInfo/conf/solrconfig.xml&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x6253;&#x5305;&#x6210;zip&#x540E;&#x5E94;&#x8BE5;&#x4E5F;&#x662F;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x62A5;&#x9519;&#xFF1F;</p>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="&#x5173;&#x4E8E;hbase&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;">&#x5173;&#x4E8E;Hbase&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;</h1>
<p>HBase &#x662F;&]]>
    </summary>
    
      <category term="CDH" scheme="http://geosmart.github.io/tags/CDH/"/>
    
      <category term="Hadoop" scheme="http://geosmart.github.io/tags/Hadoop/"/>
    
      <category term="Hbase" scheme="http://geosmart.github.io/tags/Hbase/"/>
    
      <category term="Solr" scheme="http://geosmart.github.io/tags/Solr/"/>
    
      <category term="分布式" scheme="http://geosmart.github.io/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
      <category term="大数据" scheme="http://geosmart.github.io/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[一路见识的SQL/NOSQL数据库ORM]]></title>
    <link href="http://geosmart.github.io/2015/08/16/%E4%B8%80%E8%B7%AF%E8%A7%81%E8%AF%86%E7%9A%84SQL-NOSQL%E6%95%B0%E6%8D%AE%E5%BA%93ORM/"/>
    <id>http://geosmart.github.io/2015/08/16/一路见识的SQL-NOSQL数据库ORM/</id>
    <published>2015-08-16T12:02:08.000Z</published>
    <updated>2015-09-07T13:28:10.832Z</updated>
    <content type="html"><![CDATA[<p>&#x4E00;&#x8DEF;&#x8D70;&#x6765;&#xFF0C;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x5230;&#x975E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E0D;&#x89C9;&#x5DF2;&#x63A5;&#x89E6;&#x4E86;&#x4E0D;&#x5C11;&#x7684;ORM&#x6846;&#x67B6;&#x4E5F;&#x5728;&#x8FD9;&#x4E9B;ORM&#x6846;&#x67B6;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x79EF;&#x7D2F;&#x4E86;&#x4E00;&#x4E9B;&#x901A;&#x7528;&#x7684;DAO&#xFF0C;&#x4E0B;&#x9762;&#x4ECE; <em>&#x5B66;&#x4E60;&#x7B14;&#x8BB0;&#xFF08;&#x539F;&#x7406;&#x3001;&#x4F18;&#x52BF;&#x3001;&#x52A3;&#x52BF;&#xFF09;</em> &#x548C; <em>&#x4E2A;&#x4EBA;&#x603B;&#x7ED3;&#xFF08;&#x8E29;&#x8FC7;&#x7684;&#x5751;&#xFF0C;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF09;</em> &#x4E24;&#x65B9;&#x9762;&#x5C55;&#x5F00;&#x63CF;&#x8FF0;&#xFF1A;</p>
<h1 id="sql">SQL</h1>
<h2 id="linq">LINQ</h2>
<p>LINQ&#x5168;&#x79F0;Language Integrated Query
&#x5927;&#x5B66;&#x671F;&#x95F4;&#x63A5;&#x89E6;DotNet/C#&#x4E00;&#x822C;&#x4F1A;&#x5BF9;LINQ&#x6709;&#x6240;&#x4E86;&#x89E3;&#xFF0C;&#x5370;&#x8C61;&#x4E2D;&#x662F;&#x5C01;&#x88C5;&#x4E86;DAO&#x5C42;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E00;&#x4E9B;&#x5982;select/where/group by&#x7B49;&#x5173;&#x952E;&#x8BCD;&#x4EE5;&#x719F;&#x6089;&#x7684;&#x4EE3;&#x7801;&#x5F62;&#x5F0F;&#x8FDB;&#x884C;&#x6570;&#x636E;CRUD&#x64CD;&#x4F5C;
&#x4E0B;&#x9762;&#x662F;&#x5B98;&#x65B9;&#x7684;LINQ&#x7684;&#x5B98;&#x65B9;&#x63CF;&#x8FF0;</p>
<p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">LINQ <span class="keyword">to</span> SQL &#x662F; .NET Framework <span class="number">3.5</span> &#x7248;&#x7684;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x7528;&#x4E8E;&#x5C06;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x5BF9;&#x8C61;&#x7BA1;&#x7406;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x57FA;&#x7840;&#x7ED3;&#x6784;&#x3002;</span><br><span class="line">&#x5728; LINQ <span class="keyword">to</span> SQL &#x4E2D;&#xFF0C;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#x6620;&#x5C04;&#x5230;&#x7528;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x6240;&#x7528;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x8868;&#x793A;&#x7684;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#x3002;</span><br><span class="line">&#x5F53;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;LINQ <span class="keyword">to</span> SQL &#x4F1A;&#x5C06;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x8BED;&#x8A00;&#x96C6;&#x6210;&#x67E5;&#x8BE2;&#x8F6C;&#x6362;&#x4E3A; SQL&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5B83;&#x4EEC;&#x53D1;&#x9001;&#x5230;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x6267;&#x884C;&#x3002;</span><br><span class="line">&#x5F53;&#x6570;&#x636E;&#x5E93;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x65F6;&#xFF0C;LINQ <span class="keyword">to</span> SQL &#x4F1A;&#x5C06;&#x5B83;&#x4EEC;&#x8F6C;&#x6362;&#x56DE;&#x60A8;&#x53EF;&#x4EE5;&#x7528;&#x60A8;&#x81EA;&#x5DF1;&#x7684;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x5904;&#x7406;&#x7684;&#x5BF9;&#x8C61;&#x3002;</span><br><span class="line">&#x4F7F;&#x7528; Visual Studio &#x7684;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x901A;&#x5E38;&#x4F7F;&#x7528;&#x5BF9;&#x8C61;&#x5173;&#x7CFB;&#x8BBE;&#x8BA1;&#x5668;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x8BB8;&#x591A; LINQ <span class="keyword">to</span> SQL &#x529F;&#x80FD;&#x7684;&#x7528;&#x6237;&#x754C;&#x9762;&#x3002;</span><br></pre></td></tr></table></figure></p>
<p>&#x540E;&#x6765;DotNET&#x6CA1;&#x6DF1;&#x5165;&#x5B66;&#x4E60;&#x4E86;&#xFF0C;&#x5DE5;&#x4F5C;&#x7684;&#x6280;&#x672F;&#x9009;&#x578B;&#x90FD;&#x662F;J2EE&#x548C;&#x4E00;&#x654F;&#x6377;&#x811A;&#x672C;&#x7C7B;&#xFF08;Python&#xFF09;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x4E0D;&#x505A;&#x592A;&#x591A;&#x603B;&#x7ED3;</p>
<h2 id="spring-jdbc">Spring-JDBC</h2>
<p><a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jdbc.html">&#x5B98;&#x65B9;&#x6587;&#x6863;</a>
Spring Framework JDBC&#x4F1A;&#x5C01;&#x88C5;&#x5904;&#x7406;JDBC&#x5E95;&#x5C42;&#x7684;&#x7EC6;&#x8282;&#xFF0C;&#x8BA9;JDBC&#x66F4;&#x53CB;&#x597D;&#xFF0C;&#x5177;&#x4F53;&#x5982;&#x4E0B;</p>
<p>Spring-JDBC&#x81EA;&#x52A8;&#x5904;&#x7406;&#x7684;</p>
<ul>
<li>Open  connection.</li>
<li>Prepare and execute the statement.</li>
<li>Set up the loop to iterate through the results (if any).</li>
<li>Process any exception.</li>
<li>Handle transactions.</li>
<li>Close the connection, statement and resultset.<br>
&#x7528;&#x6237;&#x9700;&#x8BBE;&#x7F6E;&#x7684;</li>
<li>Define connection parameters.</li>
<li>Specify the SQL statement.</li>
<li>Declare parameters and provide parameter values</li>
<li>Do the work for each iteration.</li>
</ul>
<p>Spring-JDBC&#x7684;&#x4F7F;&#x7528;&#x6982;&#x8981;</p>
<ul>
<li>
<p>JdbcTemplate - &#x8FD9;&#x662F;&#x7ECF;&#x5178;&#x7684;&#x4E5F;&#x662F;&#x6700;&#x5E38;&#x7528;&#x7684;Spring&#x5BF9;&#x4E8E;JDBC&#x8BBF;&#x95EE;&#x7684;&#x65B9;&#x6848;&#x3002;&#x8FD9;&#x4E5F;&#x662F;&#x6700;&#x4F4E;&#x7EA7;&#x522B;&#x7684;&#x5C01;&#x88C5;, &#x5176;&#x4ED6;&#x7684;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#x4E8B;&#x5B9E;&#x4E0A;&#x5728;&#x5E95;&#x5C42;&#x4F7F;&#x7528;&#x4E86;JdbcTemplate&#x4F5C;&#x4E3A;&#x5176;&#x5E95;&#x5C42;&#x7684;&#x5B9E;&#x73B0;&#x57FA;&#x7840;&#x3002;JdbcTemplate&#x5728;JDK 1.4&#x4EE5;&#x4E0A;&#x7684;&#x73AF;&#x5883;&#x4E0A;&#x5DE5;&#x4F5C;&#x5F97;&#x5F88;&#x597D;&#x3002;</p>
</li>
<li>
<p>NamedParameterJdbcTemplate - &#x5BF9;JdbcTemplate&#x505A;&#x4E86;&#x5C01;&#x88C5;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x66F4;&#x52A0;&#x4FBF;&#x6377;&#x7684;&#x57FA;&#x4E8E;&#x547D;&#x540D;&#x53C2;&#x6570;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x800C;&#x4E0D;&#x662F;&#x4F20;&#x7EDF;&#x7684;JDBC&#x6240;&#x4F7F;&#x7528;&#x7684;&#x201C;?&#x201D;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x7684;&#x5360;&#x4F4D;&#x7B26;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5728;&#x4F60;&#x9700;&#x8981;&#x4E3A;&#x67D0;&#x4E2A;SQL&#x6307;&#x5B9A;&#x8BB8;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x65F6;&#xFF0C;&#x663E;&#x5F97;&#x66F4;&#x52A0;&#x76F4;&#x89C2;&#x800C;&#x6613;&#x7528;&#x3002;&#x8BE5;&#x7279;&#x6027;&#x5FC5;&#x987B;&#x5DE5;&#x4F5C;&#x5728;JDK 1.4&#x4EE5;&#x4E0A;&#x3002;</p>
</li>
<li>
<p>SimpleJdbcTemplate - &#x8FD9;&#x4E2A;&#x7C7B;&#x7ED3;&#x5408;&#x4E86;JdbcTemplate&#x548C;NamedParameterJdbcTemplate&#x7684;&#x6700;&#x5E38;&#x7528;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x540C;&#x65F6;&#x5B83;&#x4E5F;&#x5229;&#x7528;&#x4E86;&#x4E00;&#x4E9B;Java5&#x7684;&#x7279;&#x6027;&#x6240;&#x5E26;&#x6765;&#x7684;&#x4F18;&#x52BF;&#xFF0C;&#x4F8B;&#x5982;&#x6CDB;&#x578B;&#x3001;varargs&#x548C;autoboxing&#x7B49;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x4F9B;&#x4E86;&#x66F4;&#x52A0;&#x7B80;&#x4FBF;&#x7684;API&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;&#x3002;&#x9700;&#x8981;&#x5DE5;&#x4F5C;&#x5728;Java 5&#x4EE5;&#x4E0A;&#x7684;&#x73AF;&#x5883;&#x4E2D;&#x3002;</p>
</li>
<li>
<p>SimpleJdbcInsert &#x548C; SimpleJdbcCall - &#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x53EF;&#x4EE5;&#x5145;&#x5206;&#x5229;&#x7528;&#x6570;&#x636E;&#x5E93;&#x5143;&#x6570;&#x636E;&#x7684;&#x7279;&#x6027;&#x6765;&#x7B80;&#x5316;&#x914D;&#x7F6E;&#x3002;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x8FDB;&#x884C;&#x7F16;&#x7A0B;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4EC5;&#x4EC5;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x5E93;&#x8868;&#x540D;&#x6216;&#x8005;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x540D;&#x79F0;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;Map&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x3002;&#x5176;&#x4E2D;Map&#x7684;key&#x9700;&#x8981;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x3002;&#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x901A;&#x5E38;&#x548C;SimpleJdbcTemplate&#x914D;&#x5408;&#x4F7F;&#x7528;&#x3002;&#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x9700;&#x8981;&#x5DE5;&#x4F5C;&#x5728;JDK 5&#x4EE5;&#x4E0A;&#xFF0C;&#x540C;&#x65F6;&#x6570;&#x636E;&#x5E93;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x8DB3;&#x591F;&#x7684;&#x5143;&#x6570;&#x636E;&#x4FE1;&#x606F;&#x3002;</p>
</li>
<li>
<p>RDBMS &#x5BF9;&#x8C61;&#x5305;&#x62EC;MappingSqlQuery, SqlUpdate and StoredProcedure - &#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5141;&#x8BB8;&#x4F60;&#x5728;&#x521D;&#x59CB;&#x5316;&#x4F60;&#x7684;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x5C42;&#x65F6;&#x521B;&#x5EFA;&#x53EF;&#x91CD;&#x7528;&#x5E76;&#x4E14;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x8BE5;&#x5BF9;&#x8C61;&#x5728;&#x4F60;&#x5B9A;&#x4E49;&#x4E86;&#x4F60;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#xFF0C;&#x58F0;&#x660E;&#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x5E76;&#x7F16;&#x8BD1;&#x76F8;&#x5E94;&#x7684;Query&#x4E4B;&#x540E;&#x88AB;&#x6A21;&#x578B;&#x5316;&#x3002;&#x4E00;&#x65E6;&#x6A21;&#x578B;&#x5316;&#x5B8C;&#x6210;&#xFF0C;&#x4EFB;&#x4F55;&#x6267;&#x884C;&#x51FD;&#x6570;&#x5C31;&#x53EF;&#x4EE5;&#x4F20;&#x5165;&#x4E0D;&#x540C;&#x7684;&#x53C2;&#x6570;&#x5BF9;&#x4E4B;&#x8FDB;&#x884C;&#x591A;&#x6B21;&#x8C03;&#x7528;&#x3002;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x9700;&#x8981;&#x5DE5;&#x4F5C;&#x5728;JDK 1.4&#x4EE5;&#x4E0A;&#x3002;</p>
</li>
</ul>
<p>&#x4F18;&#x52BF;&#xFF1A;&#x5F3A;&#x5927;&#x3001;&#x4F18;&#x96C5;&#x3001;&#x8F7B;&#x91CF;&#x3001;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#x7EF4;&#x62A4;&#xFF0C;&#x4E0E;JDBC&#x76F8;&#x5BF9;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x5197;&#x4F59;DAO&#x5C42;&#x4EE3;&#x7801;</p>
<h2 id="hibernate">Hibernate</h2>
<h2 id="mybatis">MyBatis</h2>
<p>MyBatis&#x7684;&#x524D;&#x8EAB;&#x53EB;iBatis&#xFF0C;&#x672C;&#x662F;apache&#x7684;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x9879;&#x76EE;, 2010&#x5E74;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x7531;apache software foundation &#x8FC1;&#x79FB;&#x5230;&#x4E86;google code&#xFF0C;&#x5E76;&#x4E14;&#x6539;&#x540D;&#x4E3A;MyBatis&#x3002;<br>
MyBatis &#x662F;&#x652F;&#x6301;&#x5B9A;&#x5236;&#x5316; SQL&#x3001;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x4EE5;&#x53CA;&#x9AD8;&#x7EA7;&#x6620;&#x5C04;&#x7684;&#x4F18;&#x79C0;&#x7684;&#x6301;&#x4E45;&#x5C42;&#x6846;&#x67B6;&#x3002;MyBatis &#x907F;&#x514D;&#x4E86;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684; JDBC &#x4EE3;&#x7801;&#x548C;&#x624B;&#x52A8;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#x4EE5;&#x53CA;&#x83B7;&#x53D6;&#x7ED3;&#x679C;&#x96C6;&#x3002;MyBatis &#x53EF;&#x4EE5;&#x5BF9;&#x914D;&#x7F6E;&#x548C;&#x539F;&#x751F;Map&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x7684; XML &#x6216;&#x6CE8;&#x89E3;&#xFF0C;&#x5C06;&#x63A5;&#x53E3;&#x548C; Java &#x7684; POJOs(Plain Old Java Objects,&#x666E;&#x901A;&#x7684; Java&#x5BF9;&#x8C61;)&#x6620;&#x5C04;&#x6210;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002;
Mybatis&#x7684;&#x529F;&#x80FD;&#x67B6;&#x6784;&#x5206;&#x4E3A;&#x4E09;&#x5C42;&#xFF1A;</p>
<ol>
<li>API&#x63A5;&#x53E3;&#x5C42;&#xFF1A;&#x63D0;&#x4F9B;&#x7ED9;&#x5916;&#x90E8;&#x4F7F;&#x7528;&#x7684;&#x63A5;&#x53E3;API&#xFF0C;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x672C;&#x5730;API&#x6765;&#x64CD;&#x7EB5;&#x6570;&#x636E;&#x5E93;&#x3002;&#x63A5;&#x53E3;&#x5C42;&#x4E00;&#x63A5;&#x6536;&#x5230;&#x8C03;&#x7528;&#x8BF7;&#x6C42;&#x5C31;&#x4F1A;&#x8C03;&#x7528;&#x6570;&#x636E;&#x5904;&#x7406;&#x5C42;&#x6765;&#x5B8C;&#x6210;&#x5177;&#x4F53;&#x7684;&#x6570;&#x636E;&#x5904;&#x7406;&#x3002;</li>
<li>&#x6570;&#x636E;&#x5904;&#x7406;&#x5C42;&#xFF1A;&#x8D1F;&#x8D23;&#x5177;&#x4F53;&#x7684;SQL&#x67E5;&#x627E;&#x3001;SQL&#x89E3;&#x6790;&#x3001;SQL&#x6267;&#x884C;&#x548C;&#x6267;&#x884C;&#x7ED3;&#x679C;&#x6620;&#x5C04;&#x5904;&#x7406;&#x7B49;&#x3002;&#x5B83;&#x4E3B;&#x8981;&#x7684;&#x76EE;&#x7684;&#x662F;&#x6839;&#x636E;&#x8C03;&#x7528;&#x7684;&#x8BF7;&#x6C42;&#x5B8C;&#x6210;&#x4E00;&#x6B21;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x3002;</li>
<li>&#x57FA;&#x7840;&#x652F;&#x6491;&#x5C42;&#xFF1A;&#x8D1F;&#x8D23;&#x6700;&#x57FA;&#x7840;&#x7684;&#x529F;&#x80FD;&#x652F;&#x6491;&#xFF0C;&#x5305;&#x62EC;&#x8FDE;&#x63A5;&#x7BA1;&#x7406;&#x3001;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x3001;&#x914D;&#x7F6E;&#x52A0;&#x8F7D;&#x548C;&#x7F13;&#x5B58;&#x5904;&#x7406;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x5171;&#x7528;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x5C06;&#x4ED6;&#x4EEC;&#x62BD;&#x53D6;&#x51FA;&#x6765;&#x4F5C;&#x4E3A;&#x6700;&#x57FA;&#x7840;&#x7684;&#x7EC4;&#x4EF6;&#x3002;&#x4E3A;&#x4E0A;&#x5C42;&#x7684;&#x6570;&#x636E;&#x5904;&#x7406;&#x5C42;&#x63D0;&#x4F9B;&#x6700;&#x57FA;&#x7840;&#x7684;&#x652F;&#x6491;&#x3002;</li>
</ol>
<h2 id="mybatis&#x4E0E;hibernate&#x6BD4;&#x8F83;">Mybatis&#x4E0E;Hibernate&#x6BD4;&#x8F83;</h2>
<p>Mybatis&#xFF1A;&#x5C0F;&#x5DE7;&#x3001;&#x65B9;&#x4FBF;&#x3001;&#x9AD8;&#x6548;&#x3001;&#x7B80;&#x5355;&#x3001;&#x76F4;&#x63A5;&#x3001;&#x534A;&#x81EA;&#x52A8;&#x3001;&#x79FB;&#x690D;&#x6027;&#x4F4E;
Hibernate&#xFF1A;&#x5F3A;&#x5927;&#x3001;&#x65B9;&#x4FBF;&#x3001;&#x9AD8;&#x6548;&#x3001;&#x590D;&#x6742;&#x3001;&#x7ED5;&#x5F2F;&#x5B50;&#x3001;&#x5168;&#x81EA;&#x52A8;&#x3001;&#x79FB;&#x690D;&#x6027;&#x9AD8;</p>
<h2 id="mybatis&#x5E94;&#x7528;&#x573A;&#x666F;">Mybatis&#x5E94;&#x7528;&#x573A;&#x666F;</h2>
<p>&#x4E00;&#x76F4;&#x5728;&#x7528;Hibnernate&#xFF0C;&#x62BD;&#x53D6;&#x4E00;&#x4E2A;&#x5B8C;&#x5584;&#x7684;DAO&#x62BD;&#x8C61;&#x7C7B;&#x540E;&#x4F1A;&#x5C11;&#x5F88;&#x591A;&#x5DE5;&#x4F5C;&#xFF0C;&#x66F4;&#x53D7;&#x76CA;&#x4E0E;&#x5176;&#x66F4;&#x6362;&#x6570;&#x636E;&#x5E93;&#x65F6;&#x8D85;&#x5F3A;&#x7684;&#x79FB;&#x690D;&#x6027;&#xFF0C;DAO&#x5C42;&#x57FA;&#x672C;&#x4E0D;&#x4F5C;&#x4FEE;&#x6539;&#xFF0C;&#x66F4;&#x6362;&#x6570;&#x636E;&#x5E93;&#x65B9;&#x8A00;&#x5373;&#x53EF;&#x3002;&#x4F46;&#x5728;&#x4EE5;&#x4E0B;&#x573A;&#x666F;&#x65F6;&#xFF0C;Mybatis&#x81EA;&#x6709;&#x5176;&#x53EF;&#x53D6;&#x4E4B;&#x5904;&#xFF1A;</p>
<ol>
<li>&#x5F53;&#x65E0;&#x6CD5;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7ED3;&#x6784;&#x505A;&#x5230;&#x63A7;&#x5236;&#x548C;&#x4FEE;&#x6539;&#xFF0C;Mybatis&#x7684;&#x7075;&#x6D3B;&#x6027;&#x5C06;&#x6BD4;hibernate&#x66F4;&#x9002;&#x5408;&#xFF1B;</li>
<li>&#x5F53;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5904;&#x7406;&#x91CF;&#x5DE8;&#x5927;&#xFF0C;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x6781;&#x4E3A;&#x82DB;&#x523B;&#xFF0C;&#x8FD9;&#x5F80;&#x5F80;&#x610F;&#x5473;&#x7740;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x901A;&#x8FC7;&#x7ECF;&#x8FC7;&#x9AD8;&#x5EA6;&#x4F18;&#x5316;&#x7684;sql&#x8BED;&#x53E5;&#xFF08;&#x6216;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#xFF09;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#x8BBE;&#x8BA1;&#x6307;&#x6807;&#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;Mybatis&#x4F1A;&#x6709;&#x66F4;&#x597D;&#x7684;&#x53EF;&#x63A7;&#x6027;&#x548C;&#x8868;&#x73B0;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x7EC6;&#x7C92;&#x5EA6;&#x7684;&#x4F18;&#x5316;&#x3002;</li>
</ol>
<h1 id="nosql">NOSQL</h1>
<h2 id="morphia">Morphia</h2>
<h2 id="jongo">Jongo</h2>
<h2 id="spring-data-for-hadoop">Spring Data for Hadoop</h2>
<h2 id="kundera">Kundera</h2>
<h1 id="jackson-objectmapper">Jackson-ObjectMapper</h1>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x4E00;&#x8DEF;&#x8D70;&#x6765;&#xFF0C;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x5230;&#x975E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="ORM" scheme="http://geosmart.github.io/tags/ORM/"/>
    
      <category term="数据库" scheme="http://geosmart.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hadoop生态圈]]></title>
    <link href="http://geosmart.github.io/2015/08/11/Hadoop%E7%94%9F%E6%80%81%E5%9C%88/"/>
    <id>http://geosmart.github.io/2015/08/11/Hadoop生态圈/</id>
    <published>2015-08-11T08:29:41.000Z</published>
    <updated>2015-09-01T06:18:18.204Z</updated>
    <content type="html"><![CDATA[<p>&#x5F00;&#x59CB;&#x6B63;&#x5F0F;&#x63A5;&#x89E6;Hadoop&#xFF0C;&#x4ECE;CDH&#x81EA;&#x52A8;&#x5316;&#x5206;&#x5E03;&#x5F0F;&#x73AF;&#x5883;&#x90E8;&#x7F72;&#x5EF6;&#x4F38;&#x7684;Hadoop&#x751F;&#x6001;&#x5708;&#x7684;&#x672F;&#x8BED;&#xFF0C;&#x5217;&#x4E3E;&#x5982;&#x4E0B;&#xFF1A;<br>
<a href="http://www.cloudera.com/content/cloudera/zh-CN/documentation/core/v5-3-x/topics/glossary.html#topic_1_unique_3__title_27_unique_21">&#x67E5;&#x770B;&#x6240;&#x6709;&#x672F;&#x8BED;</a></p>
<h1 id="apache-accumulo">Apache Accumulo</h1>
<p>&#x57FA;&#x4E8E;&#x8C37;&#x6B4C; BigTable &#x8BBE;&#x8BA1;&#x7684;&#x5206;&#x7C7B;&#x3001;&#x5206;&#x5E03;&#x952E;&#x503C;&#x5B58;&#x50A8;&#x3002;Accumulo &#x4E3A;&#x5728; HDFS &#x4E0A;&#x8FD0;&#x884C;&#x7684; NoSQL DBMS&#xFF0C;&#x652F;&#x6301;&#x9AD8;&#x6548;&#x5B58;&#x50A8;&#x548C;&#x7ED3;&#x6784;&#x5316;&#x6570;&#x636E;&#x68C0;&#x7D22;&#xFF0C;&#x5305;&#x62EC;&#x67E5;&#x8BE2;&#x8303;&#x56F4;&#x3002;Accumulo &#x8868;&#x53EF;&#x7528;&#x4F5C; MapReduce &#x4F5C;&#x4E1A;&#x7684;&#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x3002;Accumulo &#x529F;&#x80FD;&#x5305;&#x62EC;&#x81EA;&#x52A8;&#x8D1F;&#x8F7D;&#x5E73;&#x8861;&#x548C;&#x5206;&#x533A;&#x3001;&#x6570;&#x636E;&#x538B;&#x7F29;&#x548C;&#x7EC6;&#x7C92;&#x5EA6;&#x5B89;&#x5168;&#x6807;&#x7B7E;&#x3002;</p>
<h1 id="apache-avro">Apache Avro</h1>
<p>&#x5728;&#x7F51;&#x4E0A;&#x5B58;&#x50A8;&#x548C;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x7CFB;&#x7EDF;&#x3002;Avro &#x4E3A; Avro &#x6570;&#x636E;&#x5E8F;&#x5217;&#xFF08;&#x901A;&#x5E38;&#x79F0;&#x4E3A;&#x201C;Avro &#x6570;&#x636E;&#x6587;&#x4EF6;&#x201D;&#xFF09;&#x63D0;&#x4F9B;&#x4E30;&#x5BCC;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x3001;&#x7D27;&#x51D1;&#x7684;&#x4E8C;&#x7EA7;&#x5236;&#x7F16;&#x7801;&#x548C;&#x5BB9;&#x5668;&#x6587;&#x4EF6;&#x7684;&#x652F;&#x6301;&#x3002;Avro &#x72EC;&#x7ACB;&#x4E8E;&#x8BED;&#x8A00;&#xFF0C;&#x53EF;&#x4F7F;&#x7528;&#x591A;&#x4E2A;&#x8BED;&#x8A00;&#x7ED1;&#x5B9A;&#xFF0C;&#x5305;&#x62EC; Java&#x3001;C&#x3001;C++&#x3001;Python &#x548C; Ruby&#x3002;&#x751F;&#x6210;&#x6216;&#x4F7F;&#x7528;&#x6587;&#x4EF6;&#x7684; CDH &#x4E2D;&#x7684;&#x6240;&#x6709;&#x7EC4;&#x4EF6;&#x652F;&#x6301; Avro &#x6570;&#x636E;&#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x3002;
Avro &#x63D0;&#x4F9B;&#x4E0E;&#x7CFB;&#x7EDF;&#xFF08;&#x5982; Apache Thrift&#xFF09;&#x548C;&#x534F;&#x8BAE;&#x7F13;&#x51B2;&#x7C7B;&#x4F3C;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<h1 id="apache-bigtop">Apache Bigtop</h1>
<p>&#x5F00;&#x53D1;&#x5C01;&#x88C5;&#x548C; Apache Hadoop &#x751F;&#x6001;&#x7CFB;&#x7EDF;&#x9879;&#x76EE;&#x7684;&#x4E92;&#x64CD;&#x4F5C;&#x6027;&#x6D4B;&#x8BD5;&#x7684;&#x9879;&#x76EE;&#x3002;</p>
<h1 id="apache-crunch">Apache Crunch</h1>
<p>&#x7528;&#x4E8E;&#x7F16;&#x5199;&#x3001;&#x6D4B;&#x8BD5;&#x548C;&#x8FD0;&#x884C; MapReduce &#x7BA1;&#x9053;&#x7684; Java &#x5E93;&#x3002;&#x8BF7;&#x53C2;&#x89C1; Apache Crunch&#x3002;</p>
<h1 id="apache-flume">Apache Flume</h1>
<p>&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x3001;&#x53EF;&#x9760;&#x53EF;&#x7528;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x7528;&#x4E8E;&#x9AD8;&#x6548;&#x6536;&#x96C6;&#x3001;&#x805A;&#x5408;&#x548C;&#x79FB;&#x52A8;&#x5927;&#x91CF;&#x6587;&#x672C;&#x6216;&#x4ECE;&#x591A;&#x4E2A;&#x4E0D;&#x540C;&#x6E90;&#x81F3;&#x96C6;&#x4E2D;&#x5F0F;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7684;&#x6D41;&#x6570;&#x636E;&#x3002;</p>
<h1 id="apache-giraph">Apache Giraph</h1>
<p>&#x4E00;&#x4E2A;&#x5728; Apache Hadoop &#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x5927;&#x578B;&#x3001;&#x5BB9;&#x9519;&#x7684;&#x56FE;&#x50CF;&#x5904;&#x7406;&#x6846;&#x67B6;&#x3002;</p>
<h1 id="apache-hadoop">Apache Hadoop</h1>
<p>&#x4E00;&#x4E2A;&#x514D;&#x8D39;&#x7684;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#x6846;&#x67B6;&#xFF0C;&#x652F;&#x6301;&#x6570;&#x636E;&#x5BC6;&#x96C6;&#x578B;&#x5206;&#x5E03;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;Apache Hadoop&#x7684;&#x6838;&#x5FC3;&#x7EC4;&#x4EF6;&#x4E3A; HDFS &#x548C; MapReduce &#x548C; YARN &#x5904;&#x7406;&#x6846;&#x67B6;&#x3002;&#x8BE5;&#x672F;&#x8BED;&#x4E5F;&#x7528;&#x4E8E;&#x4E0E; Hadoop &#x76F8;&#x5173;&#x7684;&#x751F;&#x6001;&#x7CFB;&#x7EDF;&#x9879;&#x76EE;&#xFF0C;&#x4F4D;&#x4E8E;&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x548C;&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x5904;&#x7406;&#x7684;&#x57FA;&#x7840;&#x67B6;&#x6784;&#x4E4B;&#x4E0B;&#x3002;</p>
<h1 id="mapreduce">MapReduce</h1>
<p>&#x5904;&#x7406;&#x548C;&#x751F;&#x6210;&#x5927;&#x6570;&#x636E;&#x96C6;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x5904;&#x7406;&#x6846;&#x67B6;&#x4EE5;&#x53CA;&#x5728;&#x884C;&#x4E1A;&#x6807;&#x51C6;&#x53CA;&#x5176;&#x7684;&#x5927;&#x7FA4;&#x96C6;&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x5B9E;&#x65BD;&#x3002;</p>
<p>&#x5904;&#x7406;&#x6A21;&#x578B;&#x5B9A;&#x4E49;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x51FD;&#x6570;&#xFF1A;&#x5904;&#x7406;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x6620;&#x5C04;&#x529F;&#x80FD;&#x4EE5;&#x751F;&#x6210;&#x4E00;&#x7EC4;&#x4E2D;&#x95F4;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x4EE5;&#x53CA;&#x5408;&#x5E76;&#x6240;&#x6709;&#x4E0E;&#x540C;&#x4E00;&#x4E2D;&#x95F4;&#x952E;&#x5173;&#x8054;&#x7684;&#x4E2D;&#x95F4;&#x503C;&#x7684;&#x7B80;&#x5316;&#x51FD;&#x6570;&#x3002;</p>
<p>MapReduce &#x4F5C;&#x4E1A;&#x533A;&#x5206;&#x8F93;&#x5165;&#x6570;&#x636E;&#x96C6;&#x81F3;&#x72EC;&#x7ACB;&#x6570;&#x636E;&#x5757;&#xFF0C;&#x8BE5;&#x6570;&#x636E;&#x5757;&#x7531;&#x6620;&#x5C04;&#x51FD;&#x6570;&#x4EE5;&#x5E76;&#x884C;&#x65B9;&#x5F0F;&#x5904;&#x7406;&#x3002;&#x6846;&#x67B6;&#x5BF9;&#x6620;&#x5C04;&#x7684;&#x8F93;&#x51FA;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x8F93;&#x5165;&#x5230;&#x7B80;&#x5316;&#x51FD;&#x6570;&#x3002;&#x901A;&#x5E38;&#x4F5C;&#x4E1A;&#x7684;&#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x5B58;&#x50A8;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x3002;</p>
<p>&#x5B9E;&#x65BD;&#x4E3A;&#x914D;&#x7F6E;&#x548C;&#x63D0;&#x4EA4;&#x4F5C;&#x4E1A;&#x3001;&#x4F5C;&#x4E1A;&#x8C03;&#x5EA6;&#x548C;&#x7BA1;&#x7406;&#x3001;&#x641C;&#x7D22;&#x5E93;&#x3001;&#x6392;&#x5E8F;&#x3001;&#x7D22;&#x5F15;&#x3001;&#x8F6C;&#x6362;&#x7D22;&#x5F15;&#x3001;&#x8BCD;&#x8BED;&#x5171;&#x73B0;&#x7B97;&#x6CD5;&#x548C;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x63D0;&#x4F9B; API&#x3002;&#x8FD0;&#x884C;&#x65F6;&#x7CFB;&#x7EDF;&#x8D1F;&#x8D23;&#x5904;&#x7406;&#x533A;&#x5206;&#x8F93;&#x5165;&#x6570;&#x636E;&#x3001;&#x8DE8;&#x673A;&#x5668;&#x7EC4;&#x8C03;&#x5EA6;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x3001;&#x5904;&#x7406;&#x673A;&#x5668;&#x6545;&#x969C;&#x548C;&#x7BA1;&#x7406;&#x9700;&#x8981;&#x7684;&#x673A;&#x5668;&#x95F4;&#x901A;&#x4FE1;&#x7684;&#x7EC6;&#x8282;&#x3002;</p>
<p>MapReduce v1 (MRv1)
MapReduce &#x4F5C;&#x4E1A;&#x6267;&#x884C;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x95F4;&#x6846;&#x67B6;&#x3002;&#x5B83;&#x5B9A;&#x4E49;&#x4E24;&#x4E2A;&#x5B88;&#x62A4;&#x7A0B;&#x5E8F;&#xFF1A;</p>
<p>JobTracker - &#x534F;&#x8C03;&#x8FD0;&#x884C; MapReduce&#x4F5C;&#x4E1A;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x548C;&#x4F5C;&#x4E1A;&#x751F;&#x547D;&#x5468;&#x671F;&#x7BA1;&#x7406;&#x3002;&#x5728; YARN &#x4E2D;&#xFF0C;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#x7531;&#x4E24;&#x4E2A;&#x5355;&#x72EC;&#x7EC4;&#x4EF6;&#x6267;&#x884C;&#x3002;
TaskTracker - &#x8FD0;&#x884C; MapReduce &#x4F5C;&#x4E1A;&#x5DF2;&#x62C6;&#x5206;&#x7684;&#x4EFB;&#x52A1;&#x3002;</p>
<h1 id="yarn">YARN</h1>
<p>&#x8FD0;&#x884C;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x901A;&#x7528;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x3002;YARN &#x6307;&#x5B9A;&#x4EE5;&#x4E0B;&#x7EC4;&#x4EF6;&#xFF1A;</p>
<p>ResourceManager - &#x7BA1;&#x7406;&#x8BA1;&#x7B97;&#x8D44;&#x6E90;&#x7684;&#x5168;&#x5C40;&#x5206;&#x914D;&#x81F3;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;
ApplicationMaster - &#x7BA1;&#x7406;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;
NodeManager - &#x542F;&#x52A8;&#x548C;&#x76D1;&#x89C6;&#x7FA4;&#x96C6;&#x4E2D;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x8BA1;&#x7B97;&#x5BB9;&#x5668;
JobHistory Server - &#x8DDF;&#x8E2A;&#x5DF2;&#x5B8C;&#x6210;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;
&#x4E3B;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E3A;&#x7FA4;&#x96C6;&#x8D44;&#x6E90;&#x4E0E;&#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x5668;&#x534F;&#x5546; - &#x6309;&#x7167;&#x591A;&#x4E2A;&#x5BB9;&#x5668;&#x7684;&#x63CF;&#x8FF0;&#xFF0C;&#x6BCF;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x62E5;&#x6709;&#x7279;&#x5B9A;&#x7684;&#x5185;&#x5B58;&#x9650;&#x5236; - &#x7136;&#x540E;&#x5728;&#x8FD9;&#x4E9B;&#x5BB9;&#x5668;&#x4E2D;&#x8FD0;&#x884C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7279;&#x5B9A;&#x7684;&#x8FDB;&#x7A0B;&#x3002;&#x5728;&#x7FA4;&#x96C6;&#x8282;&#x70B9;&#x4E0A;&#x8FD0;&#x884C;&#x7684;&#x8282;&#x70B9;&#x7BA1;&#x7406;&#x5668;&#x76D1;&#x7763;&#x5BB9;&#x5668;&#xFF0C;&#x786E;&#x4FDD;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x672A;&#x4F7F;&#x7528;&#x8D85;&#x51FA;&#x5176;&#x5DF2;&#x5206;&#x914D;&#x8D44;&#x6E90;&#x7684;&#x8D44;&#x6E90;&#x3002;</p>
<p>MapReduce v2 (MRv2) &#x4F5C;&#x4E3A; YARN &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5B9E;&#x65BD;&#x3002;</p>
<h1 id="apache-hbase">Apache HBase</h1>
<p>&#x9762;&#x5411;&#x5217;&#x7684;&#x53EF;&#x4F38;&#x7F29;&#x5206;&#x5E03;&#x5F0F;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x3002;&#x5B83;&#x63D0;&#x4F9B;&#x5B9E;&#x65F6;&#x8BFB;/&#x5199;&#x968F;&#x673A;&#x8BBF;&#x95EE; HDFS &#x6258;&#x7BA1;&#x7684;&#x5927;&#x89C4;&#x6A21;&#x6570;&#x636E;&#x96C6;&#x7684;&#x6743;&#x9650;&#x3002;<br>
Hbase Web UI&#xFF1A;http://{master}:60010/</p>
<h2 id="hbase&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;">Hbase&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;</h2>
<p>&#x5728;HBase&#x4E2D;&#xFF0C;&#x6570;&#x636E;&#x662F;&#x6309;Column Family&#x6765;&#x5206;&#x5272;&#x7684;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;Column Family&#x4E0B;&#x7684;&#x6240;&#x6709;&#x5217;&#x7684;&#x6570;&#x636E;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF08;&#x4E3A;&#x7B80;&#x5316;&#x4E0B;&#x9762;&#x7684;&#x63CF;&#x8FF0;&#x5728;&#x6B64;&#x4F7F;&#x7528;&#x6587;&#x4EF6;&#x8FD9;&#x4E2A;&#x8BCD;&#xFF0C;&#x5728;HBase&#x5185;&#x90E8;&#x4F7F;&#x7528;&#x7684;&#x662F;Store&#xFF09;&#x4E2D;&#x3002;</p>
<p>HBase&#x672C;&#x8EAB;&#x7684;&#x8BBE;&#x8BA1;&#x76EE;&#x6807;&#x662F; &#x652F;&#x6301;&#x7A00;&#x758F;&#x8868;&#xFF0C;&#x800C; &#x7A00;&#x758F;&#x8868;&#x901A;&#x5E38;&#x4F1A;&#x6709;&#x5F88;&#x591A;&#x5217;&#xFF0C;&#x4F46;&#x662F;&#x6BCF;&#x4E00;&#x884C;&#x6709;&#x503C;&#x7684;&#x5217;&#x53C8;&#x6BD4;&#x8F83;&#x5C11;&#x3002;
&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;Column Family&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x90A3;&#x4E48;&#x6709;&#x4E24;&#x79CD;&#x8BBE;&#x8BA1;&#x65B9;&#x6848;&#xFF1A;
1.&#x628A;&#x6240;&#x6709;&#x5217;&#x7684;&#x6570;&#x636E;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x4F20;&#x7EDF;&#x7684;&#x6309;&#x884C;&#x5B58;&#x50A8;&#xFF09;&#x3002;&#x90A3;&#x4E48;&#x5F53;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x8BBF;&#x95EE;&#x5C11;&#x6570;&#x51E0;&#x4E2A;&#x5217;&#x7684;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x904D;&#x5386;&#x6BCF;&#x4E00;&#x884C;&#xFF0C;&#x8BFB;&#x53D6;&#x6574;&#x4E2A;&#x8868;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x6837;&#x5B50;&#x662F;&#x5F88;&#x4F4E;&#x6548;&#x7684;&#x3002;
2.&#x628A;&#x6BCF;&#x4E2A;&#x5217;&#x7684;&#x6570;&#x636E;&#x5355;&#x72EC;&#x5206;&#x5F00;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#xFF08;&#x6309;&#x5217;&#x5B58;&#x50A8;&#xFF09;&#x3002;&#x90A3;&#x4E48;&#x5F53;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x8BBF;&#x95EE;&#x5C11;&#x6570;&#x51E0;&#x4E2A;&#x5217;&#x7684;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x8BFB;&#x53D6;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x4E0D;&#x7528;&#x8BFB;&#x53D6;&#x6574;&#x4E2A;&#x8868;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8BFB;&#x53D6;&#x6548;&#x7387;&#x5F88;&#x9AD8;&#x3002;&#x7136;&#x800C;&#xFF0C;&#x7531;&#x4E8E;&#x7A00;&#x758F;&#x8868;&#x901A;&#x5E38;&#x4F1A;&#x6709;&#x5F88;&#x591A;&#x5217;&#xFF0C;&#x8FD9;&#x4F1A;&#x5BFC;&#x81F4;&#x6587;&#x4EF6;&#x6570;&#x91CF;&#x7279;&#x522B;&#x591A;&#xFF0C;&#x8FD9;&#x672C;&#x8EAB;&#x4F1A;&#x5F71;&#x54CD;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x6548;&#x7387;&#x3002;</p>
<p>&#x800C;Column Family&#x7684;&#x63D0;&#x51FA;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x5728;&#x4E0A;&#x9762;&#x4E24;&#x79CD;&#x65B9;&#x6848;&#x4E2D;&#x505A;&#x4E00;&#x4E2A;&#x6298;&#x4E2D;&#x3002;HBase&#x4E2D; &#x5C06;&#x4E00;&#x4E2A;Column Family&#x4E2D;&#x7684;&#x5217;&#x5B58;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x800C;&#x4E0D;&#x540C;Column Family&#x7684;&#x6570;&#x636E;&#x5219;&#x5206;&#x5F00;&#x3002;
&#x7531;&#x4E8E;&#x5728;HBase&#x4E2D;Column Family&#x7684;&#x6570;&#x91CF;&#x901A;&#x5E38;&#x5F88;&#x5C0F;&#xFF0C;&#x540C;&#x65F6;HBase&#x5EFA;&#x8BAE;&#x628A;&#x7ECF;&#x5E38;&#x4E00;&#x8D77;&#x8BBF;&#x95EE;&#x7684;&#x6BD4;&#x8F83;&#x7C7B;&#x4F3C;&#x7684;&#x5217;&#x653E;&#x5728;&#x540C;&#x4E00;&#x4E2A;Column Family&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x8BBF;&#x95EE;&#x5C11;&#x6570;&#x51E0;&#x4E2A;&#x5217;&#x65F6;&#xFF0C;&#x53EA;&#x8BFB;&#x53D6;&#x5C3D;&#x91CF;&#x5C11;&#x7684;&#x6570;&#x636E;&#x3002;</p>
<h2 id="hbase&#x6027;&#x80FD;&#x4F18;&#x5316;&#x914D;&#x7F6E;">Hbase&#x6027;&#x80FD;&#x4F18;&#x5316;&#x914D;&#x7F6E;</h2>
<p>HBase Master &#x7684; Java &#x5806;&#x6808;&#x5927;&#x5C0F;&#xFF08;&#x5B57;&#x8282;&#xFF09;-Master Default Group&#xFF1A;377M&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;&gt;
HBase RegionServer &#x7684; Java &#x5806;&#x6808;&#x5927;&#x5C0F;&#xFF08;&#x5B57;&#x8282;&#xFF09;-RegionServer Default Group :588M&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;&gt;1024M
HBase &#x5BA2;&#x6237;&#x7AEF;&#x5199;&#x5165;&#x7F13;&#x51B2;-hbase.client.write.buffer&#xFF1A;2M&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;&gt;</p>
<h2 id="hbasemaster">HBaseMaster</h2>
<p>HMaster &#x8D1F;&#x8D23;&#x7ED9;HRegionServer&#x5206;&#x914D;&#x533A;&#x57DF;,&#x5E76;&#x4E14;&#x8D1F;&#x8D23;&#x5BF9;&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x4E2D;&#x7684;HReginServer&#x8FDB;&#x884C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;HMaster&#x8FD8;&#x8D1F;&#x8D23;&#x76D1;&#x63A7;&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x4E2D;&#x7684;HReginServer&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x51B5;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E00;&#x53F0;HReginServer down&#x673A;&#xFF0C;HBaseMaster&#x5C06;&#x4F1A;&#x628A;&#x4E0D;&#x53EF;&#x7528;&#x7684;HReginServer&#x6765;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7684;HLog&#x548C;&#x8868;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x8F6C;&#x4EA4;&#x7ED9;&#x5176;&#x4ED6;HReginServer&#x6765;&#x63D0;&#x4F9B;&#xFF0C;HBaseMaster&#x8FD8;&#x8D1F;&#x8D23;&#x5BF9;&#x6570;&#x636E;&#x548C;&#x8868;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x5904;&#x7406;&#x8868;&#x7ED3;&#x6784;&#x548C;&#x8868;&#x4E2D;&#x6570;&#x636E;&#x7684;&#x53D8;&#x66F4;&#xFF0C;&#x56E0;&#x4E3A;&#x5728; META &#x7CFB;&#x7EDF;&#x8868;&#x4E2D;&#x5B58;&#x50A8;&#x4E86;&#x6240;&#x6709;&#x7684;&#x76F8;&#x5173;&#x8868;&#x4FE1;&#x606F;&#x3002;&#x5E76;&#x4E14;HMaster&#x5B9E;&#x73B0;&#x4E86;ZooKeeper&#x7684;Watcher&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x548C;zookeeper&#x96C6;&#x7FA4;&#x4EA4;&#x4E92;&#x3002;</p>
<h2 id="hregionserver">HRegionServer</h2>
<p>HReginServer&#x8D1F;&#x8D23;&#x5904;&#x7406;&#x7528;&#x6237;&#x7684;&#x8BFB;&#x548C;&#x5199;&#x7684;&#x64CD;&#x4F5C;&#x3002;HReginServer&#x901A;&#x8FC7;&#x4E0E;HBaseMaster&#x901A;&#x4FE1;&#x83B7;&#x53D6;&#x81EA;&#x5DF1;&#x9700;&#x8981;&#x670D;&#x52A1;&#x7684;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x5E76;&#x5411;HMaster&#x53CD;&#x9988;&#x81EA;&#x5DF1;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x51B5;&#x3002;&#x5F53;&#x4E00;&#x4E2A;&#x5199;&#x7684;&#x8BF7;&#x6C42;&#x5230;&#x6765;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B83;&#x9996;&#x5148;&#x4F1A;&#x5199;&#x5230;&#x4E00;&#x4E2A;&#x53EB;&#x505A;HLog&#x7684;write-ahead log&#x4E2D;&#x3002;HLog&#x88AB;&#x7F13;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x79F0;&#x4E3A;Memcache&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;HStore&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;Memcache&#x3002;&#x5F53;Memcache&#x5230;&#x8FBE;&#x914D;&#x7F6E;&#x7684;&#x5927;&#x5C0F;&#x4EE5;&#x540E;&#xFF0C;&#x5C06;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;MapFile&#xFF0C;&#x5C06;&#x5176;&#x5199;&#x5230;&#x78C1;&#x76D8;&#x4E2D;&#x53BB;&#x3002;&#x8FD9;&#x5C06;&#x51CF;&#x5C11;HReginServer&#x7684;&#x5185;&#x5B58;&#x538B;&#x529B;&#x3002;&#x5F53;&#x4E00;&#x8D77;&#x8BFB;&#x53D6;&#x7684;&#x8BF7;&#x6C42;&#x5230;&#x6765;&#x7684;&#x65F6;&#x5019;&#xFF0C;HReginServer&#x4F1A;&#x5148;&#x5728;Memcache&#x4E2D;&#x5BFB;&#x627E;&#x8BE5;&#x6570;&#x636E;&#xFF0C;&#x5F53;&#x627E;&#x4E0D;&#x5230;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x624D;&#x4F1A;&#x53BB;&#x5728;MapFiles &#x4E2D;&#x5BFB;&#x627E;&#x3002;</p>
<h2 id="hbase-client">HBase Client</h2>
<p>HBase Client&#x8D1F;&#x8D23;&#x5BFB;&#x627E;&#x63D0;&#x4F9B;&#x9700;&#x6C42;&#x6570;&#x636E;&#x7684;HReginServer&#x3002;&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;HBase Client&#x5C06;&#x9996;&#x5148;&#x4E0E;HMaster&#x901A;&#x4FE1;&#xFF0C;&#x627E;&#x5230;ROOT&#x533A;&#x57DF;&#x3002;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x662F;Client&#x548C;Master&#x4E4B;&#x95F4;&#x4EC5;&#x6709;&#x7684;&#x901A;&#x4FE1;&#x64CD;&#x4F5C;&#x3002;&#x4E00;&#x65E6;ROOT&#x533A;&#x57DF;&#x88AB;&#x627E;&#x5230;&#x4EE5;&#x540E;&#xFF0C;Client&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x626B;&#x63CF;ROOT&#x533A;&#x57DF;&#x627E;&#x5230;&#x76F8;&#x5E94;&#x7684;META&#x533A;&#x57DF;&#x53BB;&#x5B9A;&#x4F4D;&#x5B9E;&#x9645;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x7684;HReginServer&#x3002;&#x5F53;&#x5B9A;&#x4F4D;&#x5230;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x7684;HReginServer&#x4EE5;&#x540E;&#xFF0C;Client&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;HReginServer&#x627E;&#x5230;&#x9700;&#x8981;&#x7684;&#x6570;&#x636E;&#x4E86;&#x3002;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x5C06;&#x4F1A;&#x88AB;Client&#x7F13;&#x5B58;&#x8D77;&#x6765;&#xFF0C;&#x5F53;&#x4E0B;&#x6B21;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x8D70;&#x4E0A;&#x9762;&#x7684;&#x8FD9;&#x4E2A;&#x6D41;&#x7A0B;&#x4E86;&#x3002;</p>
<h2 id="hbase-service">HBase Service</h2>
<p>HBase Thrift Server&#x548C;HBase REST Server&#x662F;&#x901A;&#x8FC7;&#x975E;Java&#x7A0B;&#x5E8F;&#x5BF9;HBase&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x7684;&#x4E00;&#x79CD;&#x9014;&#x5F84;&#x3002;</p>
<h1 id="lily-hbase-indexer">Lily HBase Indexer</h1>
<p>Lily HBase Indexer provides the ability to quickly and easily search for any content stored in HBase.
It allows you to quickly and easily index HBase rows into Solr, without writing a line of code. It doesn&apos;t require Lily, but originates from years of experience indexing HBase as part of Lily - the Customer Intelligence Data Management Platform from NGDATA.
Lily HBase Indexer drives HBase indexing support in Cloudera Search, the SEP trigger notification mechanism is used inside Lily as well.</p>
<p>Lily HBase NRT Indexer&#x670D;&#x52A1;&#xFF0C;Lily HBase Indexer&#x662F;&#x4E00;&#x6B3E;&#x7075;&#x6D3B;&#x7684;&#x3001;&#x53EF;&#x6269;&#x5C55;&#x7684;&#x3001;&#x9AD8;&#x5BB9;&#x9519;&#x7684;&#x3001;&#x4E8B;&#x52A1;&#x6027;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x8FD1;&#x5B9E;&#x65F6;&#x7684;&#x5904;&#x7406;HBase&#x5217;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x670D;&#x52A1;&#x8F6F;&#x4EF6;&#x3002;&#x5B83;&#x662F;NGDATA&#x516C;&#x53F8;&#x5F00;&#x53D1;&#x7684;Lily&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5DF2;&#x5F00;&#x653E;&#x6E90;&#x4EE3;&#x7801;&#x3002;Lily HBase Indexer&#x4F7F;&#x7528;SolrCloud&#x6765;&#x5B58;&#x50A8;HBase&#x7684;&#x7D22;&#x5F15;&#x6570;&#x636E;&#xFF0C;&#x5F53;HBase&#x6267;&#x884C;&#x5199;&#x5165;&#x3001;&#x66F4;&#x65B0;&#x6216;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;Indexer&#x901A;&#x8FC7;HBase&#x7684;replication&#x529F;&#x80FD;&#x6765;&#x628A;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x62BD;&#x8C61;&#x6210;&#x4E00;&#x7CFB;&#x5217;&#x7684;Event&#x4E8B;&#x4EF6;&#xFF0C;&#x5E76;&#x7528;&#x6765;&#x4FDD;&#x8BC1;&#x5199;&#x5165;Solr&#x4E2D;&#x7684;HBase&#x7D22;&#x5F15;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x3002;&#x5E76;&#x4E14;Indexer&#x652F;&#x6301;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x62BD;&#x53D6;&#xFF0C;&#x8F6C;&#x6362;&#x89C4;&#x5219;&#x6765;&#x7D22;&#x5F15;HBase&#x5217;&#x6570;&#x636E;&#x3002;Solr&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x4F1A;&#x5305;&#x542B;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x7684;columnfamily:qualifier&#x5B57;&#x6BB5;&#x7ED3;&#x679C;&#xFF0C;&#x8FD9;&#x6837;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;HBase&#x7684;&#x5217;&#x6570;&#x636E;&#x3002;&#x800C;&#x4E14;Indexer&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;HBase&#x8FD0;&#x884C;&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x548C;HBase&#x6570;&#x636E;&#x5199;&#x5165;&#x7684;&#x541E;&#x5410;&#x91CF;&#xFF0C;&#x56E0;&#x4E3A;&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x8FC7;&#x7A0B;&#x662F;&#x5B8C;&#x5168;&#x5206;&#x5F00;&#x5E76;&#x4E14;&#x5F02;&#x6B65;&#x7684;&#x3002;Lily HBase Indexer&#x5728;CDH5&#x4E2D;&#x8FD0;&#x884C;&#x5FC5;&#x987B;&#x4F9D;&#x8D56;HBase&#x3001;SolrCloud&#x548C;Zookeeper&#x670D;&#x52A1;&#x3002;</p>
<h1 id="morphlines">Morphlines</h1>
<p><a href="http://kitesdk.org/docs/0.13.0/kite-morphlines/index.html">Morphlines</a>&#x662F;&#x4E00;&#x6B3E;&#x5F00;&#x6E90;&#x7684;&#xFF0C;&#x7528;&#x6765;&#x51CF;&#x5C11;&#x6784;&#x5EFA;hadoop ETL&#x6570;&#x636E;&#x6D41;&#x7A0B;&#x65F6;&#x95F4;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x66FF;&#x4EE3;&#x4F20;&#x7EDF;&#x7684;&#x901A;&#x8FC7;MapReduce&#x6765;&#x62BD;&#x53D6;&#x3001;&#x8F6C;&#x6362;&#x3001;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x547D;&#x4EE4;&#x5DE5;&#x5177;&#xFF0C;
&#x5177;&#x4F53;&#x53EF;&#x4EE5;&#x53C2;&#x89C1;&#xFF1A;http://kitesdk.org/docs/0.13.0/kite-morphlines/morphlinesReferenceGuide.html&#x3002;
&#x5BF9;&#x4E8E;HBase&#x7684;&#x5176;&#x63D0;&#x4F9B;&#x4E86;extractHBaseCells&#x547D;&#x4EE4;&#x6765;&#x8BFB;&#x53D6;HBase&#x7684;&#x5217;&#x6570;&#x636E;&#x3002;
&#x6211;&#x4EEC;&#x91C7;&#x7528;Cloudera Manager&#x6765;&#x7BA1;&#x7406;morphlines.conf&#x6587;&#x4EF6;&#xFF0C;&#x4F7F;&#x7528;CM&#x6765;&#x7BA1;&#x7406;morphlines.conf&#x6587;&#x4EF6;&#x9664;&#x4E86;&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684;&#x597D;&#x5904;&#x4E4B;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x597D;&#x5904;&#x5C31;&#x662F;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x589E;&#x52A0;&#x7D22;&#x5F15;&#x5217;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x91C7;&#x7528;&#x672C;&#x5730;&#x8DEF;&#x5F84;&#x65B9;&#x5F0F;&#x5C06;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x6CE8;&#x518C;Lily HBase Indexer&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x800C;&#x91C7;&#x7528;CM&#x7BA1;&#x7406;&#x7684;&#x8BDD;&#x53EA;&#x9700;&#x8981;&#x4FEE;&#x6539;morphlines.conf&#x6587;&#x4EF6;&#x540E;&#x91CD;&#x542F;Key-Value HBase Indexer&#x670D;&#x52A1;&#x5373;&#x53EF;,CM&#x4F1A;&#x81EA;&#x52A8;&#x5206;&#x53D1;&#x7ED9;&#x96C6;&#x7FA4;&#x3002;</p>
<h1 id="hdfs">HDFS</h1>
<p>Hadoop&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF08;Distributed File System&#xFF09;</p>
<ul>
<li>Namenode
Namenode &#x7BA1;&#x7406;&#x8005;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;Namespace&#x3002;&#x5B83;&#x7EF4;&#x62A4;&#x7740;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6811;(filesystem tree)&#x4EE5;&#x53CA;&#x6587;&#x4EF6;&#x6811;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x6587;&#x4EF6;&#x5939;&#x7684;&#x5143;&#x6570;&#x636E;(metadata)&#x3002;&#x7BA1;&#x7406;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x7684;&#x6587;&#x4EF6;&#x6709;&#x4E24;&#x4E2A;&#xFF0C;&#x5206;&#x522B;&#x662F;Namespace &#x955C;&#x50CF;&#x6587;&#x4EF6;(Namespace image)&#x548C;&#x64CD;&#x4F5C;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;(edit log)&#xFF0C;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x88AB;Cache&#x5728;RAM&#x4E2D;&#xFF0C;&#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x4E5F;&#x4F1A;&#x88AB;&#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;&#x5728;&#x672C;&#x5730;&#x786C;&#x76D8;&#x3002;Namenode&#x8BB0;&#x5F55;&#x7740;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x5404;&#x4E2A;&#x5757;&#x6240;&#x5728;&#x7684;&#x6570;&#x636E;&#x8282;&#x70B9;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;&#xFF0C;&#x4F46;&#x662F;&#x4ED6;&#x5E76;&#x4E0D;&#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x4F1A;&#x5728;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x65F6;&#x4ECE;&#x6570;&#x636E;&#x8282;&#x70B9;&#x91CD;&#x5EFA;&#x3002;
Namenode&#x7ED3;&#x6784;&#x56FE;&#x8BFE;&#x62BD;&#x8C61;&#x4E3A;&#x5982;&#x56FE;&#xFF1A;
<img src="http://hadoop.apache.org/docs/r1.2.1/images/hdfsarchitecture.gif" alt="HDFS Architecture">
NameNode Web UI&#xFF1A;http://master.lt.com:50070/</li>
</ul>
<p>&#x5BA2;&#x6237;&#x7AEF;(client)&#x4EE3;&#x8868;&#x7528;&#x6237;&#x4E0E;namenode&#x548C;datanode&#x4EA4;&#x4E92;&#x6765;&#x8BBF;&#x95EE;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x5217;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x63A5;&#x53E3;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5728;&#x7F16;&#x7A0B;&#x65F6;&#xFF0C;&#x51E0;&#x4E4E;&#x65E0;&#x987B;&#x77E5;&#x9053;datanode&#x548C;namenode&#xFF0C;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x6211;&#x4EEC;&#x6240;&#x9700;&#x8981;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<ul>
<li>Datanode
Datanode&#x662F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5DE5;&#x4F5C;&#x8282;&#x70B9;&#xFF0C;&#x4ED6;&#x4EEC;&#x6839;&#x636E;&#x5BA2;&#x6237;&#x7AEF;&#x6216;&#x8005;&#x662F;namenode&#x7684;&#x8C03;&#x5EA6;&#x5B58;&#x50A8;&#x548C;&#x68C0;&#x7D22;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E14;&#x5B9A;&#x671F;&#x5411;namenode&#x53D1;&#x9001;&#x4ED6;&#x4EEC;&#x6240;&#x5B58;&#x50A8;&#x7684;&#x5757;(block)&#x7684;&#x5217;&#x8868;&#x3002;</li>
</ul>
<h1 id="apache-solr">Apache Solr</h1>
<p>Solr&#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x6027;&#x80FD;&#xFF0C;&#x91C7;&#x7528;Java5&#x5F00;&#x53D1;&#xFF0C;&#x57FA;&#x4E8E;Lucene&#x7684;&#x5168;&#x6587;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x5668;&#x3002;&#x540C;&#x65F6;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x4E86;&#x6269;&#x5C55;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x6BD4;Lucene&#x66F4;&#x4E3A;&#x4E30;&#x5BCC;&#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x8A00;&#xFF0C;&#x540C;&#x65F6;&#x5B9E;&#x73B0;&#x4E86;&#x53EF;&#x914D;&#x7F6E;&#x3001;&#x53EF;&#x6269;&#x5C55;&#x5E76;&#x5BF9;&#x67E5;&#x8BE2;&#x6027;&#x80FD;&#x8FDB;&#x884C;&#x4E86;&#x4F18;&#x5316;&#xFF0C;&#x5E76;&#x4E14;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5B8C;&#x5584;&#x7684;&#x529F;&#x80FD;&#x7BA1;&#x7406;&#x754C;&#x9762;&#xFF0C;&#x662F;&#x4E00;&#x6B3E;&#x975E;&#x5E38;&#x4F18;&#x79C0;&#x7684;&#x5168;&#x6587;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x3002;</p>
<ul>
<li>Solr&#x53EF;&#x7528;&#x4E8E;Hbase&#x7684;&#x4E8C;&#x7EA7;&#x7D22;&#x5F15;</li>
</ul>
<h1 id="apache-hive">Apache Hive</h1>
<p>Hadoop &#x7684;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x7CFB;&#x7EDF;&#xFF0C;&#x4F7F;&#x7528;&#x8BF8;&#x5982; SQL &#x7684;&#x8BED;&#x8A00;&#xFF08;&#x79F0;&#x4E3A; HiveQL&#xFF09;&#xFF0C;&#x6709;&#x52A9;&#x4E8E;&#x5B9E;&#x73B0;&#x6C47;&#x603B;&#x548C; HDFS &#x4E2D;&#x5B58;&#x50A8;&#x7684;&#x5927;&#x6570;&#x636E;&#x96C6;&#x7684;&#x5206;&#x6790;&#x3002;</p>
<h1 id="hiveserver">HiveServer</h1>
<p>&#x652F;&#x6301;&#x901A;&#x8FC7; Apache Thrift &#x8FDE;&#x63A5;&#x5C06;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x81F3; Hive &#x7684;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x7A0B;&#x3002;</p>
<h1 id="hiveserver2">HiveServer2</h1>
<p>&#x652F;&#x6301;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x5C06;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;&#x81F3; Hive &#x7684;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x7A0B;&#x3002;&#x8FD9;&#x4E9B;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x662F;&#x672C;&#x673A;&#x547D;&#x4EE4;&#x884C;&#x7F16;&#x8F91;&#x5668;&#x6216;&#x4F7F;&#x7528; ODBC &#x6216; JDBC &#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x548C;&#x5DE5;&#x5177;&#x3002;</p>
<h1 id="hiveql">HiveQL</h1>
<p>Hadoop &#x7684;&#x4E00;&#x79CD;&#x67E5;&#x8BE2;&#x8BED;&#x8A00;&#xFF0C;&#x4F7F;&#x7528;&#x7C7B;&#x4F3C;&#x4E8E;&#x6807;&#x51C6; SQL &#x7684;&#x8BED;&#x6CD5;&#xFF0C;&#x4EE5;&#x5728; HDFS &#x4E0A;&#x6267;&#x884C; MapReduce &#x4F5C;&#x4E1A;&#x3002;HiveQL &#x4E0D;&#x652F;&#x6301;&#x6240;&#x6709;&#x7684; SQL &#x529F;&#x80FD;&#x3002;&#x4E0D;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x548C;&#x7269;&#x5316;&#x89C6;&#x56FE;&#xFF0C;&#x5BF9;&#x7D22;&#x5F15;&#x548C;&#x67E5;&#x8BE2;&#x7684;&#x652F;&#x6301;&#x6709;&#x9650;&#x3002;&#x5B83;&#x652F;&#x6301;&#x4E0D;&#x5C5E;&#x4E8E;&#x6807;&#x51C6; SQL &#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5982;&#x591A;&#x8868;&#x683C;&#xFF0C;&#x5305;&#x62EC;&#x591A;&#x8868;&#x683C;&#x63D2;&#x5165;&#x548C;&#x521B;&#x5EFA;&#x9009;&#x62E9;&#x7684;&#x8868;&#x683C;&#x3002;</p>
<p>&#x5728;&#x5185;&#x90E8;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x5C06; HiveQL &#x8BED;&#x53E5;&#x8F6C;&#x6362;&#x4E3A; MapReduce &#x4F5C;&#x4E1A;&#x7684;&#x6709;&#x5411;&#x65E0;&#x73AF;&#x56FE;&#xFF0C;&#x63D0;&#x4EA4;&#x81F3; Hadoop&#xFF0C;&#x4EE5;&#x6267;&#x884C;&#x3002;Beeswax &#x5305;&#x542B;&#x5728; Hue&#x5185;&#xFF0C;&#x4E3A; HiveQL &#x67E5;&#x8BE2;&#x63D0;&#x4F9B;&#x56FE;&#x5F62;&#x5316;&#x524D;&#x7AEF;&#x3002;</p>
<h1 id="apache-mahout">Apache Mahout</h1>
<p>Hadoop &#x7684;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x5E93;&#x3002;&#x5B83;&#x662F;&#x60A8;&#x80FD;&#x591F;&#x6784;&#x5EFA;&#x514B;&#x6269;&#x5C55;&#x81F3;&#x5927;&#x578B;&#x6570;&#x636E;&#x96C6;&#x7684;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x5E93;&#xFF0C;&#x4ECE;&#x800C;&#x7B80;&#x5316;&#x4E86;&#x6784;&#x5EFA;&#x667A;&#x80FD;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x4EFB;&#x52A1;&#x3002;Mahout &#x652F;&#x6301;&#x7684;&#x4E3B;&#x8981;&#x4F7F;&#x7528;&#x60C5;&#x5F62;&#x5305;&#x62EC;&#xFF1A;</p>
<ul>
<li>&#x5EFA;&#x8BAE;&#x6316;&#x6398; -&#x57FA;&#x4E8E;&#x8FC7;&#x53BB;&#x504F;&#x597D;&#x6807;&#x8BC6;&#x7528;&#x6237;&#x559C;&#x597D;&#xFF0C;&#x5982;&#x5728;&#x7EBF;&#x8D2D;&#x7269;&#x5EFA;&#x8BAE;&#x3002;</li>
<li>&#x7FA4;&#x96C6; - &#x7C7B;&#x4F3C;&#x9879;&#x76EE;&#x7684;&#x7EC4;&#xFF1B;&#x5982;&#x89E3;&#x51B3;&#x7C7B;&#x4F3C;&#x4E3B;&#x9898;&#x7684;&#x6587;&#x6863;</li>
<li>&#x5206;&#x7C7B; - &#x5B66;&#x4E60;&#x73B0;&#x6709;&#x7C7B;&#x522B;&#x4E2D;&#x6210;&#x5458;&#x7684;&#x5171;&#x540C;&#x4E4B;&#x5904;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528;&#x8BE5;&#x4FE1;&#x606F;&#x5206;&#x7C7B;&#x65B0;&#x9879;&#x76EE;&#x3002;</li>
<li>&#x9891;&#x7E41;&#x7684;&#x9879;&#x76EE;&#x96C6;&#x6316;&#x6398; - &#x91C7;&#x7528;&#x4E00;&#x7EC4;&#x9879;&#x76EE;&#x7EC4;&#xFF08;&#x5982;&#x67E5;&#x8BE2;&#x4F1A;&#x8BDD;&#x6216;&#x8D2D;&#x7269;&#x8F66;&#x4E2D;&#x7684;&#x6761;&#x76EE;&#xFF09;&#xFF0C;&#x8BC6;&#x522B;&#x901A;&#x5E38;&#x4E00;&#x8D77;&#x51FA;&#x73B0;&#x7684;&#x9879;&#x76EE;&#x3002;</li>
</ul>
<h1 id="apache-oozie">Apache Oozie</h1>
<p>&#x534F;&#x8C03;&#x6570;&#x636E;&#x63A5;&#x6536;&#x3001;&#x5B58;&#x50A8;&#x3001;&#x8F6C;&#x6362;&#x548C;&#x5206;&#x6790;&#x64CD;&#x4F5C;&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x548C;&#x534F;&#x8C03;&#x670D;&#x52A1;&#x3002;</p>
<h1 id="apache-pig">Apache Pig</h1>
<p>&#x6570;&#x636E;&#x6D41;&#x8BED;&#x8A00;&#x548C;&#x5728; MapReduce &#x9876;&#x90E8;&#x6784;&#x5EFA;&#x7684;&#x5E76;&#x884C;&#x6267;&#x884C;&#x6846;&#x67B6;&#x3002;&#x5728;&#x5185;&#x90E8;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x5C06; Pig &#x8BED;&#x53E5;&#x8F6C;&#x6362;&#x4E3A; MapReduce &#x4F5C;&#x4E1A;&#x7684;&#x6709;&#x5411;&#x65E0;&#x73AF;&#x56FE;&#xFF0C;&#x63D0;&#x4EA4;&#x81F3; Hadoop&#xFF0C;&#x4EE5;&#x6267;&#x884C;&#x3002;</p>
<h1 id="apache-sentry">Apache Sentry</h1>
<p>&#x4F01;&#x4E1A;&#x7EA7;&#x5927;&#x6570;&#x636E;&#x5B89;&#x5168;&#x7684;&#x4E0B;&#x4E00;&#x6B65;&#x9AA4;&#xFF0C;&#x4E3A;&#x5B58;&#x50A8;&#x5728; Apache Hadoop &#x4E2D;&#x7684;&#x6570;&#x636E;&#x63D0;&#x4F9B;&#x7EC6;&#x7C92;&#x5EA6;&#x6388;&#x6743;&#x3002;&#x72EC;&#x7ACB;&#x7684;&#x5B89;&#x5168;&#x6A21;&#x5757;&#xFF0C;&#x96C6;&#x6210;&#x5F00;&#x6E90; SQL &#x67E5;&#x8BE2;&#x5F15;&#x64CE; Apache Hive &#x548C; Cloudera Impala&#xFF0C;Sentry &#x63D0;&#x4F9B;&#x9AD8;&#x7EA7;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x63A7;&#x5236;&#x4EE5;&#x4E3A;&#x4F01;&#x4E1A;&#x6570;&#x636E;&#x96C6;&#x542F;&#x7528;&#x591A;&#x7528;&#x6237;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x548C;&#x8DE8;&#x804C;&#x80FD;&#x6D41;&#x7A0B;&#x3002;</p>
<h1 id="apache-spark">Apache Spark</h1>
<p>&#x5206;&#x5E03;&#x5F0F;&#x8BA1;&#x7B97;&#x7684;&#x4E00;&#x822C;&#x6846;&#x67B6;&#xFF0C;&#x4E3A;&#x8FED;&#x4EE3;&#x548C;&#x4EA4;&#x4E92;&#x5F0F;&#x5904;&#x7406;&#x63D0;&#x4F9B;&#x51FA;&#x8272;&#x6027;&#x80FD;&#x3002;Spark &#x4E3A; Java&#x3001;Scala &#x548C; Python &#x5C55;&#x793A;&#x7528;&#x6237;&#x53CB;&#x597D;&#x7684; API&#x3002;</p>
<h1 id="apache-sqoop">Apache Sqoop</h1>
<p>&#x5728; Hadoop &#x548C;&#x5916;&#x90E8;&#x7ED3;&#x6784;&#x5316;&#x6570;&#x636E;&#x5B58;&#x50A8;&#xFF08;&#x5982;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#xFF09;&#x4E4B;&#x95F4;&#x9AD8;&#x6548;&#x6279;&#x91CF;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x7684;&#x5DE5;&#x5177;&#x3002;Sqoop &#x5BFC;&#x5165;&#x8868;&#x683C;&#x5185;&#x5BB9;&#x81F3; HDFS&#x3001;Apache Hive &#x548C; Apache HBase&#xFF0C;&#x5E76;&#x751F;&#x6210;&#x5141;&#x8BB8;&#x7528;&#x6237;&#x89E3;&#x8BD1;&#x8868;&#x67B6;&#x6784;&#x7684; Java &#x7C7B;&#x3002;Sqoop &#x4E5F;&#x53EF;&#x4EE5;&#x4ECE; Hadoop &#x5B58;&#x50A8;&#x4E2D;&#x63D0;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x5C06;&#x8BB0;&#x5F55;&#x4ECE; HDFS &#x5BFC;&#x51FA;&#x81F3;&#x5916;&#x90E8;&#x7ED3;&#x6784;&#x5316;&#x6570;&#x636E;&#x5B58;&#x50A8;&#xFF0C;&#x5982;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x548C;&#x4F01;&#x4E1A;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x3002;</p>
<p>Sqoop &#x6709;&#x4E24;&#x4E2A;&#x7248;&#x672C;&#xFF1A;Sqoop &#x548C; Sqoop 2&#x3002;Sqoop &#x8981;&#x6C42;&#x5BA2;&#x6237;&#x7AEF;&#x5B89;&#x88C5;&#x548C;&#x914D;&#x7F6E;&#x3002;Sqoop 2 &#x662F;&#x57FA;&#x4E8E;&#x7F51;&#x7EDC;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x5177;&#x6709;&#x5BA2;&#x6237;&#x547D;&#x4EE4;&#x884C;&#x754C;&#x9762;&#x3002;&#x62E5;&#x6709; Sqoop 2 &#x8FDE;&#x63A5;&#x5668;&#xFF0C;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x5E93;&#x9A71;&#x52A8;&#x3002;</p>
<h1 id="apache-zookeeper">Apache ZooKeeper</h1>
<p>&#x7EF4;&#x62A4;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x3001;&#x547D;&#x540D;&#x5E76;&#x63D0;&#x4F9B;&#x5206;&#x5E03;&#x5F0F;&#x540C;&#x6B65;&#x548C;&#x7EC4;&#x670D;&#x52A1;&#x7684;&#x96C6;&#x4E2D;&#x5F0F;&#x670D;&#x52A1;&#x3002;</p>
<h1 id="cdh">CDH</h1>
<p>Cloudera Apache Hadoop &#x5206;&#x5E03;&#x5305;&#x542B;&#x6838;&#x5FC3; Hadoop&#xFF08;HDFS&#x3001;MapReduce&#x3001;YARN&#xFF09;&#x4EE5;&#x53CA;&#x4EE5;&#x4E0B;&#x76F8;&#x5173;&#x9879;&#x76EE;&#xFF1A;Apache Avro&#x3001;Apache Flume&#x3001;Fuse-DFS&#x3001;Apache HBase&#x3001;Apache Hive&#x3001;Hue&#x3001;Cloudera Impala&#x3001;Apache Mahout&#x3001;Apache Oozie&#x3001;Apache Pig&#x3001;Cloudera Search&#x3001;Apache Sentry&#x3001;Apache Spark&#x3001;Apache Sqoop&#x3001;Apache Whirr&#x3001;Apache ZooKeeper&#x3001;DataFu &#x548C; Kite&#x3002;</p>
<p>CDH &#x4E3A;&#x514D;&#x8D39; 100% &#x5F00;&#x6E90;&#xFF0C;&#x5E76;&#x5728; Apache 2.0 &#x8BB8;&#x53EF;&#x8BC1;&#x4E0B;&#x8BB8;&#x53EF;&#x3002;CDH &#x652F;&#x6301;&#x591A;&#x4E2A; Linux &#x5206;&#x914D;&#x3002;</p>
<h1 id="cloudera-manager">Cloudera Manager</h1>
<p>CDH&#x3001;Cloudera Impala &#x548C; Cloudera Search &#x7684;&#x7AEF;&#x5230;&#x745E;&#x7BA1;&#x7406;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;Cloudera Manager &#x5141;&#x8BB8;&#x7BA1;&#x7406;&#x5458;&#x8F7B;&#x677E;&#x6709;&#x6548;&#x5730;&#x534F;&#x8C03;&#x3001;&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406; Hadoop &#x7FA4;&#x96C6;&#x548C; CDH &#x5B89;&#x88C5;&#x3002;Cloudera Manager &#x6709;&#x4E24;&#x4E2A;&#x53EF;&#x7528;&#x7248;&#x672C;&#xFF1A;Cloudera Express &#x548C; Cloudera Enterprise&#x3002;</p>
<h1 id="cloudera-express">Cloudera Express</h1>
<p>&#x514D;&#x8D39;&#x4E0B;&#x8F7D;&#xFF0C;&#x5305;&#x542B; CDH&#xFF0C;&#x6DB5;&#x76D6;&#x4F01;&#x4E1A;&#x7EA7; Apache Hadoop&#x3001;Apache HBase&#x3001;Cloudera Impala&#x3001;Cloudera Search&#x3001;Apache Spark &#x548C; Cloudera Manager &#x5206;&#x5E03;&#xFF0C;&#x63D0;&#x4F9B;&#x5F3A;&#x5927;&#x7684;&#x96C6;&#x7FA4;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#xFF0C;&#x5982;&#x81EA;&#x52A8;&#x90E8;&#x7F72;&#x3001;&#x96C6;&#x4E2D;&#x7BA1;&#x7406;&#x3001;&#x76D1;&#x63A7;&#x548C;&#x8BCA;&#x65AD;&#x5DE5;&#x5177;&#x3002;Cloudera Express &#x4F7F;&#x6570;&#x636E;&#x9A71;&#x52A8;&#x7684;&#x4F01;&#x4E1A;&#x53EF;&#x8BC4;&#x4F30; Apache Hadoop&#x3002;</p>
<h1 id="cloudera-impala">Cloudera Impala</h1>
<p>&#x53EF;&#x5B9E;&#x65F6;&#x67E5;&#x8BE2;&#x5B58;&#x50A8;&#x5728; HDFS &#x6216; Apache HBase &#x4E2D;&#x6570;&#x636E;&#x7684;&#x670D;&#x52A1;&#x3002;&#x5B83;&#x652F;&#x6301;&#x76F8;&#x540C;&#x7684;&#x5143;&#x6570;&#x636E;&#x548C; ODBC &#x548C; JDBC &#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#x4F5C;&#x4E3A; Apache Hive &#x548C;&#x57FA;&#x4E8E; Hive &#x6807;&#x51C6;&#x67E5;&#x8BE2;&#x8BED;&#x8A00; (HiveQL) &#x7684;&#x67E5;&#x8BE2;&#x8BED;&#x8A00;&#x3002;&#x8981;&#x907F;&#x514D;&#x5EF6;&#x8FDF;&#xFF0C;Impala &#x89C4;&#x907F; MapReduce &#x901A;&#x8FC7;&#x7279;&#x6B8A;&#x5206;&#x5E03;&#x5F0F;&#x67E5;&#x8BE2;&#x5F15;&#x64CE;&#xFF08;&#x4E0E;&#x5546;&#x4E1A;&#x5E76;&#x884C; RDBMS &#x4E2D;&#x7684;&#x5F15;&#x64CE;&#x76F8;&#x4F3C;&#xFF09;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x3002;</p>
<h1 id="hue">Hue</h1>
<p>&#x4E3A; CDH &#x670D;&#x52A1;&#x6784;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49; GUI &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x670D;&#x52A1;&#x548C;&#x5305;&#x542B;&#x4EE5;&#x4E0B;&#x5185;&#x7F6E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x5DE5;&#x5177;&#xFF1A;Apache Pig&#x3001;Apache HBase &#x548C; Sqoop 2 shell&#xFF0C;Apache Pig &#x7F16;&#x8F91;&#x5668;&#x3001;Beeswax Hive UI&#xFF0C;Cloudera Impala &#x67E5;&#x8BE2;&#x7F16;&#x8F91;&#x5668;&#xFF0C;Solr &#x641C;&#x7D22;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;Hive &#x5143;&#x5B58;&#x50A8;&#x7BA1;&#x7406;&#x5668;&#xFF0C;Oozie &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7F16;&#x8F91;&#x5668;&#x3001;&#x8C03;&#x5EA6;&#x7A0B;&#x5E8F;&#x548C;&#x63D0;&#x4EA4;&#x8005;&#xFF0C;Apache HBase &#x6D4F;&#x89C8;&#x5668;&#xFF0C;Sqoop 2 &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;HDFS &#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x5668;&#x548C; MapReduce &#x548C; YARN &#x4F5C;&#x4E1A;&#x6D4F;&#x89C8;&#x5668;&#x3002;</p>
<p>&#x4E3B;&#x9875;&#xFF1A;http://master.lt.com:8888/
MapReduce&#x4EFB;&#x52A1;&#x67E5;&#x770B;&#xFF1A;http://192.168.1.100:8888/jobbrowser/
Hbase&#x4E3B;&#x9875;&#xFF1A;http://192.168.1.100:8888/hbase
<a href="http://blog.cloudera.com/blog/2013/09/how-to-manage-hbase-data-via-hue/">Hue Hbase&#x6587;&#x6863;</a></p>
<p>Hive&#x4E3B;&#x9875;&#xFF1A;http://192.168.1.100:8888/beeswax/</p>
<p>##&#x95EE;&#x9898;&#x8BB0;&#x5F55;</p>
<ol>
<li>Hue-Hbase&#x8868;&#x4E2D;&#x6587;&#x5B57;&#x6BB5;&#x63D2;&#x5165;&#x548C;&#x7F16;&#x8F91;&#x95EE;&#x9898;</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x5F00;&#x59CB;&#x6B63;&#x5F0F;&#x63A5;&#x89E6;Hadoop&#xFF0C;&#x4ECE;CDH&#x81EA;&#x52A8;&#x5316;&#x5206;&#x5E03;&#x5F0F;&#x73AF;&#x5883;]]>
    </summary>
    
      <category term="CDH" scheme="http://geosmart.github.io/tags/CDH/"/>
    
      <category term="Hadoop" scheme="http://geosmart.github.io/tags/Hadoop/"/>
    
      <category term="分布式" scheme="http://geosmart.github.io/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
      <category term="大数据" scheme="http://geosmart.github.io/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
      <category term="大数据" scheme="http://geosmart.github.io/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hadoop集群部署]]></title>
    <link href="http://geosmart.github.io/2015/08/08/Hadoop%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2/"/>
    <id>http://geosmart.github.io/2015/08/08/Hadoop集群部署/</id>
    <published>2015-08-08T03:38:22.000Z</published>
    <updated>2015-09-09T13:06:34.070Z</updated>
    <content type="html"><![CDATA[<h1 id="hadoop&#x7248;&#x672C;&#x533A;&#x522B;">Hadoop&#x7248;&#x672C;&#x533A;&#x522B;</h1>
<p>&#x76EE;&#x524D;&#x4E0D;&#x6536;&#x8D39;&#x7684;Hadoop&#x7248;&#x672C;&#x4E3B;&#x8981;&#x6709;&#x4E09;&#x4E2A;&#xFF0C;&#x5206;&#x522B;&#x662F;&#xFF1A;</p>
<ol>
<li><em>Apache</em>&#xFF08;&#x6700;&#x539F;&#x59CB;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x6240;&#x6709;&#x53D1;&#x884C;&#x7248;&#x5747;&#x57FA;&#x4E8E;&#x8FD9;&#x4E2A;&#x7248;&#x672C;&#x8FDB;&#x884C;&#x6539;&#x8FDB;&#xFF09;</li>
<li><em>Cloudera</em>&#x7248;&#x672C;&#xFF08;Cloudera&#x2019;s Distribution Including Apache Hadoop&#xFF0C;&#x7B80;&#x79F0;CDH&#xFF09;</li>
<li><em>Hortonworks</em>&#x7248;&#x672C;(Hortonworks Data Platform&#xFF0C;&#x7B80;&#x79F0;&#x201C;HDP&#x201D;&#xFF09;&#xFF0C;&#x5BF9;&#x4E8E;&#x56FD;&#x5185;&#x800C;&#x8A00;&#xFF0C;&#x7EDD;&#x5927;&#x591A;&#x6570;&#x9009;&#x62E9;CDH&#x7248;&#x672C;&#xFF0C;</li>
</ol>
<p>CDH&#x548C;Apache&#x7248;&#x672C;&#x4E3B;&#x8981;&#x533A;&#x522B;&#xFF1A;</p>
<ul>
<li>CDH&#x5BF9;Hadoop&#x7248;&#x672C;&#x7684;&#x5212;&#x5206;&#x975E;&#x5E38;&#x6E05;&#x6670;&#xFF0C;&#x76EE;&#x524D;&#x7EF4;&#x62A4;&#x7684;&#x6709;&#x4E24;&#x4E2A;&#x7CFB;&#x5217;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x5206;&#x522B;&#x662F;cdh4&#x548C;cdh5</li>
<li>&#x7531;&#x4E8E;Cloudera&#x505A;Hadoop&#x5F00;&#x53D1;&#x7684;&#xFF0C;&#x5176;&#x4ED6;&#x5382;&#x5546;&#x4EC5;&#x662F;&#x505A;Hadoop&#x96C6;&#x6210;&#x6216;CDH&#x96C6;&#x6210;&#xFF0C;&#x548C;Hadoop trunk&#x80FD;&#x6700;&#x5FEB;&#x7684;&#x540C;&#x6B65;&#xFF0C;&#x4FDD;&#x8BC1;&#x4E1A;&#x52A1;&#x7684;&#x524D;&#x5411;&#x517C;&#x5BB9;&#x6027;&#xFF1B;</li>
<li>&#x5B89;&#x5168; CDH&#x652F;&#x6301;Kerberos&#x5B89;&#x5168;&#x8BA4;&#x8BC1;&#xFF0C;apache hadoop&#x5219;&#x4F7F;&#x7528;&#x7B80;&#x964B;&#x7684;&#x7528;&#x6237;&#x540D;&#x5339;&#x914D;&#x8BA4;&#x8BC1;</li>
<li>CDH&#x6587;&#x6863;&#x6E05;&#x6670;&#xFF08;&#x5305;&#x62EC;&#x4E2D;&#x6587;&#x6587;&#x6863;&#xFF09;&#xFF0C;&#x5F88;&#x591A;&#x91C7;&#x7528;Apache&#x7248;&#x672C;&#x7684;&#x7528;&#x6237;&#x90FD;&#x4F1A;&#x9605;&#x8BFB;CDH&#x63D0;&#x4F9B;&#x7684;&#x6587;&#x6863;&#xFF0C;&#x5305;&#x62EC;&#x5B89;&#x88C5;&#x6587;&#x6863;&#x3001;&#x5347;&#x7EA7;&#x6587;&#x6863;&#x7B49;&#x3002;</li>
<li>CDH&#x652F;&#x6301;Yum/Apt&#x5305;&#xFF0C;Tar&#x5305;&#xFF0C;RPM&#x5305;&#xFF0C;CM&#x5B89;&#x88C5;&#xFF0C;Cloudera Manager&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x5B89;&#x88C5;,Apache hadoop&#x53EA;&#x652F;&#x6301;Tar&#x5305;&#x5B89;&#x88C5;&#x3002;</li>
</ul>
<h1 id="&#x5173;&#x4E8E;cdh">&#x5173;&#x4E8E;CDH</h1>
<p><a href="http%EF%BC%9A//www.cloudera.com/content/cloudera/zh-CN/documentation/core/v5-3-x/topics/introduction.html">&#x5B98;&#x65B9;&#x4ECB;&#x7ECD;</a><br>
Cloudera &#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x53EF;&#x6269;&#x5C55;&#x3001;&#x7075;&#x6D3B;&#x3001;&#x96C6;&#x6210;&#x7684;&#x5E73;&#x53F0;&#xFF0C;&#x53EF;&#x7528;&#x6765;&#x65B9;&#x4FBF;&#x5730;&#x7BA1;&#x7406;&#x60A8;&#x7684;&#x4F01;&#x4E1A;&#x4E2D;&#x5FEB;&#x901F;&#x589E;&#x957F;&#x7684;&#x591A;&#x79CD;&#x591A;&#x6837;&#x7684;&#x6570;&#x636E;&#x3002;&#x4E1A;&#x754C;&#x9886;&#x5148;&#x7684; Cloudera &#x4EA7;&#x54C1;&#x548C;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x4F7F;&#x60A8;&#x80FD;&#x591F;&#x90E8;&#x7F72;&#x5E76;&#x7BA1;&#x7406; Apache Hadoop &#x548C;&#x76F8;&#x5173;&#x9879;&#x76EE;&#x3001;&#x64CD;&#x4F5C;&#x548C;&#x5206;&#x6790;&#x60A8;&#x7684;&#x6570;&#x636E;&#x4EE5;&#x53CA;&#x4FDD;&#x62A4;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;&#x3002;</p>
<p>Cloudera &#x63D0;&#x4F9B;&#x4E0B;&#x5217;&#x4EA7;&#x54C1;&#x548C;&#x5DE5;&#x5177;&#xFF1A;</p>
<ul>
<li>CDH &#x2014; Cloudera &#x5206;&#x53D1;&#x7684; Apache Hadoop &#x548C;&#x5176;&#x4ED6;&#x76F8;&#x5173;&#x5F00;&#x653E;&#x6E90;&#x4EE3;&#x7801;&#x9879;&#x76EE;&#xFF0C;&#x5305;&#x62EC; Impala &#x548C; Cloudera Search&#x3002;CDH &#x8FD8;&#x63D0;&#x4F9B;&#x5B89;&#x5168;&#x4FDD;&#x62A4;&#x4EE5;&#x53CA;&#x4E0E;&#x8BB8;&#x591A;&#x786C;&#x4EF6;&#x548C;&#x8F6F;&#x4EF6;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x7684;&#x96C6;&#x6210;&#x3002;</li>
<li>Cloudera Manager &#x2014; &#x4E00;&#x4E2A;&#x590D;&#x6742;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x7528;&#x4E8E;&#x90E8;&#x7F72;&#x3001;&#x7BA1;&#x7406;&#x3001;&#x76D1;&#x63A7;&#x60A8;&#x7684; CDH &#x90E8;&#x7F72;&#x5E76;&#x8BCA;&#x65AD;&#x95EE;&#x9898;&#x3002;Cloudera Manager &#x63D0;&#x4F9B; Admin Console&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x57FA;&#x4E8E; Web &#x7684;&#x7528;&#x6237;&#x754C;&#x9762;&#xFF0C;&#x4F7F;&#x60A8;&#x7684;&#x4F01;&#x4E1A;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x7B80;&#x5355;&#x800C;&#x76F4;&#x63A5;&#x3002;&#x5B83;&#x8FD8;&#x5305;&#x62EC; Cloudera Manager API&#xFF0C;&#x53EF;&#x7528;&#x6765;&#x83B7;&#x53D6;&#x7FA4;&#x96C6;&#x8FD0;&#x884C;&#x72B6;&#x51B5;&#x4FE1;&#x606F;&#x548C;&#x5EA6;&#x91CF;&#x4EE5;&#x53CA;&#x914D;&#x7F6E; Cloudera Manager&#x3002;</li>
<li>Cloudera Navigator &#x2014; CDH &#x5E73;&#x53F0;&#x7684;&#x7AEF;&#x5230;&#x7AEF;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x5DE5;&#x5177;&#x3002;Cloudera Navigator &#x4F7F;&#x7BA1;&#x7406;&#x5458;&#x3001;&#x6570;&#x636E;&#x7ECF;&#x7406;&#x548C;&#x5206;&#x6790;&#x5E08;&#x80FD;&#x591F;&#x4E86;&#x89E3; Hadoop &#x4E2D;&#x7684;&#x5927;&#x91CF;&#x6570;&#x636E;&#x3002;Cloudera Navigator &#x4E2D;&#x5F3A;&#x5927;&#x7684;&#x5BA1;&#x6838;&#x3001;&#x6570;&#x636E;&#x7BA1;&#x7406;&#x3001;&#x6CBF;&#x88AD;&#x7BA1;&#x7406;&#x548C;&#x751F;&#x547D;&#x5468;&#x671F;&#x7BA1;&#x7406;&#x4F7F;&#x4F01;&#x4E1A;&#x80FD;&#x591F;&#x9075;&#x5B88;&#x4E25;&#x683C;&#x7684;&#x6CD5;&#x89C4;&#x9075;&#x4ECE;&#x6027;&#x548C;&#x6CD5;&#x89C4;&#x8981;&#x6C42;&#x3002;</li>
<li>Cloudera Impala &#x2014; &#x4E00;&#x79CD;&#x5927;&#x89C4;&#x6A21;&#x5E76;&#x884C;&#x5904;&#x7406; SQL &#x5F15;&#x64CE;&#xFF0C;&#x7528;&#x4E8E;&#x4EA4;&#x4E92;&#x5F0F;&#x5206;&#x6790;&#x548C;&#x5546;&#x4E1A;&#x667A;&#x80FD;&#x3002;&#x5176;&#x9AD8;&#x5EA6;&#x4F18;&#x5316;&#x7684;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x4F7F;&#x5B83;&#x975E;&#x5E38;&#x9002;&#x5408;&#x7528;&#x4E8E;&#x5177;&#x6709;&#x8054;&#x63A5;&#x3001;&#x805A;&#x5408;&#x548C;&#x5B50;&#x67E5;&#x8BE2;&#x7684;&#x4F20;&#x7EDF; BI &#x6837;&#x5F0F;&#x7684;&#x67E5;&#x8BE2;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;&#x6765;&#x81EA;&#x5404;&#x79CD;&#x6E90;&#x7684; Hadoop &#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x5305;&#x62EC;&#x7531; MapReduce &#x4F5C;&#x4E1A;&#x751F;&#x6210;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x6216;&#x52A0;&#x8F7D;&#x5230; Hive &#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x3002;YARN &#x548C; Llama &#x8D44;&#x6E90;&#x7BA1;&#x7406;&#x7EC4;&#x4EF6;&#x8BA9; Impala &#x80FD;&#x591F;&#x5171;&#x5B58;&#x4E8E;&#x4F7F;&#x7528; Impala SQL &#x67E5;&#x8BE2;&#x5E76;&#x53D1;&#x8FD0;&#x884C;&#x6279;&#x5904;&#x7406;&#x5DE5;&#x4F5C;&#x8D1F;&#x8F7D;&#x7684;&#x7FA4;&#x96C6;&#x4E0A;&#x3002;&#x60A8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Cloudera Manager &#x7528;&#x6237;&#x754C;&#x9762;&#x7BA1;&#x7406; Impala &#x53CA;&#x5176;&#x4ED6; Hadoop &#x7EC4;&#x4EF6;&#xFF0C;&#x5E76;&#x901A;&#x8FC7; Sentry &#x6388;&#x6743;&#x6846;&#x67B6;&#x4FDD;&#x62A4;&#x5176;&#x6570;&#x636E;&#x3002;</li>
</ul>
<h1 id="cloudera-quickstart-vm">Cloudera QuickStart VM</h1>
<p><a href="http%EF%BC%9A//www.cloudera.com/content/cloudera/en/downloads/quickstart_vms/cdh-5-4-x.html">&#x4E0B;&#x8F7D;&#x5730;&#x5740;</a>
&#x4E3A;&#x65B9;&#x4FBF;&#x5F00;&#x59CB;&#x4F7F;&#x7528;CDH&#x3001;Cloudera Manager&#x3001;Cloudera Impala &#x548C; Cloudera Search&#xFF0C;&#x8FD9;&#x4E9B;&#x865A;&#x62DF;&#x673A;&#x5668;&#x5305;&#x542B;&#x60A8;&#x6240;&#x9700;&#x7684;&#x4E00;&#x5207;&#x3002;</p>
<hr>
<h1 id="cdh&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">CDH&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h1>
<h2 id="cdh&#x5B89;&#x88C5;&#x53C2;&#x8003;&#x8D44;&#x6599;">CDH&#x5B89;&#x88C5;&#x53C2;&#x8003;&#x8D44;&#x6599;</h2>
<ul>
<li><a href="http%EF%BC%9A//zh-cn.cloudera.com/content/cloudera/en/products-and-services/cloudera-enterprise.html">cloudera&#x7B80;&#x4ECB;</a></li>
<li><a href="http%EF%BC%9A//www.cloudera.com/content/cloudera/zh-CN/documentation/core/v5-3-x/topics/introduction.html">cdh5&#x5B98;&#x65B9;&#x6587;&#x6863;</a></li>
<li><a href="http%EF%BC%9A//www.cloudera.com/content/cloudera/en/documentation/core/latest/topics/cdh_ig_req_supported_versions.html">CDH5&#x5B89;&#x88C5;&#x73AF;&#x5883;&#x8981;&#x6C42;</a></li>
<li><a href="http%EF%BC%9A//www.cloudera.com/content/cloudera/en/documentation/core/latest/topics/installation_installation.html">CDH5&#x7684;3&#x79CD;&#x5B89;&#x88C5;&#x65B9;&#x5F0F;</a></li>
<li><a href="http%EF%BC%9A//www.cloudera.com/content/cloudera/en/documentation/core/latest/topics/cm_ig_install_path_a.html#concept_vk4_psb_zm_unique_4">&#x5728;&#x7EBF;Yum/Wget&#x5B89;&#x88C5;&#x6559;&#x7A0B;</a></li>
<li><a href="http%EF%BC%9A//www.aboutyun.com/thread-9219-1-1.html">&#x5728;&#x7EBF;Yum/Wget&#x5B89;&#x88C5;&#x6559;&#x7A0B;-&#x4E2D;&#x6587;</a></li>
</ul>
<h2 id="&#x5728;&#x7EBF;&#x5B89;&#x88C5;&#x4F18;&#x52BF;">&#x5728;&#x7EBF;&#x5B89;&#x88C5;&#x4F18;&#x52BF;</h2>
<ol>
<li>&#x8054;&#x7F51;&#x5B89;&#x88C5;&#x3001;&#x5347;&#x7EA7;&#xFF0C;&#x975E;&#x5E38;&#x65B9;&#x4FBF;</li>
<li>&#x81EA;&#x52A8;&#x4E0B;&#x8F7D;&#x4F9D;&#x8D56;&#x8F6F;&#x4EF6;&#x5305;</li>
<li>Hadoop&#x751F;&#x6001;&#x7CFB;&#x7EDF;&#x5305;&#x81EA;&#x52A8;&#x5339;&#x914D;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4F60;&#x5BFB;&#x627E;&#x4E0E;&#x5F53;&#x524D;Hadoop&#x5339;&#x914D;&#x7684;Hbase&#xFF0C;Flume&#xFF0C;Hive&#x7B49;&#x8F6F;&#x4EF6;&#xFF0C;Yum/Apt&#x4F1A;&#x6839;&#x636E;&#x5F53;&#x524D;&#x5B89;&#x88C5;Hadoop&#x7248;&#x672C;&#x81EA;&#x52A8;&#x5BFB;&#x627E;&#x5339;&#x914D;&#x7248;&#x672C;&#x7684;&#x8F6F;&#x4EF6;&#x5305;&#xFF0C;&#x5E76;&#x4FDD;&#x8BC1;&#x517C;&#x5BB9;&#x6027;&#x3002;</li>
<li>&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x76F8;&#x5173;&#x76EE;&#x5F55;&#x5E76;&#x8F6F;&#x94FE;&#x5230;&#x5408;&#x9002;&#x7684;&#x5730;&#x65B9;&#xFF08;&#x5982;conf&#x548C;logs&#x7B49;&#x76EE;&#x5F55;&#xFF09;&#xFF1B;&#x81EA;&#x52A8;&#x521B;&#x5EFA;hdfs, mapred&#x7528;&#x6237;&#xFF0C;hdfs&#x7528;&#x6237;&#x662F;HDFS&#x7684;&#x6700;&#x9AD8;&#x6743;&#x9650;&#x7528;&#x6237;&#xFF0C;mapred&#x7528;&#x6237;&#x5219;&#x8D1F;&#x8D23;mapreduce&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x76F8;&#x5173;&#x76EE;&#x5F55;&#x7684;&#x6743;&#x9650;&#x3002;</li>
</ol>
<h2 id="&#x5728;&#x7EBF;&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5728;&#x7EBF;&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h2>
<ol>
<li>&#x9759;&#x6001;IP&#x914D;&#x7F6E;<br>
<code>cd /mnt/scripts/batch-update-ip &amp;&amp; chmod +x static-ip.sh &amp;&amp; ./static-ip.sh localhost eth1 192.168.1 81 1</code>
<a href="">&#x811A;&#x672C;&#x5730;&#x5740;</a></li>
<li>HostName&#x914D;&#x7F6E;/FQDN&#x914D;&#x7F6E;<br>
FQDN&#x662F;Fully Qualified Domain Name&#x7684;&#x7F29;&#x5199;, &#x542B;&#x4E49;&#x662F;&#x5B8C;&#x6574;&#x7684;&#x57DF;&#x540D;. &#x4F8B;&#x5982;, &#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E3B;&#x673A;&#x540D;(hostname)&#x662F;www, &#x57DF;&#x540E;&#x7F00;(domain)&#x662F;example.com, &#x90A3;&#x4E48;&#x8BE5;&#x4E3B;&#x673A;&#x7684;FQDN&#x5E94;&#x8BE5;&#x662F;www.example.com.
&#x6CE8;&#x610F;&#xFF1A;hosts&#x914D;&#x7F6E;&#x4E0D;&#x5F53;&#xFF0C;&#x540E;&#x9762;server&#x548C;agent&#x95F4;&#x901A;&#x8BAF;&#x4F1A;&#x5B58;&#x5728;&#x95EE;&#x9898;&#xFF0C;&#x53C2;&#x8003;host&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;</li>
</ol>
<ul>
<li>server/agent&#x914D;&#x7F6E;(master)</li>
</ul>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># /etc/hosts

# solr/hue/hive server
127.0.0.1 localhost.localdomain localhost

192.168.1.90   cdhtemplate.lt.com cdhtemplate

192.168.1.91   server1.lt.com server1
192.168.1.92   server2.lt.com server2
192.168.1.93   server3.lt.com server3
192.168.1.94   server4.lt.com server4
192.168.1.95   server5.lt.com server5

# HDFS NameNode
192.168.1.100  master.lt.com master

# HDFS DataNode
192.168.1.101  slave1.lt.com slave1
192.168.1.102  slave2.lt.com slave2
192.168.1.103  slave3.lt.com slave3
192.168.1.104  slave4.lt.com slave4
192.168.1.105  slave5.lt.com slave5
192.168.1.106  slave6.lt.com slave6
192.168.1.107  slave7.lt.com slave7
192.168.1.108  slave8.lt.com slave8
192.168.1.109  slave9.lt.com slave9
192.168.1.110  slave10.lt.com slave10</span><br></pre></td></tr></table></figure></p>
<ul>
<li>network&#x914D;&#x7F6E;</li>
</ul>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># /etc/sysconfig/network
NETWORKING=yes
HOSTNAME=master.lt.com
NTPSERVERARGS=iburst</span><br></pre></td></tr></table></figure></p>
<p><em>TODO&#xFF1A;&#x53EF;&#x5C40;&#x57DF;&#x7F51;&#x642D;&#x5EFA;DNS&#x670D;&#x52A1;&#x5668;&#xFF0C;Slave&#x673A;&#x5668;&#x5373;&#x53EF;&#x4E0D;&#x914D;&#x914D;&#x7F6E;hosts</em></p>
<ol start="3">
<li>
<p>SSH&#x65E0;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x914D;&#x7F6E;<br>
<em>TODO&#xFF1A;&#x8865;&#x5145;github&#x811A;&#x672C;&#x5730;&#x5740;</em>
<code>cd /mnt/scripts/batch-ssh &amp;&amp; chmod +x keygen_master.sh &amp;&amp; ./keygen_master.sh</code></p>
</li>
<li>
<p>iptables&#x9632;&#x706B;&#x5899;&#x914D;&#x7F6E;</p>
</li>
</ol>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#&#x67E5;&#x770B;&#x9632;&#x706B;&#x5899;&#x72B6;&#x6001;</span></span><br><span class="line">service iptables status </span><br><span class="line"><span class="comment">#&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; </span></span><br><span class="line">service iptables stop </span><br><span class="line"><span class="comment">#&#x6C38;&#x4E45;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; </span></span><br><span class="line">chkconfig iptables off</span><br></pre></td></tr></table></figure></p>
<ol start="5">
<li>selinux&#x5F3A;&#x5236;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x5B89;&#x5168;&#x914D;&#x7F6E;</li>
</ol>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#&#x67E5;&#x770B;SELinux&#x72B6;&#x6001;
/usr/sbin/sestatus -v 
#&#x6216;&#x547D;&#x4EE4;
getenforce 
#&#x5173;&#x95ED;SELinux
#1. &#x4E34;&#x65F6;&#x5173;&#x95ED;&#xFF08;&#x4E0D;&#x7528;&#x91CD;&#x542F;&#x673A;&#x5668;&#xFF09;&#xFF1A;
setenforce 0                  ##&#x8BBE;&#x7F6E;SELinux &#x6210;&#x4E3A;permissive&#x6A21;&#x5F0F;
                              ##setenforce 1 &#x8BBE;&#x7F6E;SELinux &#x6210;&#x4E3A;enforcing&#x6A21;&#x5F0F;
#2. &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;
vim /etc/selinux/config
#&#x5C06;SELINUX=enforcing&#x6539;&#x4E3A;SELINUX=disabled
#3. reboot</span><br></pre></td></tr></table></figure></p>
<ol start="6">
<li>swap&#x914D;&#x7F6E;
Cloudera &#x5EFA;&#x8BAE;&#x5C06; /proc/sys/vm/swappiness &#x8BBE;&#x7F6E;&#x4E3A; 0&#x3002;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x4E3A; 60&#x3002;
&#x67E5;&#x770B;&#x5F53;&#x524D;swap&#x5206;&#x533A;&#x8BBE;&#x7F6E;<code>cat /proc/sys/vm/swappiness</code><br>
&#x4E34;&#x65F6;&#x4FEE;&#x6539;&#x503C;&#xFF1A;<code>sudo sysctl vm.swappiness=0</code><br>
&#x6C38;&#x4E45;&#x4FEE;&#x6539;&#x503C;&#xFF1A;<code>vim /etc/sysctl.conf</code>&#xFF0C;&#x5728;&#x6700;&#x540E;&#x52A0;&#x4E00;&#x884C;<code>vm.swappiness = 0</code></li>
</ol>
<p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">swappiness&#x7684;&#x503C;&#x7684;&#x5927;&#x5C0F;&#x5BF9;&#x5982;&#x4F55;&#x4F7F;&#x7528;<span class="keyword">swap</span>&#x5206;&#x533A;&#x662F;&#x6709;&#x7740;&#x5F88;&#x5927;&#x7684;&#x8054;&#x7CFB;</span><br><span class="line">swappiness=<span class="number">0</span>&#x7684;&#x65F6;&#x5019;&#x8868;&#x793A;&#x6700;&#x5927;&#x9650;&#x5EA6;&#x4F7F;&#x7528;&#x7269;&#x7406;&#x5185;&#x5B58;&#xFF0C;&#x7136;&#x540E;&#x624D;&#x662F; <span class="keyword">swap</span>&#x7A7A;&#x95F4;</span><br><span class="line">swappiness&#xFF1D;<span class="number">100</span>&#x7684;&#x65F6;&#x5019;&#x8868;&#x793A;&#x79EF;&#x6781;&#x7684;&#x4F7F;&#x7528;<span class="keyword">swap</span>&#x5206;&#x533A;&#xFF0C;&#x5E76;&#x4E14;&#x628A;&#x5185;&#x5B58;&#x4E0A;&#x7684;&#x6570;&#x636E;&#x53CA;&#x65F6;&#x7684;&#x642C;&#x8FD0;&#x5230;<span class="keyword">swap</span>&#x7A7A;&#x95F4;&#x91CC;&#x9762;</span><br></pre></td></tr></table></figure></p>
<ol start="7">
<li>
<p>&#x5B89;&#x88C5;NTP&#x670D;&#x52A1;
http://www.aboutyun.com/thread-8921-1-1.html</p>
</li>
<li>
<p>cloudera-manager-installer.bin&#x5B89;&#x88C5;</p>
</li>
</ol>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http&#xFF1A;//archive.cloudera.com/cm5/installer/latest/cloudera-manager-installer.bin
chmod u+x cloudera-manager-installer.bin
sudo ./cloudera-manager-installer.bin</span><br></pre></td></tr></table></figure></p>
<ol start="9">
<li>
<p>&#x5728;&#x7EBF;&#x914D;&#x7F6E;<br>
&#x6253;&#x5F00;http&#xFF1A;//{host}&#xFF1A;7180/cmf/login<br>
&#x9ED8;&#x8BA4;&#x7528;&#x6237;&#x540D;/&#x5BC6;&#x7801;&#xFF1A;admin/admin<br>
<a href="http%EF%BC%9A//www.aboutyun.com/thread-9189-1-1.html">cloudera&#x914D;&#x7F6E;&#x6587;&#x4EF6;</a></p>
</li>
<li>
<p>&#x96C6;&#x7FA4;&#x90E8;&#x7F72;
Cloudera Manager</p>
</li>
</ol>
<p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Cloudera Manager</span><br><span class="line">HostMonitor</span><br><span class="line">Event Server</span><br><span class="line">Activity <span class="keyword">Monitor</span></span><br><span class="line">Service <span class="keyword">Monitor</span></span><br><span class="line">Alert Publisher</span><br></pre></td></tr></table></figure></p>
<p>Master</p>
<p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HDFS&#xFF1A;<span class="keyword">Active</span> NameNode</span><br><span class="line">Hbase&#xFF1A;<span class="keyword">Active</span> Master</span><br><span class="line">YARN&#xFF1A;<span class="keyword">Active</span> ResourceManager,JobHistory Server</span><br></pre></td></tr></table></figure></p>
<p>Standby Master</p>
<p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HDFS&#xFF1A;Standby NameNode&#x3001;DataNode</span><br><span class="line">Hbase&#xFF1A;Standby Master&#x3001;RegionServer</span><br><span class="line">YARN&#xFF1A;Standby ResourceManager,Node Manager</span><br><span class="line">HUE&#xFF1A;<span class="keyword">Hue</span> Server</span><br></pre></td></tr></table></figure></p>
<p>Slave1</p>
<p><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HDFS&#xFF1A;DataNode&#x3001;FailoverController&#x3001;JournalNode</span><br><span class="line">Hbase&#xFF1A;RegionServer</span><br><span class="line">YARN&#xFF1A;Node Manager</span><br><span class="line">Impala&#xFF1A;Impala CatalogServer,Impala StateStore,Impala lama ApplicationMaster</span><br><span class="line">Oozie&#xFF1A;Oozie <span class="built_in">Server</span></span><br><span class="line">Hive&#xFF1A;Hive <span class="built_in">Server</span></span><br><span class="line">Sor&#xFF1A;Solr <span class="built_in">Server</span></span><br><span class="line">ZoomKeeper&#xFF1A;zoomKeeper <span class="built_in">Server</span></span><br></pre></td></tr></table></figure></p>
<p>Slave2</p>
<p><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">HDFS&#xFF1A;DataNode&#x3001;FailoverController&#x3001;JournalNode</span><br><span class="line">Hbase&#xFF1A;RegionServer</span><br><span class="line">YARN&#xFF1A;Node Manager</span><br><span class="line">Impala&#xFF1A;Impala Daemon</span><br><span class="line">Hive&#xFF1A;Hive Metastore <span class="built_in">Server</span></span><br><span class="line">Sor&#xFF1A;Solr <span class="built_in">Server</span></span><br><span class="line">ZoomKeeper&#xFF1A;zoomKeeper <span class="built_in">Server</span></span><br></pre></td></tr></table></figure></p>
<p>Slave3</p>
<p><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HDFS&#xFF1A;DataNode&#x3001;FailoverController&#x3001;JournalNode</span><br><span class="line">Hbase&#xFF1A;RegionServer</span><br><span class="line">YARN&#xFF1A;Node Manager</span><br><span class="line">Impala&#xFF1A;Impala Daemon</span><br><span class="line">Spark&#xFF1A;Spark History <span class="built_in">Server</span></span><br><span class="line">Hive&#xFF1A;Hive Metastore <span class="built_in">Server</span></span><br><span class="line">Sor&#xFF1A;Solr <span class="built_in">Server</span></span><br><span class="line">ZoomKeeper&#xFF1A;zoomKeeper <span class="built_in">Server</span></span><br></pre></td></tr></table></figure></p>
<p>Slave4</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HDFS&#xFF1A;DataNode</span><br><span class="line">Hbase&#xFF1A;RegionServer</span><br><span class="line">YARN&#xFF1A;Node Manager</span><br><span class="line">Impala&#xFF1A;Impala Daemon</span><br></pre></td></tr></table></figure></p>
<p>&#x914D;&#x7F6E;&#x597D;&#x4E00;&#x53F0;Slave&#x865A;&#x62DF;&#x673A;&#x540E;&#xFF0C;&#x590D;&#x5236;&#x591A;&#x53F0;&#xFF0C;&#x5728;CM&#x4E2D;&#x6DFB;&#x52A0;&#x4E3B;&#x673A;&#x5E76;&#x5206;&#x914D;&#x96C6;&#x7FA4;</p>
<h1 id="&#x5916;&#x90E8;mysql&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;">&#x5916;&#x90E8;MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;</h1>
<h1 id="cdh5&#x8FD0;&#x7EF4;&#x76F8;&#x5173;">CDH5&#x8FD0;&#x7EF4;&#x76F8;&#x5173;</h1>
<h2 id="&#x7CFB;&#x7EDF;&#x670D;&#x52A1;">&#x7CFB;&#x7EDF;&#x670D;&#x52A1;</h2>
<p>&#x670D;&#x52A1;&#x67E5;&#x8BE2;&#xFF1A;<code>service --status-all| grep cloudera</code><br>
<em>&#x670D;&#x52A1;&#x7AEF;</em></p>
<ul>
<li>cloudera-scm-server</li>
<li>cloudera-scm-server-db<br>
<em>&#x5BA2;&#x6237;&#x7AEF;</em></li>
<li>cloudera-scm-agent</li>
</ul>
<h2 id="cloudera-manager-api">Cloudera Manager API</h2>
<p><a href="http%EF%BC%9A//www.cloudera.com/content/cloudera/zh-CN/documentation/core/v5-3-x/topics/cm_intro_api.html">&#x5B98;&#x65B9;&#x6587;&#x6863;</a>
Cloudera Manager API &#x63D0;&#x4F9B;&#x4E86;&#x914D;&#x7F6E;&#x548C;&#x670D;&#x52A1;&#x751F;&#x547D;&#x5468;&#x671F;&#x7BA1;&#x7406;&#x3001;&#x670D;&#x52A1;&#x8FD0;&#x884C;&#x72B6;&#x51B5;&#x4FE1;&#x606F;&#x548C;&#x6307;&#x6807;&#xFF0C;&#x5E76;&#x5141;&#x8BB8;&#x60A8;&#x914D;&#x7F6E; Cloudera Manager &#x672C;&#x8EAB;&#x3002;&#x6B64; API &#x4E0E; Cloudera Manager Admin Console &#x5728;&#x540C;&#x4E00;&#x4E3B;&#x673A;&#x548C;&#x7AEF;&#x53E3;&#x4E0A;&#x63A5;&#x53D7;&#x670D;&#x52A1;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4EFB;&#x4F55;&#x989D;&#x5916;&#x8FC7;&#x7A0B;&#x6216;&#x989D;&#x5916;&#x914D;&#x7F6E;&#x3002;&#x6B64; API &#x652F;&#x6301; HTTP &#x57FA;&#x672C;&#x9A8C;&#x8BC1;&#xFF0C;&#x63A5;&#x53D7;&#x7684;&#x7528;&#x6237;&#x548C;&#x51ED;&#x636E;&#x4E0E; Cloudera Manager Admin Console &#x76F8;&#x540C;&#x3002;</p>
<h2 id="cloudera-management-service">Cloudera Management Service</h2>
<p>Cloudera Management Service &#x53EF;&#x4F5C;&#x4E3A;&#x4E00;&#x7EC4;&#x89D2;&#x8272;&#x5B9E;&#x65BD;&#x5404;&#x79CD;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#xFF1A;
Activity Monitor - &#x6536;&#x96C6;&#x6709;&#x5173; MapReduce &#x670D;&#x52A1;&#x8FD0;&#x884C;&#x7684;&#x6D3B;&#x52A8;&#x7684;&#x4FE1;&#x606F;&#x3002;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x672A;&#x6DFB;&#x52A0;&#x6B64;&#x89D2;&#x8272;&#x3002;
Host Monitor - &#x6536;&#x96C6;&#x6709;&#x5173;&#x4E3B;&#x673A;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x51B5;&#x548C;&#x6307;&#x6807;&#x4FE1;&#x606F;
Service Monitor - &#x6536;&#x96C6;&#x6709;&#x5173;&#x670D;&#x52A1;&#x7684;&#x8FD0;&#x884C;&#x72B6;&#x51B5;&#x548C;&#x6307;&#x6807;&#x4FE1;&#x606F;&#x4EE5;&#x53CA; YARN &#x548C; Impala &#x670D;&#x52A1;&#x4E2D;&#x7684;&#x6D3B;&#x52A8;&#x4FE1;&#x606F;
Event Server - &#x805A;&#x5408; relevant Hadoop &#x4E8B;&#x4EF6;&#x5E76;&#x5C06;&#x5176;&#x7528;&#x4E8E;&#x8B66;&#x62A5;&#x548C;&#x641C;&#x7D22;
Alert Publisher - &#x4E3A;&#x7279;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x4E8B;&#x4EF6;&#x751F;&#x6210;&#x548C;&#x63D0;&#x4F9B;&#x8B66;&#x62A5;
Reports Manager - &#x751F;&#x6210;&#x62A5;&#x544A;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x7528;&#x6237;&#x3001;&#x7528;&#x6237;&#x7EC4;&#x548C;&#x76EE;&#x5F55;&#x7684;&#x78C1;&#x76D8;&#x4F7F;&#x7528;&#x7387;&#x7684;&#x5386;&#x53F2;&#x89C6;&#x56FE;&#xFF0C;&#x7528;&#x6237;&#x548C; YARN &#x6C60;&#x7684;&#x5904;&#x7406;&#x6D3B;&#x52A8;&#xFF0C;&#x4EE5;&#x53CA; HBase &#x8868;&#x548C;&#x547D;&#x540D;&#x7A7A;&#x95F4;&#x3002;&#x6B64;&#x89D2;&#x8272;&#x672A;&#x5728; Cloudera Express &#x4E2D;&#x6DFB;&#x52A0;&#x3002;
Cloudera Manager &#x5C06;&#x5355;&#x72EC;&#x7BA1;&#x7406;&#x6BCF;&#x4E2A;&#x89D2;&#x8272;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4F5C;&#x4E3A; Cloudera Manager Server &#x7684;&#x4E00;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x53EF;&#x5B9E;&#x73B0;&#x53EF;&#x6269;&#x5C55;&#x6027;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x5728;&#x5927;&#x578B;&#x90E8;&#x7F72;&#x4E2D;&#xFF0C;&#x5B83;&#x53EF;&#x7528;&#x4E8E;&#x5C06;&#x76D1;&#x63A7;&#x5668;&#x89D2;&#x8272;&#x7F6E;&#x4E8E;&#x81EA;&#x8EAB;&#x7684;&#x4E3B;&#x673A;&#x4E0A;&#xFF09;&#x548C;&#x9694;&#x79BB;&#x3002;</p>
<p>&#x6B64;&#x5916;&#xFF0C;&#x5BF9;&#x4E8E;&#x7279;&#x5B9A;&#x7248;&#x672C;&#x7684; Cloudera Enterprise &#x8BB8;&#x53EF;&#x8BC1;&#xFF0C;Cloudera Management Service &#x8FD8;&#x4E3A; Cloudera Navigator &#x63D0;&#x4F9B; Navigator Audit Server &#x548C; Navigator Metadata Server &#x89D2;&#x8272;&#x3002;</p>
<h1 id="&#x79BB;&#x7EBF;&#x5B89;&#x88C5;cdh">&#x79BB;&#x7EBF;&#x5B89;&#x88C5;CDH</h1>
<p><a href="%5Dhttp://blog.csdn.net/scgaliguodong123_/article/details/46661881">&#x79BB;&#x7EBF;&#x5B89;&#x88C5;Cloudera Manager5.3.4&#x4E0E;CDH5.3.4</a></p>
<h1 id="&#x5B89;&#x88C5;&#x95EE;&#x9898;&#x8BB0;&#x5F55;">&#x5B89;&#x88C5;&#x95EE;&#x9898;&#x8BB0;&#x5F55;</h1>
<ol>
<li>
<p>&#x65E0;&#x6CD5;&#x53D1;&#x51FA;&#x67E5;&#x8BE2;&#xFF1A;&#x672A;&#x80FD;&#x8FDE;&#x63A5;&#x5230; Host Monitor
&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#xFF1A;
1&#x3001;&#x65B0;&#x589E;cloudera management services
&#x6CE8;&#x610F;&#x65B0;&#x589E;&#x7684;&#x76EE;&#x6807;&#x673A;&#x5668;&#x56E0;&#x4E3A;scm-server&#x5B89;&#x88C5;&#x7684;&#x540C;&#x4E00;&#x53F0;&#x673A;&#x5668;&#xFF0C;&#x673A;&#x5668;&#x5185;&#x5B58;&#x6700;&#x597D;&gt;=8G</p>
</li>
<li>
<p>&lt;urlopen error [Errno 111] Connection refused&gt;</p>
</li>
</ol>
<ul>
<li>&#x95EE;&#x9898;&#x573A;&#x666F;&#xFF1A;CM&#x4E2D;&#x4E3B;&#x673A;CDH5&#x5B89;&#x88C5;Parcel&#x5B8C;&#x6210;&#x540E;&#x65E0;&#x6CD5;&#x5206;&#x914D;&#x548C;&#x6FC0;&#x6D3B;Agent</li>
<li>&#x8BE6;&#x7EC6;&#x65E5;&#x5FD7;&#xFF1A;downloader INFO  Finished download [ url&#xFF1A; http&#xFF1A;//master.lt.com&#xFF1A;7180/cmf/parcel/download/CDH-5.4.4-1.cdh5.4.4.p0.4-el6.parcel, state&#xFF1A; exception, total_bytes&#xFF1A; 0, downloaded_bytes&#xFF1A; 0, start_time&#xFF1A; 2015-08-11 22&#xFF1A;18&#xFF1A;32, download_end_time&#xFF1A; , end_time&#xFF1A; 2015-08-11 22&#xFF1A;18&#xFF1A;33, code&#xFF1A; 600, exception&#xFF1A; &lt;urlopen error [Errno 111] Connection refused&gt;, path&#xFF1A; None ]</li>
<li>&#x9519;&#x8BEF;&#x5206;&#x6790;&#xFF1A;&#x5728;slave&#x673A;&#x5668;&#x6267;&#x884C;<code>nc -v master.lt.com 7182</code> &#x8FD4;&#x56DE;refused&#xFF0C;&#x5224;&#x65AD;&#x662F;host&#x914D;&#x7F6E;&#x6709;&#x8BEF;&#x5BFC;&#x81F4;dns&#x89E3;&#x6790;&#x4E0D;&#x4E86;</li>
<li>&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#xFF1A;&#x5728;slave1&#x7684;hosts&#x4E2D;&#x65B0;&#x589E;master&#x7684;&#x57DF;&#x540D;&#x89E3;&#x6790;</li>
</ul>
<ol start="3">
<li>Cloudera Manager&#x65E0;&#x6CD5;&#x5220;&#x9664;&#x67D0;&#x9879;&#x670D;&#x52A1;
&#x5220;&#x9664;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x6216;&#x5728;&#x547D;&#x4EE4;&#x4E2D;&#x67E5;&#x770B;&#x6B63;&#x5728;&#x6267;&#x884C;&#x7684;&#xFF08;&#x5361;&#x6B7B;&#xFF09;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x4E2D;&#x6B62;&#x5373;&#x53EF;</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="hadoop&#x7248;&#x672C;&#x533A;&#x522B;">Hadoop&#x7248;&#x672C;&#x533A;&#x522B;</h1>
<p>&#x76EE;&#x524D;&#x4E0D;&#x6536;&#x8D39;&#x76]]>
    </summary>
    
      <category term="CDH" scheme="http://geosmart.github.io/tags/CDH/"/>
    
      <category term="Hadoop" scheme="http://geosmart.github.io/tags/Hadoop/"/>
    
      <category term="分布式" scheme="http://geosmart.github.io/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
      <category term="大数据" scheme="http://geosmart.github.io/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Python安装升级教程]]></title>
    <link href="http://geosmart.github.io/2015/08/05/Python%E5%AE%89%E8%A3%85%E5%8D%87%E7%BA%A7%E6%95%99%E7%A8%8B/"/>
    <id>http://geosmart.github.io/2015/08/05/Python安装升级教程/</id>
    <published>2015-08-05T12:32:44.000Z</published>
    <updated>2015-08-11T10:39:28.454Z</updated>
    <content type="html"><![CDATA[<h1 id="&#x5347;&#x7EA7;&#x524D;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;">&#x5347;&#x7EA7;&#x524D;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;</h1>
<p><code>yum groupinstall &quot;Development tools&quot;</code></p>
<h1 id="python-279-&#x4E0B;&#x8F7D;&#x89E3;&#x538B;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;">Python 2.7.9 &#x4E0B;&#x8F7D;&gt;&#x89E3;&#x538B;&gt;&#x7F16;&#x8BD1;&gt;&#x5B89;&#x88C5;</h1>
<p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wget http<span class="variable">s:</span>//www.<span class="keyword">python</span>.org/ftp/<span class="keyword">python</span>/<span class="number">2.7</span>.<span class="number">9</span>/Python-<span class="number">2.7</span>.<span class="number">9</span>.tgz </span><br><span class="line">tar jxvf Python-<span class="number">2.7</span>.<span class="number">9</span>.tgz   </span><br><span class="line">mv Python-<span class="number">2.7</span>.<span class="number">9</span>  <span class="keyword">python</span></span><br><span class="line"><span class="keyword">cd</span> <span class="keyword">python</span></span><br><span class="line">./configure --prefix=/usr/local/<span class="keyword">python</span></span><br><span class="line"><span class="keyword">make</span> &amp;&amp; <span class="keyword">make</span> altinstall</span><br></pre></td></tr></table></figure></p>
<ul>
<li>&#x5173;&#x4E8E;altinstall
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> Warning</span><br><span class="line">make <span class="operator"><span class="keyword">install</span> can overwrite <span class="keyword">or</span> masquerade the python <span class="built_in">binary</span>. make altinstall <span class="keyword">is</span> therefore recommended instead <span class="keyword">of</span> make <span class="keyword">install</span> since it <span class="keyword">only</span> installs exec_prefix/<span class="keyword">bin</span>/pythonversion.</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="&#x4FEE;&#x6539;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;python">&#x4FEE;&#x6539;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;Python</h1>
<ol>
<li>&#x67E5;&#x770B;&#x5DF2;&#x6709;python&#x7248;&#x672C;
<code>python -V</code></li>
<li>&#x67E5;&#x770B;Python&#x7248;&#x672C;
<code>/usr/local/python/bin/python2.7 -V</code></li>
<li>&#x5C06;&#x7CFB;&#x7EDF;&#x9ED8;&#x8BA4;Python&#x6539;&#x4E3A;&#x65B0;&#x5B89;&#x88C5;&#x7684;Python
<code>ln -fs /usr/local/python/bin/python2.7 /usr/bin/python</code></li>
</ol>
<h1 id="yum&#x65E0;&#x6CD5;&#x8FD0;&#x884C;&#x95EE;&#x9898;">yum&#x65E0;&#x6CD5;&#x8FD0;&#x884C;&#x95EE;&#x9898;</h1>
<p>&#x8FDB;&#x884C;&#x66F4;&#x6539;&#x540E;&#xFF0C;yum&#x4F1A;&#x65E0;&#x6CD5;&#x8FD0;&#x884C;&#x4E86;&#x3002;&#x4FEE;&#x6539;/usr/bin/yum&#x6587;&#x4EF6;&#xFF0C;&#x5C06;&#x7B2C;&#x4E00;&#x884C;&#x7684;<br>
<code>#!/usr/bin/python</code><br>
&#x4E2D;&#x7684;python&#x6539;&#x4E3A;&#x7CFB;&#x7EDF;&#x539F;&#x6709;&#x7684;python&#x7248;&#x672C;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;<br>
<code>#!/usr/bin/python2.6</code></p>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="&#x5347;&#x7EA7;&#x524D;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;">&#x5347;&#x7EA7;&#x524D;&#x5B89;&#x88C5;&#x4F9D;&#x8D56;</h1>
<p><code>yum]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="Python" scheme="http://geosmart.github.io/tags/Python/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/categories/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[IIS与Tomcat共享80端口]]></title>
    <link href="http://geosmart.github.io/2015/08/03/IIS%E4%B8%8ETomcat%E5%85%B1%E4%BA%AB80%E7%AB%AF%E5%8F%A3/"/>
    <id>http://geosmart.github.io/2015/08/03/IIS与Tomcat共享80端口/</id>
    <published>2015-08-03T08:27:21.000Z</published>
    <updated>2015-09-07T13:27:57.256Z</updated>
    <content type="html"><![CDATA[<p>&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x6709;80&#x7AEF;&#x53E3;&#x8981;&#x6C42;&#xFF0C;&#x4F46;&#x662F;80&#x7AEF;&#x53E3;&#x5DF2;&#x8FD0;&#x884C;&#x4E86;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#xFF0C;&#x5982;&#x4F55;&#x5C06;&#x540E;&#x7AEF;J2EE&#x5B9E;&#x73B0;&#x7684;&#x670D;&#x52A1;&#x96C6;&#x6210;&#x5230;80&#x7AEF;&#x53E3;&#xFF0C;&#x5373;Tomcat&#x96C6;&#x6210;&#x8FDB;IIS&#x3002;
&#x8C03;&#x7814;&#x4E86;&#x4E09;&#x79CD;&#x65B9;&#x6848;&#xFF0C;Apache Tomcat Connector&#xFF08;isapi_redirect&#x5B9E;&#x73B0;&#xFF09;&#x3001;ARR&#xFF08;IIS&#x4E2D;&#x7684;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#xFF09;&#x548C; IIS2Tomcat(BonCode AJP&#x5B9E;&#x73B0;)&#xFF0C;&#x6309;&#x7167;&#x6700;&#x8F7B;&#x91CF;&#x6700;&#x7B80;&#x6D01;&#x7684;&#x90E8;&#x7F72;&#x8981;&#x6C42;&#xFF0C;&#x6700;&#x7EC8;&#x91C7;&#x7528;AJP&#x5B9E;&#x73B0;&#x3002;</p>
<h1 id="isapi_redirect">isapi_redirect</h1>
<p><a href="http://tomcat.apache.org/connectors-doc/webserver_howto/iis.html">&#x5B98;&#x65B9;&#x53C2;&#x8003;</a><br>
&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF1A;</p>
<ol>
<li>The IIS-Tomcat redirector is an IIS plugin (filter + extension), IIS load the redirector plugin and calls its filter function for each in-coming request.</li>
<li>The filter then tests the request URL against a list of URI-paths held inside uriworkermap.properties, If the current request matches one of the entries in the list of URI-paths, the filter transfers the request to the extension.</li>
<li>The extension collects the request parameters and forwards them to the appropriate worker using the defined protocol like ajp13.</li>
<li>The extension collects the response from the worker and returns it to the browser<br>
&#x914D;&#x7F6E;&#x6CE8;&#x518C;&#x8868;&#xFF0C;DLL&#x7B49;&#x6B65;&#x9AA4;&#x7E41;&#x7410;&#xFF0C;&#x6613;&#x51FA;&#x9519;&#xFF0C;&#x5982;&#x5B98;&#x65B9;&#x6240;&#x8BF4;&#x4F60;&#x5F88;&#x96BE;&#x4E00;&#x6B21;&#x6027;&#x914D;&#x7F6E;&#x6210;&#x529F;-_-</li>
</ol>
<h1 id="arr">ARR</h1>
<p>ARR&#xFF1A;Application Request Routing&#xFF0C;&#x7C7B;&#x4F3C;Nginx&#x7684;&#x53CD;&#x5411;&#x4EE3;&#x7406;<br>
<a href="http://www.iisadmin.co.uk/?p=326">&#x914D;&#x7F6E;&#x6559;&#x7A0B;</a><br>
ARR is a good starting point if you want to connect Apache Tomcat to IIS 7, however, there are some issues especially under load that make this less than ideal solution.</p>
<ol>
<li>There are still differences in the way headers are handled between ARR and Tomcat and not all are transferred.</li>
<li>ARR will be heavier on the network as it requires that http data is transferred in full byte length without being able to take advantage of binary compression and byte encoding the AJP protocol offers.</li>
<li>Under load ARR will not be aware of Tomcat thread handling resulting in unnecessarily dropped connections.</li>
<li>Secure (https) connections cannot be easily handled if tomcat needs to be aware of certificates used.</li>
</ol>
<h1 id="ajp">AJP</h1>
<p>AJP&#xFF1A;Apache JServ Protocol version<br>
<a href="https://github.com/Bilal-S/iis2tomcat">&#x9879;&#x76EE;&#x5730;&#x5740;</a><br>
<a href="http://tomcatiis.riaforge.org">&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF08;&#x9700;&#x7FFB;&#x5899;&#xFF09;</a><br>
<a href="http://blog.csdn.net/zhang_hui_cs/article/details/9399373#reply">&#x53C2;&#x8003;&#x535A;&#x5BA2;</a><br>
<a href="http://v.youku.com/v_show/id_XNTg1MTgyODgw.html">&#x8BE6;&#x7EC6;&#x914D;&#x7F6E;&#x89C6;&#x9891;&#x6559;&#x7A0B;</a></p>
<h2 id="&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x4E8C;&#x7EA7;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x8981;&#x70B9;">&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x4E8C;&#x7EA7;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x8981;&#x70B9;</h2>
<ol>
<li>&#x6267;&#x884C;Connector_Setup.exe&#x5B89;&#x88C5;</li>
<li>&#x5728;IIS&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x4E0B;&#x65B0;&#x589E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;examples,&#x7269;&#x7406;&#x8DEF;&#x5F84;&#x6307;&#x5411;tomcat/webapps/examples</li>
<li>&#x5728;examples&#x6839;&#x76EE;&#x5F55;&#x65B0;&#x589E;&#x914D;&#x7F6E;BIN&#x76EE;&#x5F55;&#xFF08;&#x5305;&#x542B;BonCodeAJP13.dll&#x3001;BonCodeIIS.dll&#x548C;iisRemoveHandlers.txt&#xFF09;&#x548C;web.config
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">system.webServer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">handlers</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">add</span> <span class="attribute">name</span>=<span class="value">&quot;BonCodeForAll&quot;</span> <span class="attribute">path</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">verb</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;BonCodeIIS.BonCodeCallHandler&quot;</span> <span class="attribute">resourceType</span>=<span class="value">&quot;Unspecified&quot;</span> <span class="attribute">preCondition</span>=<span class="value">&quot;integratedMode&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">add</span> <span class="attribute">name</span>=<span class="value">&quot;BonCode-Tomcat-JSP-Handler&quot;</span> <span class="attribute">path</span>=<span class="value">&quot;*.jsp&quot;</span> <span class="attribute">verb</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;BonCodeIIS.BonCodeCallHandler&quot;</span> <span class="attribute">preCondition</span>=<span class="value">&quot;integratedMode&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">add</span> <span class="attribute">name</span>=<span class="value">&quot;BonCode-Tomcat-CFC-Handler&quot;</span> <span class="attribute">path</span>=<span class="value">&quot;*.cfc&quot;</span> <span class="attribute">verb</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;BonCodeIIS.BonCodeCallHandler&quot;</span> <span class="attribute">preCondition</span>=<span class="value">&quot;integratedMode&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">add</span> <span class="attribute">name</span>=<span class="value">&quot;BonCode-Tomcat-CFM-Handler&quot;</span> <span class="attribute">path</span>=<span class="value">&quot;*.cfm&quot;</span> <span class="attribute">verb</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;BonCodeIIS.BonCodeCallHandler&quot;</span> <span class="attribute">preCondition</span>=<span class="value">&quot;integratedMode&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">handlers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">defaultDocument</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">files</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">add</span> <span class="attribute">value</span>=<span class="value">&quot;index.jsp&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">add</span> <span class="attribute">value</span>=<span class="value">&quot;index.cfm&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">files</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">defaultDocument</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x6709;80&#x7AEF;&#x53E3;&#x8981;&#x6C42;&#xFF0C;&#x4F46;&#x662F;80&#x7AEF;&#x53E3;&#x5DF2;&#x8F]]>
    </summary>
    
      <category term="IIS" scheme="http://geosmart.github.io/tags/IIS/"/>
    
      <category term="J2EE" scheme="http://geosmart.github.io/tags/J2EE/"/>
    
      <category term="Tomcat" scheme="http://geosmart.github.io/tags/Tomcat/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/categories/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[backbone.marionette学习要点]]></title>
    <link href="http://geosmart.github.io/2015/07/28/backbone-marionette%E5%AD%A6%E4%B9%A0%E8%A6%81%E7%82%B9/"/>
    <id>http://geosmart.github.io/2015/07/28/backbone-marionette学习要点/</id>
    <published>2015-07-28T05:35:07.000Z</published>
    <updated>2015-09-07T13:29:04.191Z</updated>
    <content type="html"><![CDATA[<h1 id="marionettebackbone&#x7684;&#x7275;&#x7EBF;&#x6728;&#x5076;">Marionette&#xFF08;Backbone&#x7684;&#x7275;&#x7EBF;&#x6728;&#x5076;&#xFF09;</h1>
<p>&#x63D0;&#x4F9B;rendering&#x3001;template&#x7BA1;&#x7406;&#x3001;UI&#x5BF9;&#x8C61;</p>
<h1 id="model">Model</h1>
<p>rest&#x6570;&#x636E;&#xFF0C;event&#x4E8B;&#x4EF6;</p>
<h1 id="collectionlistmodel">Collection&#xFF1A;List&lt;model&gt;</h1>
<h1 id="view">View</h1>
<h2 id="itemview">ItemView</h2>
<ul>
<li>Backbone.View&#x7684;&#x6269;&#x5C55;&#xFF0C;&#x7528;&#x4E8E;&#x6E32;&#x67D3;Backbone.Model</li>
<li>&#x62E5;&#x6709;modelEvents&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x7ED1;&#x5B9A;View&#x65B9;&#x6CD5;</li>
</ul>
<h2 id="collectionview">CollectionView</h2>
<ul>
<li>&#x7528;&#x4E8E;&#x6E32;&#x67D3;Backbone.Collection</li>
<li>&#x53EF;&#x6E32;&#x67D3;List&lt;ItemView&gt;</li>
<li>&#x62E5;&#x6709;collectionEvents/childEvents&#x5C5E;&#x6027;&#xFF0C;</li>
<li>add/remove/reset/etc&#x540E;&#x81EA;&#x52A8;&#x66F4;&#x65B0;&#x89C6;&#x56FE;</li>
<li>&#x652F;&#x6301;Filtering&#xFF08;filter&#x65B9;&#x6CD5;&#xFF09;&#x3001;Sorting&#xFF08;comparator&#x5C5E;&#x6027;&#xFF09;</li>
<li>&#x652F;&#x6301;Pagination</li>
</ul>
<h2 id="compositeview">CompositeView</h2>
<ul>
<li>renders a Collection within a template</li>
<li>ItemView&#xFF08;model&#xFF09;&#x548C;CollectionView&#xFF08;collection&#xFF09;&#x7684;&#x7EC4;&#x5408;</li>
<li>&#x7528;&#x4E8E;detail/table/nested lists/treeview&#x7C7B;&#x578B;&#x7684;&#x573A;&#x666F;</li>
</ul>
<h1 id="view-containers">View Containers</h1>
<h2 id="region">Region</h2>
<p>View&#x5BB9;&#x5668;&#xFF0C;&#x6E32;&#x67D3;&#x81F3;DOM&#xFF0C;DOM&#x548C;Backbone&#x7684;&#x6865;&#x6881;</p>
<h2 id="layoutview">LayoutView</h2>
<ul>
<li>&#x7528;&#x4E8E;&#x590D;&#x6742;&#x5D4C;&#x5957;&#x5E03;&#x5C40;&#xFF0C;multi-view&#x7EC4;&#x6210;&#x7684;widget</li>
<li>Region&#x5BB9;&#x5668;</li>
<li>render all in one call</li>
</ul>
<h1 id="application">Application</h1>
<p>initialization&#x521D;&#x59CB;&#x5316;&#x548C; bootstrapping&#x5F15;&#x5BFC;&#x7A0B;&#x5E8F;</p>
<h1 id="module">Module</h1>
<p>&#x7C7B;&#x4F3C;Application&#xFF0C;&#x591A;&#x4E2A;Modules&#x7EC4;&#x6210;Application
&#x53EF;&#x63A7;&#x5236;start/stop&#x6A21;&#x5757;&#xFF08;&#x53CA;&#x5176;&#x5B50;&#x6A21;&#x5757;&#xFF09;</p>
<h1 id="controller">Controller</h1>
<p>&#x7EC4;&#x4EF6;&#x95F4;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;&#x7528;&#x4E8E;&#x590D;&#x6742;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;</p>
<p>layouts/regions&#xFF1A;&#x52A8;&#x6001;create/display/dispose&#x9875;&#x9762;dom</p>
<h1 id="event-aggregrator">event aggregrator</h1>
<p>&#x53EF;bind/trigger&#x4E8B;&#x4EF6;
module/application&#x7EA7;&#x522B;&#x7684;&#x4E8B;&#x4EF6;&#x901A;&#x9053;&#xFF0C;&#x5176;&#x4ED6;&#x6240;&#x6709;&#x6A21;&#x5757;&#x90FD;&#x53EF;&#x76D1;&#x542C;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x5982;&#x7528;&#x6237;&#x767B;&#x9646;&#x6210;&#x529F;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;</p>
<h1 id="commands">Commands</h1>
<p>&#x591A;&#x5904;&#x89E6;&#x53D1;&#xFF0C;&#x4E00;&#x5904;&#x5904;&#x7406;</p>
<h1 id="requestresponse">Request/Response</h1>
<p>&#x7528;&#x4E8E;&#x63D0;&#x4F9B;Application Level Data&#xFF0C;&#x5982;&#x8D2D;&#x7269;&#x8F66;&#x5F53;&#x524D;&#x72B6;&#x6001;
&#x63D0;&#x4F9B;&#x5168;&#x5C40;&#x72B6;&#x6001;&#xFF0C;&#x65E0;&#x9700;&#x6240;&#x6709;&#x6A21;&#x5757;&#x90FD;&#x505A;&#x5904;&#x7406;&#xFF0C;&#x4F46;&#x6613;&#x88AB;&#x6EE5;&#x7528;&#xFF0C;&#x5F53;&#x5168;&#x5C40;&#x53EF;&#x64CD;&#x4F5C;&#x65F6;&#x96BE;&#x9884;&#x6D4B;&#x5176;&#x5F71;&#x54CD;</p>
<p>appRouter&#xFF1A;</p>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="marionettebackbone&#x7684;&#x7275;&#x7EBF;&#x6728;&#x5076;">Marionette&#xFF08;Backbone&#x7684;&#x7275;&#x7EBF;&#x6728;&#x5076;&#xFF0]]>
    </summary>
    
      <category term="Backbone" scheme="http://geosmart.github.io/tags/Backbone/"/>
    
      <category term="前端" scheme="http://geosmart.github.io/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[xmanager实现CentOS远程控制]]></title>
    <link href="http://geosmart.github.io/2015/07/15/xmanager%E5%AE%9E%E7%8E%B0CentOS%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6/"/>
    <id>http://geosmart.github.io/2015/07/15/xmanager实现CentOS远程控制/</id>
    <published>2015-07-15T01:34:10.000Z</published>
    <updated>2015-08-03T08:58:41.366Z</updated>
    <content type="html"><![CDATA[<p>&#x672C;&#x6587;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x901A;&#x8FC7;Xmanager&#x8FDE;&#x63A5;CentOS&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x65F6;&#xFF0C;&#x5728;CentOS&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x548C;Windows&#x5BA2;&#x6237;&#x7AEF;&#x9700;&#x8981;&#x505A;&#x7684;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#x3002;</p>
<h1 id="xmanager&#x7B80;&#x4ECB;">Xmanager&#x7B80;&#x4ECB;</h1>
<p>Xmanager &#x5168;&#x79F0;Netsarang Xmanager&#xFF0C;&#x662F;&#x56FD;&#x5916;&#x4E00;&#x5957;&#x975E;&#x5E38;&#x4F18;&#x79C0;&#x7684;&#x8FDC;&#x7A0B;&#x76D1;&#x63A7;&#x8F6F;&#x4EF6;&#x3002;&#x5728;UNIX/Linux&#x548C;Windows&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;Xmanager&#x662F;&#x8F83;&#x597D;&#x7684;&#x8FDE;&#x901A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x901A;&#x8FC7;Xmanager&#x8FDE;&#x63A5;Linux&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x8FDB;&#x884C;&#x56FE;&#x5F62;&#x5316;&#x7BA1;&#x7406;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5229;&#x7528;&#x4E86;Xmanager&#x5957;&#x88C5;&#x91CC;&#x9762;&#x7684;Xbrowser&#x7A0B;&#x5E8F;&#x3002;
Linux&#x8FDC;&#x7A0B;&#x56FE;&#x5F62;&#x5316;&#x7BA1;&#x7406;&#x9664;&#x4E86;Xbrowser&#xFF0C;&#x8FD8;&#x6709;&#x540C;&#x6837;&#x4F18;&#x79C0;&#x7684;VNC&#x3002;</p>
<p>&#x7279;&#x70B9;&#x5305;&#x62EC;&#xFF1A;
&#x53EF;&#x901A;&#x8FC7;Xcongfig&#x5DE5;&#x5177;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;Xmanager&#x8BBE;&#x7F6E;&#xFF1B;
&#x652F;&#x6301;&#x591A;&#x7528;&#x6237;&#x7684;Windows&#x7EC8;&#x7AEF;&#x73AF;&#x5883;&#xFF1B;
&#x652F;&#x6301;&#x591A;&#x4E2A;IP&#x5730;&#x5740;&#xFF1B;
&#x652F;&#x6301;&#x672C;&#x5730;&#x8D44;&#x6E90;&#x6570;&#x636E;&#x5E93;&#xFF1B;
&#x901A;&#x8FC7;&#x70ED;&#x952E;&#x8F6C;&#x6362;&#x952E;&#x76D8;&#x6620;&#x5C04;&#xFF1B;
&#x652F;&#x6301;&#x591A;&#x7A97;&#x53E3;&#x4E0B;&#x7684;Windows&#x6253;&#x5370;&#x529F;&#x80FD;&#x7B49;</p>
<h1 id="centos&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x914D;&#x7F6E;">CentOS&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x914D;&#x7F6E;</h1>
<ol>
<li>
<p>&#x5B89;&#x88C5;gdm
yum -y install gdm
&#x914D;&#x7F6E;&#x7CFB;&#x7EDF;&#x4E3A;&#x56FE;&#x5F62;&#x6A21;&#x5F0F;&#xFF0C;&#x6253;&#x5F00;/etc/inittab&#xFF0C;&#x4FEE;&#x6539;&#x4E3A;id:5:initdefault: (&#x82E5;&#x5DF2;&#x4E3A;5&#x5219;&#x4E0D;&#x9700;&#x4FEE;&#x6539;)</p>
</li>
<li>
<p>&#x542F;&#x7528;&#x56FE;&#x5F62;&#x5316;&#x754C;&#x9762;
<code>vim /etc/inittab</code>&#xFF0C;3&#x6539;&#x4E3A;5
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">id:</span><span class="number">5</span>:<span class="string">initdefault:</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x914D;&#x7F6E;gdm&#x53C2;&#x6570;
<code>vim /etc/gdm/custom.conf</code>&#xFF0C;&#x5728;[security]&#x548C;[xdmcp]&#x5B57;&#x6BB5;&#x4E0B;&#x5206;&#x522B;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">[daemon]</span></span><br><span class="line"><span class="title">[security]</span></span><br><span class="line"><span class="setting">AllowRemoteRoot=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="title">[xdmcp]</span></span><br><span class="line"><span class="setting">Port=<span class="value"><span class="number">177</span></span></span></span><br><span class="line"><span class="setting">Enable=<span class="value"><span class="number">1</span></span></span></span><br><span class="line"><span class="title">[greeter]</span></span><br><span class="line"><span class="title">[chooser]</span></span><br><span class="line"><span class="title">[debug]</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x9632;&#x706B;&#x5899;&#x8BBE;&#x7F6E;</p>
</li>
</ol>
<ul>
<li>
<p>&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;
&#x4E34;&#x65F6;&#x5173;&#x95ED;&#xFF1A;<code>service iptables stop</code>
&#x6C38;&#x4E45;&#x5173;&#x95ED;&#xFF1A;<code>checkcfg iptables off</code></p>
</li>
<li>
<p>&#x5728;&#x9632;&#x706B;&#x5899;&#x4E0A;&#x6253;&#x5F00;udp&#x534F;&#x8BAE;177 &#x7AEF;&#x53E3;
<code>iptables -A INPUT -p tcp --dport 177 -j ACCEPT</code>
<code>service iptables save</code></p>
</li>
</ul>
<ol start="5">
<li>&#x91CD;&#x542F;&#x673A;&#x5668;
<code>reboot</code></li>
</ol>
<h1 id="windows&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;">Windows&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;</h1>
<ol>
<li>
<p>XManager&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x8FDE;&#x63A5;
&#x5728;Windows&#x4E0A;&#x6253;&#x5F00;XBrowser&#x901A;&#x8FC7;IP&#x5373;&#x53EF;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;CentOS
Xbrowser&gt;&#x5DE5;&#x5177;&gt;&#x9009;&#x9879;&gt;&#x6DFB;&#x52A0;&#x4E3B;&#x673A;&gt;&#x8FDE;&#x63A5;</p>
</li>
<li>
<p>Xshell&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x8FDE;&#x63A5;&#xFF0C;
Xshell&#x96A7;&#x9053;&#x8FDE;&#x63A5;&gt;&#x6267;&#x884C;<code>gnome-panel</code>&#x547D;&#x4EE4;
&#x5907;&#x6CE8;&#xFF1A;&#x53EA;&#x80FD;&#x8BBF;&#x95EE;&#x7528;&#x6237;&#x6587;&#x4EF6;&#x5939;</p>
</li>
</ol>
<h1 id="&#x6548;&#x679C;&#x56FE;">&#x6548;&#x679C;&#x56FE;</h1>
<p><img src="Xbrowser%E4%B8%BB%E7%95%8C%E9%9D%A2.png" alt="Xbrowser&#x4E3B;&#x754C;&#x9762;">
<img src="Xbrowser%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6.png" alt="Xbrowser&#x8FDC;&#x7A0B;&#x63A7;&#x5236;"></p>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x672C;&#x6587;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x901A;&#x8FC7;Xmanager&#x8FDE;&#x63A5;CentOS&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x65F6;&#x]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[开放虚拟化格式之OVF-OVA]]></title>
    <link href="http://geosmart.github.io/2015/07/12/%E5%BC%80%E6%94%BE%E8%99%9A%E6%8B%9F%E5%8C%96%E6%A0%BC%E5%BC%8F%E4%B9%8BOVF-OVA/"/>
    <id>http://geosmart.github.io/2015/07/12/开放虚拟化格式之OVF-OVA/</id>
    <published>2015-07-12T14:05:44.000Z</published>
    <updated>2015-09-07T13:29:15.498Z</updated>
    <content type="html"><![CDATA[<p>&#x9047;&#x5230;Sphere6.0 (esxi6 )&#x5BFC;&#x51FA;&#x7684;OVF&#x865A;&#x62DF;&#x673A;&#x6A21;&#x677F;&#x5728;Vmware WorkStation 9&#x548C;VmWare WorkStation11&#x4E2D;&#x5BFC;&#x5165;&#x62A5;&#x9519;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6682;&#x6539;&#x6210;OVA&#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x3002;</p>
<p>#&#x95EE;&#x9898;&#x63CF;&#x8FF0;
<img src="errorInfo.png" alt="&#x5BFC;&#x5165;&#x5931;&#x8D25;&#xFF0C;&#x672A;&#x901A;&#x8FC7; OVF &#x89C4;&#x8303;&#x4E00;&#x81F4;&#x6027;&#x6216;&#x865A;&#x62DF;&#x786C;&#x4EF6;&#x5408;&#x89C4;&#x6027;&#x68C0;&#x67E5;&#x3002;&#x8BF7;&#x5355;&#x51FB;&#x201C;&#x91CD;&#x8BD5;&#x201D;&#x653E;&#x677E; OVF &#x89C4;&#x8303;&#x4E0E;&#x865A;&#x62DF;&#x786C;&#x4EF6;&#x5408;&#x89C4;&#x6027;&#x68C0;&#x67E5;&#xFF0C;&#x5E76;&#x91CD;&#x65B0;&#x5C1D;&#x8BD5;&#x5BFC;&#x5165;"></p>
<h2 id="&#x89E3;&#x51B3;&#x65B9;&#x5F0F;">&#x89E3;&#x51B3;&#x65B9;&#x5F0F;</h2>
<p>&#x4EE5;OVA&#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x6362;
VMware&#x5BFC;&#x51FA;&#x65F6;&#x5C06;&#x540E;&#x7F00;&#x6539;&#x4E3A;OVA&#x540E;&#x5230;&#x5904;&#xFF1B;ESXI&#x5BFC;&#x51FA;&#x65F6;&#x9009;OVA</p>
<p>#&#x57FA;&#x7840;&#x77E5;&#x8BC6;</p>
<h2 id="ovf">OVF</h2>
<p>OVF&#xFF08;Open Virtualization Format&#xFF1A;&#x5F00;&#x653E;&#x865A;&#x62DF;&#x5316;&#x683C;&#x5F0F; &#xFF09;
OVF&#x662F;&#x4E00;&#x79CD;&#x5F00;&#x6E90;&#x7684;&#x6587;&#x4EF6;&#x89C4;&#x8303;&#xFF0C;&#x5B83;&#x63CF;&#x8FF0;&#x4E86;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x3001;&#x5B89;&#x5168;&#x3001;&#x6709;&#x6548;&#x3001;&#x53EF;&#x62D3;&#x5C55;&#x7684;&#x4FBF;&#x643A;&#x5F0F;&#x865A;&#x62DF;&#x6253;&#x5305;&#x4EE5;&#x53CA;&#x8F6F;&#x4EF6;&#x5206;&#x5E03;&#x683C;&#x5F0F;&#xFF0C;&#x5B83;&#x4E00;&#x822C;&#x6709;&#x51E0;&#x4E2A;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;&#x5206;&#x522B;&#x662F;ovf&#x6587;&#x4EF6;&#x3001;mf&#x6587;&#x4EF6;&#x3001;cert&#x6587;&#x4EF6;&#x3001;vmdk&#x6587;&#x4EF6;&#x548C;iso&#x6587;&#x4EF6;&#x3002;</p>
<h2 id="ova">OVA</h2>
<p>OVA&#xFF08;Open Virtualization Appliance&#xFF1A;&#x5F00;&#x653E;&#x865A;&#x62DF;&#x5316;&#x8BBE;&#x5907;&#xFF09;
OVA&#x5305;&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6240;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x4FE1;&#x606F;&#x90FD;&#x5C01;&#x88C5;&#x5728;&#x91CC;&#x9762;&#x3002;OVA&#x6587;&#x4EF6;&#x5219;&#x91C7;&#x7528;.tar&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D;,&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;OVF &#x5305;&#x4E2D;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x3002;&#x8FD9;&#x6837;OVA&#x5355;&#x4E00;&#x7684;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x4F7F;&#x5F97;&#x5B83;&#x975E;&#x5E38;&#x4FBF;&#x643A;&#x3002;</p>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x9047;&#x5230;Sphere6.0 (esxi6 )&#x5BFC;&#x51FA;&#x7684;OVF&#x865A;&#x62DF;&#x673A;&#x6A21;&#x677F;&#x5728;Vmware WorkStation 9&#x548C;]]>
    </summary>
    
      <category term="EXSI" scheme="http://geosmart.github.io/tags/EXSI/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[磁盘阵列配置]]></title>
    <link href="http://geosmart.github.io/2015/07/12/%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97%E9%85%8D%E7%BD%AE/"/>
    <id>http://geosmart.github.io/2015/07/12/磁盘阵列配置/</id>
    <published>2015-07-12T14:04:48.000Z</published>
    <updated>2015-08-08T01:19:25.070Z</updated>
    <content type="html"><![CDATA[<p>&#x65B0;&#x8D2D;&#x8FDB;&#x4E00;&#x53F0;&#x6234;&#x5C14;&#x5854;&#x5F0F;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x673A;&#x5668;3*300G&#x7684;&#x786C;&#x76D8;&#x9ED8;&#x8BA4;&#x5DF2;&#x505A;RAID5&#x914D;&#x7F6E;&#xFF0C;&#x65B0;&#x589E;&#x786C;&#x76D8;&#x9700;&#x914D;&#x7F6E;&#x78C1;&#x76D8;&#x9635;&#x5217;</p>
<h1 id="raid&#x5BB9;&#x91CF;&#x8BA1;&#x7B97;&#x5668;">RAID&#x5BB9;&#x91CF;&#x8BA1;&#x7B97;&#x5668;</h1>
<p>&#x914D;&#x7F6E;&#x524D;&#xFF0C;&#x53EF;&#x6839;&#x636E;&#x786C;&#x76D8;&#x6570;&#x548C;RAID&#x7EA7;&#x522B;&#xFF0C;&#x53EF;&#x8BA1;&#x7B97;&#x914D;&#x7F6E;&#x540E;&#x7684;&#x786C;&#x76D8;&#x5B9E;&#x9645;&#x53EF;&#x7528;&#x5BB9;&#x91CF;
&#x53C2;&#x8003;&#x8BA1;&#x7B97;&#x5DE5;&#x5177;</p>
<ul>
<li><a href="http://www.ab126.com/web/2879.html">RAID&#x5BB9;&#x91CF;&#x8BA1;&#x7B97;&#x5668;</a></li>
<li><a href="http://www.raid-calculator.com/default.aspx">raid-calculator</a></li>
</ul>
<p>#RAID&#x57FA;&#x7840;&#x77E5;&#x8BC6;</p>
<h2 id="raid-0">RAID 0</h2>
<p><img src="raid0.gif" alt="raid0"></p>
<ul>
<li>&#x7279;&#x70B9;&#xFF1A;&#x9AD8;&#x6027;&#x80FD; &#x4F4E;&#x7A33;&#x5B9A;&#x6027; &#x4E2D;&#x7B49;&#x6210;&#x672C;</li>
<li>RAID0&#x53C8;&#x79F0;&#x4E3A;Stripe&#xFF08;&#x6761;&#x5E26;&#x5316;&#xFF09;&#x6216;Striping&#xFF0C;&#x5B83;&#x4EE3;&#x8868;&#x4E86;&#x6240;&#x6709;RAID&#x7EA7;&#x522B;&#x4E2D;&#x6700;&#x9AD8;&#x7684;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#x3002;</li>
<li>RAID0&#x7684;&#x7F3A;&#x70B9;&#x662F;&#x4E0D;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x5197;&#x4F59;&#xFF0C;&#x56E0;&#x6B64;&#x4E00;&#x65E6;&#x7528;&#x6237;&#x6570;&#x636E;&#x635F;&#x574F;&#xFF0C;&#x635F;&#x574F;&#x7684;&#x6570;&#x636E;&#x5C06;&#x65E0;&#x6CD5;&#x5F97;&#x5230;&#x6062;&#x590D;&#x3002;</li>
<li>RAID 0&#x5177;&#x6709;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x4F7F;&#x5176;&#x7279;&#x522B;&#x9002;&#x7528;&#x4E8E;&#x5BF9;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x8F83;&#x9AD8;&#xFF0C;&#x800C;&#x5BF9;&#x6570;&#x636E;&#x5B89;&#x5168;&#x4E0D;&#x592A;&#x5728;&#x4E4E;&#x7684;&#x9886;&#x57DF;&#xFF0C;&#x5982;&#x56FE;&#x5F62;&#x5DE5;&#x4F5C;&#x7AD9;&#x7B49;&#x3002;</li>
<li>&#x5BF9;&#x4E8E;&#x4E2A;&#x4EBA;&#x7528;&#x6237;&#xFF0C;RAID 0&#x4E5F;&#x662F;&#x63D0;&#x9AD8;&#x786C;&#x76D8;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#x7684;&#x7EDD;&#x4F73;&#x9009;&#x62E9;&#x3002;</li>
</ul>
<h2 id="raid-1">RAID 1</h2>
<p><img src="raid1.gif" alt="raid1"></p>
<ul>
<li>&#x7279;&#x70B9;&#xFF1A;&#x9AD8;&#x7A33;&#x5B9A;&#x6027; &#x666E;&#x901A;&#x6027;&#x80FD; &#x4E2D;&#x7B49;&#x6210;&#x672C;</li>
<li>RAID 1&#x53C8;&#x79F0;&#x4E3A;Mirror&#x6216;Mirroring&#xFF08;&#x955C;&#x50CF;&#xFF09;&#xFF0C;&#x5B83;&#x7684;&#x5B97;&#x65E8;&#x662F;&#x6700;&#x5927;&#x9650;&#x5EA6;&#x7684;&#x4FDD;&#x8BC1;&#x7528;&#x6237;&#x6570;&#x636E;&#x7684;&#x53EF;&#x7528;&#x6027;&#x548C;&#x53EF;&#x4FEE;&#x590D;&#x6027;&#x3002;</li>
<li>RAID 1&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x662F;&#x628A;&#x7528;&#x6237;&#x5199;&#x5165;&#x786C;&#x76D8;&#x7684;&#x6570;&#x636E;&#x767E;&#x5206;&#x4E4B;&#x767E;&#x5730;&#x81EA;&#x52A8;&#x590D;&#x5236;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x786C;&#x76D8;&#x4E0A;&#x3002;</li>
<li>Mirror&#x867D;&#x4E0D;&#x80FD;&#x63D0;&#x9AD8;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;&#x5176;&#x5177;&#x6709;&#x7684;&#x9AD8;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x4F7F;&#x5176;&#x5C24;&#x5176;&#x9002;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x91CD;&#x8981;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x670D;&#x52A1;&#x5668;&#x548C;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x7B49;&#x9886;&#x57DF;&#x3002;</li>
</ul>
<h2 id="raid-5">RAID 5</h2>
<p><img src="raid5.gif" alt="raid5"></p>
<ul>
<li>&#x7279;&#x70B9;&#xFF1A;&#x9AD8;&#x6027;&#x80FD; &#x4E2D;&#x7B49;&#x7A33;&#x5B9A;&#x6027; &#x4E2D;&#x7B49;&#x6210;&#x672C;</li>
<li>RAID 5 &#x662F;&#x4E00;&#x79CD;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#x3001;&#x6570;&#x636E;&#x5B89;&#x5168;&#x548C;&#x5B58;&#x50A8;&#x6210;&#x672C;&#x517C;&#x987E;&#x7684;&#x5B58;&#x50A8;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</li>
<li>RAID 5&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x662F;RAID 0&#x548C;RAID 1&#x7684;&#x6298;&#x8877;&#x65B9;&#x6848;&#x3002;</li>
<li>RAID 5&#x53EF;&#x4EE5;&#x4E3A;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x5B89;&#x5168;&#x4FDD;&#x969C;&#xFF0C;&#x4F46;&#x4FDD;&#x969C;&#x7A0B;&#x5EA6;&#x8981;&#x6BD4;Mirror&#x4F4E;&#x800C;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x5229;&#x7528;&#x7387;&#x8981;&#x6BD4;Mirror&#x9AD8;&#x3002;</li>
<li>RAID 5&#x5177;&#x6709;&#x548C;RAID 0&#x76F8;&#x8FD1;&#x4F3C;&#x7684;&#x6570;&#x636E;&#x8BFB;&#x53D6;&#x901F;&#x5EA6;&#xFF0C;&#x53EA;&#x662F;&#x591A;&#x4E86;&#x4E00;&#x4E2A;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#xFF0C;&#x5199;&#x5165;&#x6570;&#x636E;&#x7684;&#x901F;&#x5EA6;&#x6BD4;&#x5BF9;&#x5355;&#x4E2A;&#x78C1;&#x76D8;&#x8FDB;&#x884C;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x7A0D;&#x6162;&#x3002;&#x540C;&#x65F6;&#x7531;&#x4E8E;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#xFF0C;RAID 5&#x7684;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x5229;&#x7528;&#x7387;&#x8981;&#x6BD4;RAID 1&#x9AD8;&#xFF0C;&#x5B58;&#x50A8;&#x6210;&#x672C;&#x76F8;&#x5BF9;&#x8F83;&#x4F4E;&#x3002;</li>
</ul>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x65B0;&#x8D2D;&#x8FDB;&#x4E00;&#x53F0;&#x6234;&#x5C14;&#x5854;&#x5F0F;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x673A;&#x5668;3*300G&#x7684;&#x]]>
    </summary>
    
      <category term="硬件" scheme="http://geosmart.github.io/tags/%E7%A1%AC%E4%BB%B6/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[nginx负载均衡参数配置]]></title>
    <link href="http://geosmart.github.io/2015/07/12/nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE/"/>
    <id>http://geosmart.github.io/2015/07/12/nginx负载均衡参数配置/</id>
    <published>2015-07-12T13:30:47.000Z</published>
    <updated>2015-09-07T13:28:36.848Z</updated>
    <content type="html"><![CDATA[<h1 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h1>
<p>Nginx&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x5927;&#x91CF;502Bad Gateway&#x548C;504 Time-Out&#xFF0C;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;Jetty&#x7AEF;&#x5B58;&#x5728;&#x5927;&#x91CF;CLOSE_WAIT&#x548C;TIME_WAIT&#x72B6;&#x6001;&#x7684;&#x8FDE;&#x63A5;
<img src="502-504.png" alt="502-504">
&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x67E5;&#x770B;&#x53E3;&#x4EE4;&#xFF1A;
<code>netstat -n | awk &apos;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&apos;</code></p>
<h1 id="&#x89E3;&#x51B3;&#x65B9;&#x6848;">&#x89E3;&#x51B3;&#x65B9;&#x6848;</h1>
<ol>
<li>Linux&#x4E2D;TCP/IP&#x5185;&#x6838;&#x53C2;&#x6570; &#x4F18;&#x5316;
&#x7F16;&#x8F91;&#x53C2;&#x6570;&#xFF1A;<code>vi /etc/sysctl.conf</code>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">net<span class="class">.core</span><span class="class">.somaxconn</span> = <span class="number">4096</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_max_syn_backlog</span> = <span class="number">8192</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_syn_retries</span>= <span class="number">5</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_synack_retries</span> = <span class="number">5</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_abort_on_overflow</span>=<span class="number">0</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_tw_reuse</span>=<span class="number">1</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_tw_recycle</span>=<span class="number">1</span> </span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_timestamps</span>=<span class="number">1</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_syncookies</span>=<span class="number">1</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_max_tw_buckets</span>=<span class="number">90000</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_fin_timeout</span>=<span class="number">30</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.ip_local_port_range</span>=<span class="number">10000</span> <span class="number">65000</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_keepalive_time</span>=<span class="number">1200</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>&#x8BA9;&#x53C2;&#x6570;&#x751F;&#x6548;&#xFF1A;<code>/sbin/sysctl -p</code></p>
<ol start="2">
<li>Nginx&#x914D;&#x7F6E;&#x53C2;&#x6570;
&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x4E09;&#x4E2A;proxy_&#x8D85;&#x65F6;&#x63A7;&#x5236;&#x53C2;&#x6570;
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">upstream</span> uadb_server{   </span><br><span class="line">     <span class="title">server</span> <span class="number">192.168.1.81:8080</span>  weight=<span class="number">1</span> max_fails=<span class="number">2</span> fail_timeout=<span class="number">0</span>; </span><br><span class="line">     <span class="title">server</span> <span class="number">192.168.1.82:8080</span>  weight=<span class="number">1</span> max_fails=<span class="number">2</span> fail_timeout=<span class="number">0</span>;    </span><br><span class="line">} </span><br><span class="line"><span class="title">server</span> {</span><br><span class="line">        <span class="title">listen</span>       <span class="number">9090</span>;</span><br><span class="line">        <span class="title">server_name</span>  uadb_server;   </span><br><span class="line">        <span class="title">access_log</span>  /var/log/nginx/uadb_server-access-ssl.log;</span><br><span class="line">        <span class="title">error_log</span>  /var/log/nginx/uadb_server-<span class="built_in">error</span>-ssl.log;</span><br><span class="line">        <span class="title">location</span> /{ </span><br><span class="line">           <span class="title">proxy_pass</span> <span class="url">http://uadb_server</span>; </span><br><span class="line">           <span class="comment"># time out settings</span></span><br><span class="line">           <span class="title">proxy_connect_timeout</span> <span class="number">60</span>;</span><br><span class="line">           <span class="title">proxy_read_timeout</span>  <span class="number">3600</span>;</span><br><span class="line">           <span class="title">proxy_send_timeout</span>  <span class="number">3600</span>;</span><br><span class="line">           <span class="title">proxy_temp_file_write_size</span> <span class="number">64k</span>;</span><br><span class="line">           <span class="title">proxy_redirect</span>          <span class="built_in">off</span>; </span><br><span class="line">        } </span><br><span class="line">}</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="nginx-upstream&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x53CD;&#x5411;&#x4EE3;&#x7406;">Nginx upstream&#x8D1F;&#x8F7D;&#x5747;&#x8861;/&#x53CD;&#x5411;&#x4EE3;&#x7406;</h1>
<p><img src="proxy.png" alt="proxy"></p>
<h2 id="upstream&#x7B97;&#x6CD5;&#x5206;&#x6790;">upstream&#x7B97;&#x6CD5;&#x5206;&#x6790;</h2>
<ol>
<li>&#x8F6E;&#x8BE2;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x6309;&#x65F6;&#x95F4;&#x987A;&#x5E8F;&#x5206;&#x914D;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x4E86;&#xFF0C;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;down&#x6389;&#xFF0C;&#x81EA;&#x52A8;&#x5207;&#x9664;&#xFF1B;</li>
<li>weight&#xFF1A;&#x8BBE;&#x5B9A;&#x670D;&#x52A1;&#x5668;&#x6743;&#x503C;&#xFF1A;&#x5982;weight=2&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x4E0D;&#x5747;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x3002;weight&#xFF1A;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;weight&#x8D8A;&#x5927;&#xFF0C;&#x8D1F;&#x8F7D;&#x7684;&#x6743;&#x91CD;&#x8D8A;&#x5927;&#xFF1B;</li>
<li>ip_hash &#xFF1A;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x6309;&#x8BBF;&#x95EE;ip&#x7684;hash&#x7ED3;&#x679C;&#x5206;&#x914D;&#xFF0C;&#x6BCF;&#x4E2A;&#x8BBF;&#x5BA2;&#x6709;&#x56FA;&#x5B9A;&#x7684;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;session&#x95EE;&#x9898;&#xFF1B;</li>
<li>fair&#xFF08;&#x7B2C;&#x4E09;&#x65B9;&#xFF09;&#xFF1A;&#x6309;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x6765;&#x5206;&#x914D;&#xFF0C;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x77ED;&#x7684;&#x4F18;&#x5148;&#x5206;&#x914D;</li>
<li>url_hash (&#x7B2C;&#x4E09;&#x65B9;)&#xFF1A; &#x6309;&#x8BBF;&#x95EE;&#x7684;url&#x7684;hash&#x7ED3;&#x679C;&#x5206;&#x914D;&#xFF0C;&#x4F7F;&#x6BCF;&#x4E2A;url&#x5B9A;&#x5411;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x540E;&#x7AEF;&#x4E3A;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x6BD4;&#x8F83;&#x6709;&#x6548;&#x3002;</li>
</ol>
<h2 id="upstream&#x53C2;&#x6570;&#x4ECB;&#x7ECD;">upstream&#x53C2;&#x6570;&#x4ECB;&#x7ECD;</h2>
<ol>
<li>down&#xFF1A;&#x5F53;&#x524D;&#x7684;IP server&#x6682;&#x65F6;&#x4E0D;&#x53C2;&#x4E0E;&#x8D1F;&#x8F7D;&#xFF0C;&#x4E0D;&#x8FDB;&#x884C;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#xFF1B;</li>
<li>max_fails&#xFF1A;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x5931;&#x8D25;&#x7684;&#x6B21;&#x6570;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;&#x5F53;&#x8D85;&#x8FC7;&#x6700;&#x5927;&#x6B21;&#x6570;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;proxy_next_upstream&#x6A21;&#x5757;&#x5B9A;&#x4E49;&#x7684;&#x9519;&#x8BEF;&#xFF1B;</li>
<li>fail_timeout&#xFF1A;max_fails&#x6B21;&#x5931;&#x8D25;&#x540E;&#xFF0C;&#x6682;&#x505C;&#x7684;&#x65F6;&#x95F4;&#xFF1B;</li>
<li>backup&#xFF1A;&#x5176;&#x5B83;&#x6240;&#x6709;&#x975E;backup&#x673A;&#x5668;down&#x6216;&#x8005;&#x5FD9;&#x65F6;&#x5019;&#xFF0C;&#x8BF7;&#x6C42;backup&#x673A;&#x5668;&#xFF0C;&#x8FD9;&#x53F0;&#x673A;&#x5668;&#x538B;&#x529B;&#x6700;&#x8F7B;&#x3002;</li>
</ol>
<h1 id="netstat&#x53C2;&#x6570;&#x72B6;&#x6001;">netstat&#x53C2;&#x6570;&#x72B6;&#x6001;</h1>
<p>&#x67E5;&#x770B;&#x53E3;&#x4EE4;&#xFF1A;<code>netstat -an</code>
&#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF1A;
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">LISTEN&#xFF1A;&#x4FA6;&#x542C;&#x6765;&#x81EA;&#x8FDC;&#x65B9;&#x7684;TCP&#x7AEF;&#x53E3;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">SYN-SENT&#xFF1A;&#x5728;&#x53D1;&#x9001;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x540E;&#x7B49;&#x5F85;&#x5339;&#x914D;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">SYN-RECEIVED&#xFF1A;&#x5728;&#x6536;&#x5230;&#x548C;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x540E;&#x7B49;&#x5F85;&#x5BF9;&#x65B9;&#x5BF9;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">ESTABLISHED&#xFF1A;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x6253;&#x5F00;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x6211;&#x4EEC;&#x5E38;&#x7528;&#x6B64;&#x4F5C;&#x4E3A;&#x5E76;&#x53D1;&#x8FDE;&#x63A5;&#x6570;&#xFF1B;</span><br><span class="line">FIN-WAIT-1&#xFF1A;&#x7B49;&#x5F85;&#x8FDC;&#x7A0B;TCP&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#xFF0C;&#x6216;&#x5148;&#x524D;&#x7684;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">FIN-WAIT-2&#xFF1A;&#x4ECE;&#x8FDC;&#x7A0B;TCP&#x7B49;&#x5F85;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">CLOSE-WAIT&#xFF1A;&#x7B49;&#x5F85;&#x4ECE;&#x672C;&#x5730;&#x7528;&#x6237;&#x53D1;&#x6765;&#x7684;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">CLOSING&#xFF1A;&#x7B49;&#x5F85;&#x8FDC;&#x7A0B;TCP&#x5BF9;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">LAST-ACK&#xFF1A;&#x7B49;&#x5F85;&#x539F;&#x6765;&#x53D1;&#x5411;&#x8FDC;&#x7A0B;TCP&#x7684;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">TIME-WAIT&#xFF1A;&#x7B49;&#x5F85;&#x8DB3;&#x591F;&#x7684;&#x65F6;&#x95F4;&#x4EE5;&#x786E;&#x4FDD;&#x8FDC;&#x7A0B;TCP&#x8FDE;&#x63A5;&#x6536;&#x5230;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line"><span class="keyword">CLOSED</span>&#xFF1A;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x8FDE;&#x63A5;&#x72B6;&#x6001;&#xFF1B;</span><br></pre></td></tr></table></figure></p>
<h1 id="&#x670D;&#x52A1;&#x5668;tcp&#x8FDE;&#x63A5;&#x72B6;&#x6001;">&#x670D;&#x52A1;&#x5668;TCP&#x8FDE;&#x63A5;&#x72B6;&#x6001;</h1>
<p>&#x67E5;&#x770B;&#x53E3;&#x4EE4;&#xFF1A;<code>netstat -an|awk &apos;/^tcp/{++S[$NF]}END{for (a in S)print a,S[a]}&apos;</code></p>
<pre><code>CLOSED&#xFF1A;&#x6CA1;&#x6709;&#x8FDE;&#x63A5;&#x6D3B;&#x52A8;&#x6216;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#xFF1B;
LISTEN&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x7684;&#x8FDB;&#x5165;&#x547C;&#x53EB;&#xFF1B;
SYN_RECV&#xFF1A;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x5DF2;&#x7ECF;&#x5230;&#x8FBE;&#xFF0C;&#x7B49;&#x5F85;&#x786E;&#x8BA4;&#xFF1B;
SYN_SENT&#xFF1A;&#x5E94;&#x7528;&#x5DF2;&#x7ECF;&#x5F00;&#x59CB;&#xFF0C;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#xFF1B;
ESTABLISHED&#xFF1A;&#x6B63;&#x5E38;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x72B6;&#x6001;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD1;&#x4F3C;&#x7684;&#x7406;&#x89E3;&#x4E3A;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5E76;&#x53D1;&#x6570;&#xFF1B;
FIN_WAIT1&#xFF1A;&#x5E94;&#x7528;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF1B;
FIN_WAIT2&#xFF1A;&#x53E6;&#x4E00;&#x8FB9;&#x540C;&#x610F;&#x91CA;&#x653E;&#xFF1B;
ITMED_WAIT&#xFF1A;&#x7B49;&#x5F85;&#x6240;&#x6709;&#x5206;&#x7EC4;&#x6B7B;&#x6389;&#xFF1B;
CLOSING&#xFF1A;&#x4E24;&#x8FB9;&#x540C;&#x65F6;&#x5C1D;&#x8BD5;&#x5173;&#x95ED;&#xFF1B;
TIME_WAIT&#xFF1A;&#x53E6;&#x4E00;&#x8FB9;&#x5DF2;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x4E2A;&#x91CA;&#x653E;&#xFF1B;
LAST_ACK&#xFF1A;&#x7B49;&#x5F85;&#x6240;&#x6709;&#x5206;&#x7EC4;&#x6B7B;&#x6389;&#xFF1B;
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h1>
<p>Nginx&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x5927;&#x9]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="Nginx" scheme="http://geosmart.github.io/tags/Nginx/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[CentOS常用脚本]]></title>
    <link href="http://geosmart.github.io/2015/07/06/centos%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/07/06/centos常用脚本/</id>
    <published>2015-07-06T08:41:15.000Z</published>
    <updated>2015-09-13T12:18:45.150Z</updated>
    <content type="html"><![CDATA[<p>CentOS&#x65E5;&#x5E38;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x79EF;&#x7D2F;&#x7684;Shell&#x811A;&#x672C;&#x6216;Linux&#x547D;&#x4EE4;&#xFF0C;&#x6301;&#x7EED;&#x7EF4;&#x62A4;&#x66F4;&#x65B0;</p>
<h1 id="&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;">&#x7F51;&#x7EDC;&#x8BBE;&#x7F6E;</h1>
<h2 id="hostname&#x4E3B;&#x673A;&#x540D;">HostName&#x4E3B;&#x673A;&#x540D;</h2>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#&#x67E5;&#x770B;hostname
hostname  
#&#x8BBE;&#x7F6E;&#x6307;&#x5B9A;&#x7684;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5730;&#x5740;
/etc/hosts       
# &#x8BBE;&#x7F6E;&#x4E3B;&#x673A;&#x540D;&#x548C;&#x7F51;&#x7EDC;&#x914D;&#x7F6E;
/etc/sysconfig/network</span><br></pre></td></tr></table></figure></p>
<h2 id="&#x9759;&#x6001;ip&#x8BBE;&#x7F6E;">&#x9759;&#x6001;IP&#x8BBE;&#x7F6E;</h2>
<p><a href="static-ip.sh">&#x4E0B;&#x8F7D; static-ip.sh</a><br>
&#x53C2;&#x6570;: <code>static-ip.sh &lt;hostname&gt; &lt;interface&gt; &lt;baseip&gt; &lt;ipaddress&gt; &lt;gateway/dns&gt;</code><br>
&#x793A;&#x4F8B;</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x  ./static-ip.sh &amp;&amp; ./static-ip.sh localhost eth0 192.168.1 81 1</span><br></pre></td></tr></table></figure></p>
<p>&#x624B;&#x52A8;&#x8BBE;&#x7F6E;IP</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#&#x4E34;&#x65F6;&#x8BBE;&#x7F6E;IP
ifconfig eth0 192.168.1.160
# &#x8BBE;&#x7F6E;DNS  
/etc/resolv.conf  
&#x4E34;&#x65F6;&#x8BBE;&#x7F6E;IP
ifconfig eth0 192.168.1.160</span><br></pre></td></tr></table></figure></p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#&#x9488;&#x5BF9;&#x7279;&#x5B9A;&#x7684;&#x7F51;&#x5361;&#x8FDB;&#x884C;&#x624B;&#x52A8;&#x8BBE;&#x7F6E;
vim /etc/sysconfig/network-scripts/ifcfg-eth0 

DEVICE=&quot;eth0&quot;
BOOTPROTO=&quot;static&quot;
HWADDR=&quot;00:0C:29:86:3D:16&quot;
IPV6INIT=&quot;yes&quot;
NM_CONTROLLED=&quot;yes&quot;
ONBOOT=&quot;yes&quot;
TYPE=&quot;Ethernet&quot;
UUID=&quot;dcf18d86-45ea-4b5c-9627-e75b19b3b6e7&quot;
IPADDR=192.168.1.82
NETMAST=255.255.255.0
DNS1=192.168.1.1</span><br></pre></td></tr></table></figure></p>
<h2 id="&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x4E0B;ssh&#x514D;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x8BA4;&#x8BC1;&#x811A;&#x672C;">&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x4E0B;ssh&#x514D;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x8BA4;&#x8BC1;&#x811A;&#x672C;</h2>
<p><a href="">todo-gitrepository</a></p>
<ol>
<li>&#x786E;&#x4FDD;&#x5404;&#x8282;&#x70B9;&#x5B89;&#x88C5;ssh,expect</li>
<li>&#x628A;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;</li>
<li>&#x914D;&#x7F6E;hosts.conf&#x548C;slaves.conf</li>
<li>&#x6267;&#x884C;keygen_master</li>
</ol>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x keygen_master.sh
./keygen_master.sh</span><br></pre></td></tr></table></figure></p>
<h1 id="ps&#x67E5;&#x770B;&#x8FDB;&#x7A0B;">PS&#x67E5;&#x770B;&#x8FDB;&#x7A0B;</h1>
<p>&#x901A;&#x5E38;&#x7528;ps&#x67E5;&#x770B;&#x8FDB;&#x7A0B;PID&#xFF0C;kill&#x7EC8;&#x6B62;&#x8FDB;&#x7A0B;</p>
<ul>
<li>grep &#x662F;&#x641C;&#x7D22;<br>
&#x4F8B;&#x5982;&#xFF1A;<code>ps -ef | grep java</code>&#x8868;&#x793A;&#x67E5;&#x770B;&#x6240;&#x6709;&#x8FDB;&#x7A0B;&#x91CC; CMD &#x662F; java &#x7684;&#x8FDB;&#x7A0B;&#x4FE1;&#x606F;</li>
<li>-aux &#x663E;&#x793A;&#x6240;&#x6709;&#x72B6;&#x6001;<br>
<code>ps -aux | grep java</code></li>
<li>kill &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x7EC8;&#x6B62;&#x8FDB;&#x7A0B;<br>
&#x4F8B;&#x5982;&#xFF1A; <code>kill -9 [PID]</code><br>
-9 &#x8868;&#x793A;&#x5F3A;&#x8FEB;&#x8FDB;&#x7A0B;&#x7ACB;&#x5373;&#x505C;&#x6B62;</li>
</ul>
<h1 id="&#x7AEF;&#x53E3;&#x67E5;&#x770B;">&#x7AEF;&#x53E3;&#x67E5;&#x770B;</h1>
<p>&#x5982;&#x67E5;&#x770B;80&#x7AEF;&#x53E3;&#xFF1A;<code>lsof -i tcp:80</code><br>
&#x5217;&#x51FA;&#x6240;&#x6709;&#x7AEF;&#x53E3;&#xFF1A;<code>netstat -ntlp</code></p>
<h1 id="nohup&#x540E;&#x53F0;&#x8FD0;&#x884C;">nohup&#x540E;&#x53F0;&#x8FD0;&#x884C;</h1>
<p>&#x540E;&#x53F0;&#x8FD0;&#x884C;test.jar<br>
<code>nohup java -jar test.jar</code><br>
&#x4E0D;&#x8F93;&#x51FA;nohup&#x65E5;&#x5FD7;&#xFF1A;&gt;/dev/null 2&gt;&amp;1 &amp;<br>
<code>nohup java -jar test.jar &gt;/dev/null 2&gt;&amp;1 &amp;</code></p>
<h1 id="&#x91CD;&#x5B9A;&#x5411;">&#x91CD;&#x5B9A;&#x5411;</h1>
<ul>
<li>0 &#x8868;&#x793A;&#x6807;&#x51C6;&#x8F93;&#x5165;</li>
<li>1 &#x6807;&#x51C6;&#x8F93;&#x51FA;,&#x5728;&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x662F;&#x6807;&#x51C6;&#x8F93;&#x51FA;</li>
<li>2 &#x6807;&#x51C6;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x8F93;&#x51FA;<br>
&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x9700;&#x8981;&#x91CD;&#x5B9A;&#x5411;&#x7684;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6216;&#x8F93;&#x51FA;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5C06;&#x67D0;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x8F93;&#x51FA;&#x5230;log&#x6587;&#x4EF6; &#x4E2D;&#xFF1A;./program 2&gt;log&#x3002;&#x8FD9;&#x6837;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x8FD8;&#x662F;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#xFF0C;&#x4F46;&#x662F;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x4F1A;&#x8F93;&#x51FA;&#x5230;log&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x4E5F;&#x53EF; &#x4EE5;&#x5B9E;&#x73B0;0&#xFF0C;1&#xFF0C;2&#x4E4B;&#x95F4;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#x3002;2&gt;&amp;1&#xFF1A;&#x5C06;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x3002;</li>
<li>/dev/null<br>
&#x5B83;&#x5C31;&#x50CF;&#x4E00;&#x4E2A;&#x65E0;&#x5E95;&#x6D1E;&#xFF0C;&#x6240;&#x6709;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x5B83;&#x7684;&#x4FE1;&#x606F;&#x90FD;&#x4F1A;&#x6D88;&#x5931;&#x5F97;&#x65E0;&#x5F71;&#x65E0;&#x8E2A;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x56DE;&#x663E;&#x7A0B;&#x5E8F;&#x7684;&#x6240;&#x6709;&#x4FE1;&#x606F;&#x65F6;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5C06;&#x8F93;&#x51FA;&#x91CD;&#x5B9A;&#x5230;/dev/null&#x3002;</li>
</ul>
<h1 id="&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x5934;&#x5C3E;&#x5B9E;&#x65F6;&#x5185;&#x5BB9;">&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x5934;/&#x5C3E;/&#x5B9E;&#x65F6;&#x5185;&#x5BB9;</h1>
<ul>
<li>head filename&#x8BFB;&#x53D6;&#x5934;&#x90E8;&#xFF0C;&#x4F7F;&#x7528;&#x547D;&#x4EE4;head&#x3002;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x6587;&#x4EF6; filename &#x7684;&#x524D;&#x5341;&#x884C;&#x5185;&#x5BB9;<br>
<code>head -n 20 filename</code>&#xFF1A;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x7684;&#x524D;20&#x884C;&#x5185;&#x5BB9;<br>
<code>head -n -20 filename</code>  &#xFF1A;&#x82E5;n&#x540E;&#x9762;&#x7684;&#x6574;&#x6570;&#x4E3A;&#x8D1F;&#x6570;&#x65F6;&#xFF0C;&#x5982;&#x5219;&#x8868;&#x793A;&#x5217;&#x51FA;&#x9664;&#x5C3E;&#x90E8;&#x7684;20&#x884C;&#x5916;&#x7684;&#x6240;&#x6709;&#x884C;</li>
<li>tail filename &#x8BFB;&#x53D6;&#x5C3E;&#x90E8;&#xFF0C;&#x4F7F;&#x7528;&#x547D;&#x4EE4;tail&#xFF0C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x540C;head&#x76F8;&#x4F3C;<br>
<code>tail -n 20 filename</code>&#xFF1A;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x540E;20&#x884C;&#x5185;&#x5BB9;<br>
<code>tail -n +20 filename</code>&#xFF1A;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x81EA;&#x7B2C;20&#x884C;&#x5F00;&#x59CB;&#x540E;&#x7684;&#x6240;&#x6709;&#x884C;&#xFF08;&#x5305;&#x62EC;&#x7B2C;20&#x884C;&#xFF09;</li>
<li><code>tail -f filename</code>&#xFF1A;&#x52A8;&#x6001;&#x663E;&#x793A;&#x6700;&#x65B0;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;<br>
&#x5177;&#x4F53;&#x7528;&#x6CD5;man head&#x6216;man tail&#x83B7;&#x53D6;</li>
</ul>
<h1 id="chkconfig&#x95EE;&#x9898;">chkconfig&#x95EE;&#x9898;</h1>
<p>chkconfig --add myservice&#x95EE;&#x9898;&#xFF1A;service myservice does not support chkconfig
&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x5728;&#x811A;&#x672C;&#x5F00;&#x5934;&#x52A0;&#x5165;&#x4E0B;&#x9762;&#x4E24;&#x53E5;&#x5C31;&#x597D;&#x4E86;
<code>vim /etc/init.d/myservice</code>
&#x6DFB;&#x52A0;&#x4E0B;&#x9762;&#x4E24;&#x53E5;&#x5230; #!/bin/bash &#x4E4B;&#x540E;</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash
# chkconfig: 2345 10 90
# description: myservice ....</span><br></pre></td></tr></table></figure></p>
<h1 id="&#x56FE;&#x5F62;&#x5316;&#x754C;&#x9762;&#x5207;&#x6362;">&#x56FE;&#x5F62;&#x5316;&#x754C;&#x9762;&#x5207;&#x6362;</h1>
<p><code>vim /etc/inittab</code></p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># Default runlevel. The runlevels used by RHS are: 
# 0 - halt (Do NOT set initdefault to this)          --&#x505C;&#x673A;
# 1 - Single user mode           --&#x5355;&#x7528;&#x6237;&#x6A21;&#x5F0F;
# 2 - Multiuser, without NFS (The same as 3, if you do not havenetworking)           --&#x591A;&#x7528;&#x6237;&#x6A21;&#x5F0F;&#xFF0C;&#x4E0D;&#x652F;&#x6301;NFS
# 3 - Full multiuser mode          --&#x591A;&#x7528;&#x6237;&#x6A21;&#x5F0F;     
# 4 - unused          --&#x6CA1;&#x6709;&#x4F7F;&#x7528; 
# 5 - X11          --&#x56FE;&#x5F62;&#x754C;&#x9762;&#x65B9;&#x5F0F; 
# 6 - reboot (Do NOT set initdefault to this)          --&#x91CD;&#x65B0;&#x542F;&#x52A8;
# --&#x9ED8;&#x8BA4;&#x8FD0;&#x884C;&#x7B49;&#x7EA7;&#x662F;5
id:5:initdefault:</span><br></pre></td></tr></table></figure></p>
<h1 id="&#x6587;&#x4EF6;&#x64CD;&#x4F5C;">&#x6587;&#x4EF6;&#x64CD;&#x4F5C;</h1>
<h2 id="mkdir-&#x65B0;&#x5EFA;&#x76EE;&#x5F55;">mkdir &#x65B0;&#x5EFA;&#x76EE;&#x5F55;</h2>
<p>mkdir -p &#x65E0;&#x76EE;&#x5F55;&#x65B0;&#x5EFA;&#x76EE;&#x5F55;</p>
<h2 id="rm-&#x6587;&#x4EF6;&#x5220;&#x9664;&#x53C2;&#x6570;">rm &#x6587;&#x4EF6;&#x5220;&#x9664;&#x53C2;&#x6570;&#xFF1A;</h2>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-r &#x5C31;&#x662F;&#x5411;&#x4E0B;&#x9012;&#x5F52;&#xFF0C;&#x4E0D;&#x7BA1;&#x6709;&#x591A;&#x5C11;&#x7EA7;&#x76EE;&#x5F55;&#xFF0C;&#x4E00;&#x5E76;&#x5220;&#x9664;
-f &#x5C31;&#x662F;&#x76F4;&#x63A5;&#x5F3A;&#x884C;&#x5220;&#x9664;&#xFF0C;&#x4E0D;&#x4F5C;&#x4EFB;&#x4F55;&#x63D0;&#x793A;&#x7684;&#x610F;&#x601D;
-rf &#x9012;&#x5F52;&#x5F3A;&#x5236;&#x5220;&#x9664;</span><br></pre></td></tr></table></figure></p>
<p>&#x9700;&#x8981;&#x63D0;&#x9192;&#x7684;&#x662F;&#xFF1A;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;rm -rf&#x7684;&#x65F6;&#x5019;&#x4E00;&#x5B9A;&#x8981;&#x683C;&#x5916;&#x5C0F;&#x5FC3;&#xFF0C;linux&#x6CA1;&#x6709;&#x56DE;&#x6536;&#x7AD9;&#x7684;</p>
<h2 id="tar&#x6587;&#x4EF6;&#x89E3;&#x538B;">tar&#x6587;&#x4EF6;&#x89E3;&#x538B;</h2>
<p>tar&#x5728;linux&#x4E0A;&#x662F;&#x5E38;&#x7528;&#x7684;&#x6253;&#x5305;&#x3001;&#x538B;&#x7F29;&#x3001;&#x52A0;&#x538B;&#x7F29;&#x5DE5;&#x5177;&#xFF0C;&#x4ED6;&#x7684;&#x53C2;&#x6570;&#x5F88;&#x591A;&#xFF0C;&#x6298;&#x91CC;&#x4EC5;&#x4EC5;&#x5217;&#x4E3E;&#x5E38;&#x7528;&#x7684;&#x538B;&#x7F29;&#x4E0E;&#x89E3;&#x538B;&#x7F29;&#x53C2;&#x6570;</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-c &#xFF1A;create &#x5EFA;&#x7ACB;&#x538B;&#x7F29;&#x6863;&#x6848;&#x7684;&#x53C2;&#x6570;&#xFF1B;
-x &#xFF1A; &#x89E3;&#x538B;&#x7F29;&#x538B;&#x7F29;&#x6863;&#x6848;&#x7684;&#x53C2;&#x6570;&#xFF1B;
-z &#xFF1A; &#x662F;&#x5426;&#x9700;&#x8981;&#x7528;gzip&#x538B;&#x7F29;&#xFF1B;
-v&#xFF1A; &#x538B;&#x7F29;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x663E;&#x793A;&#x6863;&#x6848;&#xFF1B;
-f&#xFF1A; &#x7F6E;&#x9876;&#x6587;&#x6863;&#x540D;&#xFF0C;&#x5728;f&#x540E;&#x9762;&#x7ACB;&#x5373;&#x63A5;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x4E0D;&#x80FD;&#x518D;&#x52A0;&#x53C2;&#x6570;
1 &#x5C06;tgz&#x6587;&#x4EF6;&#x89E3;&#x538B;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x5F55;
tar   zxvf    test.tgz  -C  &#x6307;&#x5B9A;&#x76EE;&#x5F55;
&#x6BD4;&#x5982;&#x5C06;/source/kernel.tgz&#x89E3;&#x538B;&#x5230;  /source/linux-2.6.29 &#x76EE;&#x5F55;
tar  zxvf  /source/kernel.tgz  -C /source/ linux-2.6.29</span><br></pre></td></tr></table></figure></p>
<h1 id="vim&#x64CD;&#x4F5C;">VIM&#x64CD;&#x4F5C;</h1>
<p>http://www.eepw.com.cn/article/48018.htm</p>
<p>vi&#x5220;&#x9664;*.swp&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#x5220;&#x9664;
i&#x63D2;&#x5165;
esc&#x547D;&#x4EE4;&#x884C;
:&#x5E95;&#x884C;&#xFF08;x&#x4FDD;&#x5B58;&#xFF09;:</p>
<h1 id="&#x67E5;&#x627E;&#x64CD;&#x4F5C;">&#x67E5;&#x627E;&#x64CD;&#x4F5C;</h1>
<h2 id="find">find</h2>
<p>find&#x662F;&#x6700;&#x5E38;&#x89C1;&#x548C;&#x6700;&#x5F3A;&#x5927;&#x7684;&#x67E5;&#x627E;&#x547D;&#x4EE4;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x7528;&#x5B83;&#x627E;&#x5230;&#x4EFB;&#x4F55;&#x4F60;&#x60F3;&#x627E;&#x7684;&#x6587;&#x4EF6;&#x3002;
find&#x7684;&#x4F7F;&#x7528;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x3000;&#x3000;$ find <span class="tag">&lt;<span class="title">&#x6307;&#x5B9A;&#x76EE;&#x5F55;</span>&gt;</span> <span class="tag">&lt;<span class="title">&#x6307;&#x5B9A;&#x6761;&#x4EF6;</span>&gt;</span> <span class="tag">&lt;<span class="title">&#x6307;&#x5B9A;&#x52A8;&#x4F5C;</span>&gt;</span></span><br><span class="line">&#x3000;&#x3000;- <span class="tag">&lt;<span class="title">&#x6307;&#x5B9A;&#x76EE;&#x5F55;</span>&gt;</span>&#xFF1A; &#x6240;&#x8981;&#x641C;&#x7D22;&#x7684;&#x76EE;&#x5F55;&#x53CA;&#x5176;&#x6240;&#x6709;&#x5B50;&#x76EE;&#x5F55;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x3002;</span><br><span class="line">&#x3000;&#x3000;- <span class="tag">&lt;<span class="title">&#x6307;&#x5B9A;&#x6761;&#x4EF6;</span>&gt;</span>&#xFF1A; &#x6240;&#x8981;&#x641C;&#x7D22;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x7279;&#x5F81;&#x3002;</span><br><span class="line">&#x3000;&#x3000;- <span class="tag">&lt;<span class="title">&#x6307;&#x5B9A;&#x52A8;&#x4F5C;</span>&gt;</span>&#xFF1A; &#x5BF9;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x7279;&#x5B9A;&#x7684;&#x5904;&#x7406;&#x3002;</span><br></pre></td></tr></table></figure></p>
<p>&#x5982;&#x679C;&#x4EC0;&#x4E48;&#x53C2;&#x6570;&#x4E5F;&#x4E0D;&#x52A0;&#xFF0C;find&#x9ED8;&#x8BA4;&#x641C;&#x7D22;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x53CA;&#x5176;&#x5B50;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x4E14;&#x4E0D;&#x8FC7;&#x6EE4;&#x4EFB;&#x4F55;&#x7ED3;&#x679C;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x6587;&#x4EF6;&#xFF09;&#xFF0C;&#x5C06;&#x5B83;&#x4EEC;&#x5168;&#x90FD;&#x663E;&#x793A;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#x3002;
find&#x7684;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#xFF1A;
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x3000;&#x3000;$ <span class="keyword">find</span> . -name <span class="string">&quot;my*&quot;</span></span><br><span class="line">&#x641C;&#x7D22;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#xFF08;&#x542B;&#x5B50;&#x76EE;&#x5F55;&#xFF0C;&#x4EE5;&#x4E0B;&#x540C;&#xFF09;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x540D;&#x4EE5;my&#x5F00;&#x5934;&#x7684;&#x6587;&#x4EF6;&#x3002;</span><br><span class="line">&#x3000;&#x3000;$ <span class="keyword">find</span> . -name <span class="string">&quot;my*&quot;</span> -<span class="keyword">ls</span></span><br><span class="line">&#x641C;&#x7D22;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x540D;&#x4EE5;my&#x5F00;&#x5934;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x663E;&#x793A;&#x5B83;&#x4EEC;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002;</span><br><span class="line">&#x3000;&#x3000;$ <span class="keyword">find</span> . -<span class="built_in">type</span> <span class="keyword">f</span> -mmin -<span class="number">10</span></span><br><span class="line">&#x641C;&#x7D22;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x8FC7;&#x53BB;<span class="number">10</span>&#x5206;&#x949F;&#x4E2D;&#x66F4;&#x65B0;&#x8FC7;&#x7684;&#x666E;&#x901A;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x52A0;-<span class="built_in">type</span> <span class="keyword">f</span>&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x641C;&#x7D22;&#x666E;&#x901A;&#x6587;&#x4EF6;+&#x7279;&#x6B8A;&#x6587;&#x4EF6;+&#x76EE;&#x5F55;&#x3002;</span><br></pre></td></tr></table></figure></p>
<h2 id="locate">locate</h2>
<p>locate&#x547D;&#x4EE4;&#x5176;&#x5B9E;&#x662F;&#x201C;find -name&#x201D;&#x7684;&#x53E6;&#x4E00;&#x79CD;&#x5199;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x8981;&#x6BD4;&#x540E;&#x8005;&#x5FEB;&#x5F97;&#x591A;&#xFF0C;&#x539F;&#x56E0;&#x5728;&#x4E8E;&#x5B83;&#x4E0D;&#x641C;&#x7D22;&#x5177;&#x4F53;&#x76EE;&#x5F55;&#xFF0C;&#x800C;&#x662F;&#x641C;&#x7D22;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#xFF08;/var/lib/locatedb&#xFF09;&#xFF0C;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x542B;&#x6709;&#x672C;&#x5730;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x3002;Linux&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x5929;&#x81EA;&#x52A8;&#x66F4;&#x65B0;&#x4E00;&#x6B21;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;locate&#x547D;&#x4EE4;&#x67E5;&#x4E0D;&#x5230;&#x6700;&#x65B0;&#x53D8;&#x52A8;&#x8FC7;&#x7684;&#x6587;&#x4EF6;&#x3002;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x4F7F;&#x7528;locate&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x4F7F;&#x7528;updatedb&#x547D;&#x4EE4;&#xFF0C;&#x624B;&#x52A8;&#x66F4;&#x65B0;&#x6570;&#x636E;&#x5E93;&#x3002;
locate&#x547D;&#x4EE4;&#x7684;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#xFF1A;</p>
<p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x3000;&#x3000;$ locate /etc/<span class="keyword">sh</span></span><br><span class="line">&#x641C;&#x7D22;etc&#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x6709;&#x4EE5;<span class="keyword">sh</span>&#x5F00;&#x5934;&#x7684;&#x6587;&#x4EF6;&#x3002;</span><br><span class="line">&#x3000;&#x3000;$ locate ~/<span class="literal">m</span></span><br><span class="line">&#x641C;&#x7D22;&#x7528;&#x6237;&#x4E3B;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x6240;&#x6709;&#x4EE5;<span class="keyword">m</span>&#x5F00;&#x5934;&#x7684;&#x6587;&#x4EF6;&#x3002;</span><br><span class="line">&#x3000;&#x3000;$ locate -i ~/<span class="literal">m</span></span><br><span class="line">&#x641C;&#x7D22;&#x7528;&#x6237;&#x4E3B;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x6240;&#x6709;&#x4EE5;<span class="keyword">m</span>&#x5F00;&#x5934;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x5FFD;&#x7565;&#x5927;&#x5C0F;&#x5199;&#x3002;</span><br></pre></td></tr></table></figure></p>
<h2 id="whereis">whereis</h2>
<p>whereis&#x547D;&#x4EE4;&#x53EA;&#x80FD;&#x7528;&#x4E8E;&#x7A0B;&#x5E8F;&#x540D;&#x7684;&#x641C;&#x7D22;&#xFF0C;&#x800C;&#x4E14;&#x53EA;&#x641C;&#x7D22;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#xFF08;&#x53C2;&#x6570;-b&#xFF09;&#x3001;man&#x8BF4;&#x660E;&#x6587;&#x4EF6;&#xFF08;&#x53C2;&#x6570;-m&#xFF09;&#x548C;&#x6E90;&#x4EE3;&#x7801;&#x6587;&#x4EF6;&#xFF08;&#x53C2;&#x6570;-s&#xFF09;&#x3002;&#x5982;&#x679C;&#x7701;&#x7565;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x4FE1;&#x606F;&#x3002;
whereis&#x547D;&#x4EE4;&#x7684;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#xFF1A;<code>$ whereis grep</code></p>
<h2 id="which">which</h2>
<p>which&#x547D;&#x4EE4;&#x7684;&#x4F5C;&#x7528;&#x662F;&#xFF0C;&#x5728;PATH&#x53D8;&#x91CF;&#x6307;&#x5B9A;&#x7684;&#x8DEF;&#x5F84;&#x4E2D;&#xFF0C;&#x641C;&#x7D22;&#x67D0;&#x4E2A;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#x7684;&#x4F4D;&#x7F6E;&#xFF0C;&#x5E76;&#x4E14;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x4E2A;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x4F7F;&#x7528;which&#x547D;&#x4EE4;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x67D0;&#x4E2A;&#x7CFB;&#x7EDF;&#x547D;&#x4EE4;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x4EE5;&#x53CA;&#x6267;&#x884C;&#x7684;&#x5230;&#x5E95;&#x662F;&#x54EA;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E;&#x7684;&#x547D;&#x4EE4;&#x3002;
which&#x547D;&#x4EE4;&#x7684;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#xFF1A;<code>$ which grep</code></p>
<h2 id="type">type</h2>
<p>type&#x547D;&#x4EE4;&#x5176;&#x5B9E;&#x4E0D;&#x80FD;&#x7B97;&#x67E5;&#x627E;&#x547D;&#x4EE4;&#xFF0C;&#x5B83;&#x662F;&#x7528;&#x6765;&#x533A;&#x5206;&#x67D0;&#x4E2A;&#x547D;&#x4EE4;&#x5230;&#x5E95;&#x662F;&#x7531;shell&#x81EA;&#x5E26;&#x7684;&#xFF0C;&#x8FD8;&#x662F;&#x7531;shell&#x5916;&#x90E8;&#x7684;&#x72EC;&#x7ACB;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x63D0;&#x4F9B;&#x7684;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x662F;&#x5916;&#x90E8;&#x547D;&#x4EE4;&#xFF0C;&#x90A3;&#x4E48;&#x4F7F;&#x7528;-p&#x53C2;&#x6570;&#xFF0C;&#x4F1A;&#x663E;&#x793A;&#x8BE5;&#x547D;&#x4EE4;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;which&#x547D;&#x4EE4;&#x3002;
type&#x547D;&#x4EE4;&#x7684;&#x4F7F;&#x7528;&#x5B9E;&#x4F8B;&#xFF1A;</p>
<p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x3000;&#x3000;$ <span class="built_in">type</span> <span class="keyword">cd</span></span><br><span class="line">&#x7CFB;&#x7EDF;&#x4F1A;&#x63D0;&#x793A;&#xFF0C;<span class="keyword">cd</span>&#x662F;<span class="keyword">shell</span>&#x7684;&#x81EA;&#x5E26;&#x547D;&#x4EE4;&#xFF08;build-in&#xFF09;&#x3002;</span><br><span class="line">&#x3000;&#x3000;$ <span class="built_in">type</span> <span class="keyword">grep</span></span><br><span class="line">&#x7CFB;&#x7EDF;&#x4F1A;&#x63D0;&#x793A;&#xFF0C;<span class="keyword">grep</span>&#x662F;&#x4E00;&#x4E2A;&#x5916;&#x90E8;&#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x663E;&#x793A;&#x8BE5;&#x547D;&#x4EE4;&#x7684;&#x8DEF;&#x5F84;&#x3002;</span><br><span class="line">&#x3000;&#x3000;$ <span class="built_in">type</span> -<span class="keyword">p</span> <span class="keyword">grep</span></span><br><span class="line">&#x52A0;&#x4E0A;-<span class="keyword">p</span>&#x53C2;&#x6570;&#x540E;&#xFF0C;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;which&#x547D;&#x4EE4;&#x3002;</span><br></pre></td></tr></table></figure></p>]]></content>
    <summary type="html">
    <![CDATA[<p>CentOS&#x65E5;&#x5E38;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x79EF;&#x7D2F;&#x7684;Shell&#x811A;&#x672C;&#x6216;Linux&#x547D;&#x4EE4;&]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="Shell" scheme="http://geosmart.github.io/tags/Shell/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[mongodb一键安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/07/01/mongodb%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/07/01/mongodb一键安装脚本/</id>
    <published>2015-07-01T12:26:00.000Z</published>
    <updated>2015-09-07T13:28:53.466Z</updated>
    <content type="html"><![CDATA[<p><img src="logo-mongodb.png" alt=""></p>
<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2>
<ol>
<li><a href="http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.6.3.tgz">mongodb&#x5B89;&#x88C5;&#x5305;&#xFF08;&#x5B98;&#x7F51;&#x7248;&#x672C;&#xFF1A;mongodb-linux-x86_64-2.6.3.tgz&#xFF09;</a>
&#x4E0B;&#x8F7D;&#x540E;&#x5E76;&#x91CD;&#x547D;&#x540D;&#x4E3A;mongodb.tar.gz</li>
<li><a href="install-mongodb.sh">mongodb&#x5B89;&#x88C5;&#x811A;&#x672C;</a></li>
</ol>
<h2 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h2>
<p>&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;CentOS&#x540E;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<ol>
<li>
<p>CentOS&#x8DEF;&#x5F84;&#xFF1A;/tmp</p>
</li>
<li>
<p>&#x6267;&#x884C;
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp</span><br><span class="line">chmod +x install-mongodb.sh </span><br><span class="line">sudo ./install-mongodb.sh</span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x4E00;&#x8DEF;&#x56DE;&#x8F66;&#x5373;&#x53EF;</p>
</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p><img src="logo-mongodb.png" alt=""></p>
<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2>
<ol>
<li><a href=]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="MongoDB" scheme="http://geosmart.github.io/tags/MongoDB/"/>
    
      <category term="数据库" scheme="http://geosmart.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[日志分析工具]]></title>
    <link href="http://geosmart.github.io/2015/06/30/%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/"/>
    <id>http://geosmart.github.io/2015/06/30/日志分析工具/</id>
    <published>2015-06-30T06:47:50.000Z</published>
    <updated>2015-07-01T06:52:07.114Z</updated>
    <content type="html"><![CDATA[<p>&#x6700;&#x8FD1;&#x9700;&#x8981;&#x5BF9;&#x591A;&#x53F0;Web&#x670D;&#x52A1;&#x5668;/Java&#x5BA2;&#x6237;&#x7AEF;&#x7A0B;&#x5E8F;&#x7684;&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x5206;&#x6790;&#xFF0C;&#x6BD4;&#x8F83;&#x4E86;&#x4E00;&#x4E9B;&#x5F00;&#x6E90;&#x7684;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x4EA7;&#x5DE5;&#x5177;&#xFF0C;&#x76EE;&#x524D;&#x5728;&#x7528;&#x7684;&#x6709;OtrosLogViewer&#xFF08;olv&#xFF09;&#x548C;LogExpert</p>
<h2 id="awstats">AWStats</h2>
<ul>
<li>&#x57FA;&#x4E8E;Perl&#xFF0C;&#x5F00;&#x6E90;&#x3001;&#x7B80;&#x6D01;&#x3001;&#x5F3A;&#x5927;&#x7684;&#x7F51;&#x7AD9;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;
Free real-time logfile analyzer to get advanced statistics (GNU GPL).
AWStats is a free powerful and featureful tool that generates advanced web, streaming, ftp or mail server statistics, graphically. This log analyzer works as a CGI or from command line and shows you all possible information your log contains, in few graphical web pages. It uses a partial information file to be able to process large log files, often and quickly. It can analyze log files from all major server tools like Apache log files (NCSA combined/XLF/ELF log format or common/CLF log format), WebStar, IIS (W3C log format) and a lot of other web, proxy, wap, streaming servers, mail servers and some ftp servers.
Take a look at this comparison table for an idea on features and differences between most famous statistics tools (AWStats, Analog, Webalizer,...).
AWStats is a free software distributed under the GNU General Public License. You can have a look at this license chart to know what you can/can&apos;t do.
As AWStats works from the command line but also as a CGI, it can work with all web hosting providers which allow Perl, CGI and log access.</li>
</ul>
<h2 id="otroslogviewer">OtrosLogViewer</h2>
<ul>
<li>&#x57FA;&#x4E8E;Java&#x5F00;&#x53D1;&#x7684;&#xFF0C;&#x5F00;&#x6E90;&#x3001;&#x5F3A;&#x5927;&#x3001;&#x53EF;&#x81EA;&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#x3001;UI&#x53CB;&#x597D;&#xFF0C;&#x53EF;&#x62D6;&#x62FD;http&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x5206;&#x6790;&#xFF0C;&#x597D;&#x8BC4;</li>
<li>&#x95EE;&#x9898;1&#xFF1A;&#x5728;windows&#x4E0B;&#x5207;&#x6362;log&#x4F1A;&#x975E;&#x5E38;&#x5361;&#x987F;&#xFF0C;linux&#x4E0B;&#x6B63;&#x5E38;&#xFF0C;&#x6682;&#x672A;&#x627E;&#x5230;&#x539F;&#x56E0;</li>
<li>&#x95EE;&#x9898;2&#xFF1A; illegal character in schema name at index xxx
&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x62D6;&#x62FD;&#x6587;&#x4EF6;&#xFF08;&#x5982;http://192.168.1.81:8080/logs/uadb/uadb.log&#xFF09;&#xFF0C;&#x9700;&#x62D6;&#x62FD;&#x6D4F;&#x89C8;&#x5668;&#x9875;&#x9762;&#xFF08;&#x5982;http://192.168.1.81:8080/logs/uadb&#xFF09;&#x4E2D;&#x7684;&#x65E5;&#x5FD7;&#x94FE;&#x63A5;</li>
<li>&#x95EE;&#x9898;3 &#x6309;<code>%d{yyyy-MM-dd HH\:mm\:ss,SSS} [%t] [%c] [%p] - %m%n</code>&#x89C4;&#x5219;&#x62C6;&#x5206;&#x884C;&#x5B58;&#x5728;&#x95EE;&#x9898;&#xFF0C;&#x5B58;&#x5728;&#x591A;&#x884C;&#x5E76;&#x5728;&#x4E00;&#x8D77;</li>
</ul>
<p>Useful software for analysing applications logs and traces.</p>
<h2 id="logexpert">LogExpert</h2>
<ul>
<li>&#x5C0F;&#x800C;&#x7F8E;&#x7684;&#x5355;&#x673A;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;&#xFF0C;&#x597D;&#x8BC4;
You are a developer needing a nice tail application for MS Windows?
You are in the need for a powerful logfile analysis tool?
You love logfiles?
You live in your logfiles?
Or at least: you have to work with them?
Download LogExpert if you answered &quot;yes&quot; to any of the questions above!</li>
</ul>
<h2 id="log-parser">Log Parser</h2>
<ul>
<li>&#x57FA;&#x4E8E;.NET&#x5E73;&#x53F0;
Log Parser is a powerful, versatile tool that provides universal query access to text-based data such as log files, XML files and CSV files, as well as key data sources on the Windows operating system such as the Event Log, the Registry, the file system, and Active Directory. You tell Log Parser what information you need and how you want it processed. The results of your query can be custom-formatted in text based output, or they can be persisted to more specialty targets like SQL, SYSLOG, or a chart. Most software is designed to accomplish a limited number of specific tasks. Log Parser is different... the number of ways it can be used is limited only by the needs and imagination of the user. The world is your database with Log Parser.</li>
</ul>
<h2 id="chainsaw">Chainsaw</h2>
<ul>
<li>&#x867D;&#x662F;apache&#x5B98;&#x65B9;&#x7684;&#x4E13;&#x4E1A;Log4j&#x5206;&#x6790;&#x5DE5;&#x5177;&#xFF0C;2004&#x5E74;&#x5C31;&#x6CA1;&#x66F4;&#x65B0;&#x4E86;,&#x5DEE;&#x8BC4;&#xFF01;
Chainsaw v2 is a companion application to Log4j written by members of the Log4j development community. Like a number of Open Source projects, this new version was built upon inspirations, ideas and creations of others. Chainsaw v2 has it&apos;s roots from the original Chainsaw utility written by Oliver Burn, and with inspiration from the Log Factor 5 utility contributed by ThoughtWorks Inc.</li>
</ul>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x6700;&#x8FD1;&#x9700;&#x8981;&#x5BF9;&#x591A;&#x53F0;Web&#x670D;&#x52A1;&#x5668;/Java&#x5BA2;&#x6237;&#x7AEF;&#x7A0B;&#x5E8F;&#x7684;&]]>
    </summary>
    
      <category term="工具" scheme="http://geosmart.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[常用git命令]]></title>
    <link href="http://geosmart.github.io/2015/06/30/%E5%B8%B8%E7%94%A8git%E5%91%BD%E4%BB%A4/"/>
    <id>http://geosmart.github.io/2015/06/30/常用git命令/</id>
    <published>2015-06-30T05:18:03.000Z</published>
    <updated>2015-09-07T13:29:24.554Z</updated>
    <content type="html"><![CDATA[<p><a href="https://www.atlassian.com/git/tutorials/">&#x53C2;&#x8003;&#x6559;&#x7A0B;</a></p>
<ol>
<li>
<p>&#x514B;&#x9686;&#x5E93;
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone <span class="string">https:</span><span class="comment">//github.com/geosmart/geosmart.io</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x65B0;&#x5EFA; &apos;gh-pages&apos;&#x5206;&#x652F;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x751F;&#x6210;github pages
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="comment">--orphan gh-pages</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x672C;&#x5730;&#x63D0;&#x4EA4;
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -<span class="tag">a</span> -m <span class="string">&quot;commit message&quot;</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x63A8;&#x9001;&#x5230;github
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">git</span> <span class="keyword">push </span>origin</span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x521D;&#x59CB;&#x7248;&#x672C;&#x63D0;&#x4EA4;
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">push</span> --<span class="keyword">set</span>-upstream origin master</span><br><span class="line">&#x6216;</span><br><span class="line">git <span class="keyword">push</span> origin master</span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x63A8;&#x9001;&#x5230;github
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git sync</span><br><span class="line">git config --<span class="keyword">global</span> credential.helper store</span><br><span class="line">git config --<span class="keyword">global</span> push.<span class="keyword">default</span> <span class="keyword">matching</span></span><br></pre></td></tr></table></figure></p>
</li>
</ol>
<ol>
<li>
<p>git bash&#x8BB0;&#x4F4F;&#x5BC6;&#x7801;
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config credential<span class="class">.helper</span> <span class="string">&apos;cache --timeout=300&apos;</span></span><br><span class="line">git config --global user<span class="class">.name</span> geosmart</span><br><span class="line">git config --global user<span class="class">.email</span> geosmart@foxmail.com</span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x67E5;&#x770B;git&#x914D;&#x7F6E;
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config <span class="comment">--list</span></span><br></pre></td></tr></table></figure></p>
</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p><a href="https://www.atlassian.com/git/tutorials/">&#x53C2;&#x8003;&#x6559;&#x7A0B;</a></p>
<ol>
<li>
<p>&#x514B;&#x9686;&#x5E93;
<figure]]>
    </summary>
    
      <category term="Git" scheme="http://geosmart.github.io/tags/Git/"/>
    
      <category term="工具" scheme="http://geosmart.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[LNMP安装]]></title>
    <link href="http://geosmart.github.io/2015/06/30/lnmp%E5%AE%89%E8%A3%85/"/>
    <id>http://geosmart.github.io/2015/06/30/lnmp安装/</id>
    <published>2015-06-30T05:11:58.000Z</published>
    <updated>2015-09-07T13:29:54.264Z</updated>
    <content type="html"><![CDATA[<p>&#x5177;&#x4F53;&#x53C2;&#x8003;<a href="http://lnmp.org/">LNMP&#x4E00;&#x952E;&#x5B89;&#x88C5;&#x5B98;&#x7F51;</a></p>
<h2 id="nmp&#x73AF;&#x5883;&#x914D;&#x7F6E;">NMP&#x73AF;&#x5883;&#x914D;&#x7F6E;</h2>
<p>LNMP:Linux+Nginx+Mysql+PHP</p>
<h2 id="lnmp&#x76F8;&#x5173;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;&#x76EE;&#x5F55;">LNMP&#x76F8;&#x5173;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;&#x76EE;&#x5F55;</h2>
<p>Nginx &#x76EE;&#x5F55;: /usr/local/nginx/
MySQL &#x76EE;&#x5F55; : /usr/local/mysql/
MySQL&#x6570;&#x636E;&#x5E93;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;/usr/local/mysql/var/
MariaDB &#x76EE;&#x5F55; : /usr/local/mariadb/
MariaDB&#x6570;&#x636E;&#x5E93;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;/usr/local/mariadb/var/
PHP&#x76EE;&#x5F55; : /usr/local/php/
PHPMyAdmin&#x76EE;&#x5F55; : 0.9&#x7248;&#x4E3A;/home/wwwroot/phpmyadmin/ 1.0&#x7248;&#x4E3A; /home/wwwroot/default/phpmyadmin/ &#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x5C06;&#x6B64;&#x76EE;&#x5F55;&#x91CD;&#x547D;&#x540D;&#x4E3A;&#x5176;&#x4E0D;&#x5BB9;&#x6613;&#x731C;&#x5230;&#x7684;&#x540D;&#x5B57;&#x3002;phpmyadmin&#x53EF;&#x81EA;&#x5DF1;&#x4ECE;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x65B0;&#x7248;&#x66FF;&#x6362;&#x3002;
&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x76EE;&#x5F55; : 0.9&#x7248;&#x4E3A; /home/wwwroot/ 1.0&#x7248;&#x4E3A; /home/wwwroot/default/
Nginx&#x65E5;&#x5FD7;&#x76EE;&#x5F55;&#xFF1A;/home/wwwlogs/
/root/vhost.sh&#x6DFB;&#x52A0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;/usr/local/nginx/conf/vhost/
PureFtpd &#x76EE;&#x5F55;&#xFF1A;/usr/local/pureftpd/
PureFtpd web&#x7BA1;&#x7406;&#x76EE;&#x5F55;&#xFF1A; 0.9&#x7248;&#x4E3A;/home/wwwroot/default/ftp/ 1.0&#x7248;&#x4E3A; /home/wwwroot/default/ftp/
Proftpd &#x76EE;&#x5F55;&#xFF1A;/usr/local/proftpd/
Redis &#x76EE;&#x5F55;&#xFF1A;/usr/local/redis/</p>
<p>##&#x4E00;&#x952E;&#x5B89;&#x88C5;
&#x4E0B;&#x8F7D;
<code>wget --no-check-certificate https://api.sinas3.com/v1/SAE_lnmp/soft/lnmp1.2-full.tar.gz</code><br>
&#x4E00;&#x952E;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;
<code>wget -c http://soft.vpser.net/lnmp/lnmp1.2-full.tar.gz &amp;&amp; tar zxf lnmp1.2-full.tar.gz &amp;&amp; cd lnmp1.2-full &amp;&amp; ./install.sh lnmp</code></p>
<p>&#x79BB;&#x7EBF;&#x5B89;&#x88C5;
<code>cd /tmp/lnmp &amp;&amp; tar zxf lnmp1.2-full.tar.gz &amp;&amp; cd lnmp1.2-full &amp;&amp; ./install.sh lnmp</code>
&#x7F51;&#x7EDC;&#x60C5;&#x51B5;10M&#x5E26;&#x5BBD;&#x8017;&#x65F6;&#xFF1A;45&#x5206;&#x949F;</p>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x5177;&#x4F53;&#x53C2;&#x8003;<a href="http://lnmp.org/">LNMP&#x4E00;&#x952E;&#x5B89;&#x88C5;&#x5B98;&#x7F51;</a></p>
<h2 id="nmp&#x73A]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="LNMP" scheme="http://geosmart.github.io/tags/LNMP/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hexo安装]]></title>
    <link href="http://geosmart.github.io/2015/06/30/hexo%E5%AE%89%E8%A3%85/"/>
    <id>http://geosmart.github.io/2015/06/30/hexo安装/</id>
    <published>2015-06-30T04:58:32.000Z</published>
    <updated>2015-08-08T01:16:51.076Z</updated>
    <content type="html"><![CDATA[<h2 id="hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;">hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;</h2>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo init</span><br><span class="line">npm install</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-server --save</span><br><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line">npm install hexo-toc --save</span><br><span class="line">npm install hexo-html-minifier --save</span><br></pre></td></tr></table></figure></p>
<h2 id="&#x53EF;&#x9009;&#x63D2;&#x4EF6;">&#x53EF;&#x9009;&#x63D2;&#x4EF6;</h2>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it --save</span><br></pre></td></tr></table></figure></p>
<h2 id="&#x5E38;&#x7528;&#x547D;&#x4EE4;">&#x5E38;&#x7528;&#x547D;&#x4EE4;</h2>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">hexo g (generate)</span><br><span class="line">hexo s (server)</span><br><span class="line">hexo clean (clear public)</span><br><span class="line">hexo n  [layout] &lt;title &gt;(new post)</span><br><span class="line">eg:hexo n draft title</span><br><span class="line">hexo publish [layout] &lt;title&gt; </span><br><span class="line">eg:hexo publish draft title</span><br><span class="line">hexo d (deploy)</span><br><span class="line">hexo d -g (generate and deploy)</span><br><span class="line"></span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></p>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;">hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;</h2>
<p><figure class="highlight bash"><table><tr><td cla]]>
    </summary>
    
      <category term="工具" scheme="http://geosmart.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
</feed>