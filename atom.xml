<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  
  <title><![CDATA[geosmart]]></title>
  <subtitle><![CDATA[生命不止 奋斗不息]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://geosmart.github.io//"/>
  <updated>2015-07-16T10:51:47.905Z</updated>
  <id>http://geosmart.github.io//</id>
  
  <author>
    <name><![CDATA[geosmart]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[xmanager实现CentOS远程控制]]></title>
    <link href="http://geosmart.github.io/2015/07/15/xmanager%E5%AE%9E%E7%8E%B0CentOS%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6/"/>
    <id>http://geosmart.github.io/2015/07/15/xmanager实现CentOS远程控制/</id>
    <published>2015-07-15T01:34:10.000Z</published>
    <updated>2015-07-16T10:51:47.905Z</updated>
    <content type="html"><![CDATA[<p>&#x672C;&#x6587;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x901A;&#x8FC7;Xmanager&#x8FDE;&#x63A5;CentOS&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x65F6;&#xFF0C;&#x5728;CentOS&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x548C;Windows&#x5BA2;&#x6237;&#x7AEF;&#x9700;&#x8981;&#x505A;&#x7684;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#x3002;</p>
<h1 id="xmanager&#x7B80;&#x4ECB;">Xmanager&#x7B80;&#x4ECB;</h1><p>Xmanager &#x5168;&#x79F0;Netsarang Xmanager&#xFF0C;&#x662F;&#x56FD;&#x5916;&#x4E00;&#x5957;&#x975E;&#x5E38;&#x4F18;&#x79C0;&#x7684;&#x8FDC;&#x7A0B;&#x76D1;&#x63A7;&#x8F6F;&#x4EF6;&#x3002;&#x5728;UNIX/Linux&#x548C;Windows&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;Xmanager&#x662F;&#x8F83;&#x597D;&#x7684;&#x8FDE;&#x901A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x901A;&#x8FC7;Xmanager&#x8FDE;&#x63A5;Linux&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x8FDB;&#x884C;&#x56FE;&#x5F62;&#x5316;&#x7BA1;&#x7406;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5229;&#x7528;&#x4E86;Xmanager&#x5957;&#x88C5;&#x91CC;&#x9762;&#x7684;Xbrowser&#x7A0B;&#x5E8F;&#x3002;<br>Linux&#x8FDC;&#x7A0B;&#x56FE;&#x5F62;&#x5316;&#x7BA1;&#x7406;&#x9664;&#x4E86;Xbrowser&#xFF0C;&#x8FD8;&#x6709;&#x540C;&#x6837;&#x4F18;&#x79C0;&#x7684;VNC&#x3002;</p>
<p>&#x7279;&#x70B9;&#x5305;&#x62EC;&#xFF1A;<br>&#x53EF;&#x901A;&#x8FC7;Xcongfig&#x5DE5;&#x5177;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;Xmanager&#x8BBE;&#x7F6E;&#xFF1B;<br>&#x652F;&#x6301;&#x591A;&#x7528;&#x6237;&#x7684;Windows&#x7EC8;&#x7AEF;&#x73AF;&#x5883;&#xFF1B;<br>&#x652F;&#x6301;&#x591A;&#x4E2A;IP&#x5730;&#x5740;&#xFF1B;<br>&#x652F;&#x6301;&#x672C;&#x5730;&#x8D44;&#x6E90;&#x6570;&#x636E;&#x5E93;&#xFF1B;<br>&#x901A;&#x8FC7;&#x70ED;&#x952E;&#x8F6C;&#x6362;&#x952E;&#x76D8;&#x6620;&#x5C04;&#xFF1B;<br>&#x652F;&#x6301;&#x591A;&#x7A97;&#x53E3;&#x4E0B;&#x7684;Windows&#x6253;&#x5370;&#x529F;&#x80FD;&#x7B49;</p>
<h1 id="centos&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x914D;&#x7F6E;">CentOS&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x914D;&#x7F6E;</h1><ol>
<li>&#x5B89;&#x88C5;gdm<br>yum -y install gdm<br>&#x914D;&#x7F6E;&#x7CFB;&#x7EDF;&#x4E3A;&#x56FE;&#x5F62;&#x6A21;&#x5F0F;&#xFF0C;&#x6253;&#x5F00;/etc/inittab&#xFF0C;&#x4FEE;&#x6539;&#x4E3A;id:5:initdefault: (&#x82E5;&#x5DF2;&#x4E3A;5&#x5219;&#x4E0D;&#x9700;&#x4FEE;&#x6539;)</li>
<li><p>&#x542F;&#x7528;&#x56FE;&#x5F62;&#x5316;&#x754C;&#x9762;<br><code>vim /etc/inittab</code>&#xFF0C;3&#x6539;&#x4E3A;5</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">id:</span><span class="number">5</span>:<span class="string">initdefault:</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x914D;&#x7F6E;gdm&#x53C2;&#x6570;<br><code>vim /etc/gdm/custom.conf</code>&#xFF0C;&#x5728;[security]&#x548C;[xdmcp]&#x5B57;&#x6BB5;&#x4E0B;&#x5206;&#x522B;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">[daemon]</span></span><br><span class="line"><span class="title">[security]</span></span><br><span class="line"><span class="setting">AllowRemoteRoot=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="title">[xdmcp]</span></span><br><span class="line"><span class="setting">Port=<span class="value"><span class="number">177</span></span></span></span><br><span class="line"><span class="setting">Enable=<span class="value"><span class="number">1</span></span></span></span><br><span class="line"><span class="title">[greeter]</span></span><br><span class="line"><span class="title">[chooser]</span></span><br><span class="line"><span class="title">[debug]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x9632;&#x706B;&#x5899;&#x8BBE;&#x7F6E;</p>
</li>
</ol>
<ul>
<li><p>&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;<br>&#x4E34;&#x65F6;&#x5173;&#x95ED;&#xFF1A;<code>service iptables stop</code><br>&#x6C38;&#x4E45;&#x5173;&#x95ED;&#xFF1A;<code>checkcfg iptables off</code></p>
</li>
<li><p>&#x5728;&#x9632;&#x706B;&#x5899;&#x4E0A;&#x6253;&#x5F00;udp&#x534F;&#x8BAE;177 &#x7AEF;&#x53E3;<br><code>iptables -A INPUT -p tcp --dport 177 -j ACCEPT</code><br><code>service iptables save</code></p>
</li>
</ul>
<ol>
<li>&#x91CD;&#x542F;&#x673A;&#x5668;<br><code>reboot</code></li>
</ol>
<h1 id="windows&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;">Windows&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;</h1><ol>
<li><p>XManager&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x8FDE;&#x63A5;<br>&#x5728;Windows&#x4E0A;&#x6253;&#x5F00;XBrowser&#x901A;&#x8FC7;IP&#x5373;&#x53EF;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;CentOS<br>Xbrowser&gt;&#x5DE5;&#x5177;&gt;&#x9009;&#x9879;&gt;&#x6DFB;&#x52A0;&#x4E3B;&#x673A;&gt;&#x8FDE;&#x63A5;</p>
</li>
<li><p>Xshell&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x8FDE;&#x63A5;&#xFF0C;<br>Xshell&#x96A7;&#x9053;&#x8FDE;&#x63A5;&gt;&#x6267;&#x884C;<code>gnome-panel</code>&#x547D;&#x4EE4;<br>&#x5907;&#x6CE8;&#xFF1A;&#x53EA;&#x80FD;&#x8BBF;&#x95EE;&#x7528;&#x6237;&#x6587;&#x4EF6;&#x5939;</p>
</li>
</ol>
<h1 id="&#x6548;&#x679C;&#x56FE;">&#x6548;&#x679C;&#x56FE;</h1><p><img src="Xbrowser&#x4E3B;&#x754C;&#x9762;.png" alt="Xbrowser&#x4E3B;&#x754C;&#x9762;"><br><img src="Xbrowser&#x8FDC;&#x7A0B;&#x63A7;&#x5236;.png" alt="Xbrowser&#x8FDC;&#x7A0B;&#x63A7;&#x5236;"></p>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x672C;&#x6587;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x901A;&#x8FC7;Xmanager&#x8FDE;&#x63A5;CentOS&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x65F6;&#x]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[开放虚拟化格式之OVF-OVA]]></title>
    <link href="http://geosmart.github.io/2015/07/12/%E5%BC%80%E6%94%BE%E8%99%9A%E6%8B%9F%E5%8C%96%E6%A0%BC%E5%BC%8F%E4%B9%8BOVF-OVA/"/>
    <id>http://geosmart.github.io/2015/07/12/开放虚拟化格式之OVF-OVA/</id>
    <published>2015-07-12T14:05:44.000Z</published>
    <updated>2015-07-19T03:30:23.860Z</updated>
    <content type="html"><![CDATA[<p>&#x9047;&#x5230;Sphere6.0 (esxi6 )&#x5BFC;&#x51FA;&#x7684;OVF&#x865A;&#x62DF;&#x673A;&#x6A21;&#x677F;&#x5728;Vmware WorkStation 9&#x548C;VmWare WorkStation11&#x4E2D;&#x5BFC;&#x5165;&#x62A5;&#x9519;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6682;&#x6539;&#x6210;OVA&#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x3002;</p>
<h1 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h1><p><img src="errorInfo.png" alt="&#x5BFC;&#x5165;&#x5931;&#x8D25;&#xFF0C;&#x672A;&#x901A;&#x8FC7; OVF &#x89C4;&#x8303;&#x4E00;&#x81F4;&#x6027;&#x6216;&#x865A;&#x62DF;&#x786C;&#x4EF6;&#x5408;&#x89C4;&#x6027;&#x68C0;&#x67E5;&#x3002;&#x8BF7;&#x5355;&#x51FB;&#x201C;&#x91CD;&#x8BD5;&#x201D;&#x653E;&#x677E; OVF &#x89C4;&#x8303;&#x4E0E;&#x865A;&#x62DF;&#x786C;&#x4EF6;&#x5408;&#x89C4;&#x6027;&#x68C0;&#x67E5;&#xFF0C;&#x5E76;&#x91CD;&#x65B0;&#x5C1D;&#x8BD5;&#x5BFC;&#x5165;"></p>
<h2 id="&#x89E3;&#x51B3;&#x65B9;&#x5F0F;">&#x89E3;&#x51B3;&#x65B9;&#x5F0F;</h2><p>&#x4EE5;OVA&#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x6362;<br>VMware&#x5BFC;&#x51FA;&#x65F6;&#x5C06;&#x540E;&#x7F00;&#x6539;&#x4E3A;OVA&#x540E;&#x5230;&#x5904;&#xFF1B;ESXI&#x5BFC;&#x51FA;&#x65F6;&#x9009;OVA</p>
<h1 id="&#x57FA;&#x7840;&#x77E5;&#x8BC6;">&#x57FA;&#x7840;&#x77E5;&#x8BC6;</h1><h2 id="ovf">OVF</h2><p>OVF&#xFF08;Open Virtualization Format&#xFF1A;&#x5F00;&#x653E;&#x865A;&#x62DF;&#x5316;&#x683C;&#x5F0F; &#xFF09;<br>OVF&#x662F;&#x4E00;&#x79CD;&#x5F00;&#x6E90;&#x7684;&#x6587;&#x4EF6;&#x89C4;&#x8303;&#xFF0C;&#x5B83;&#x63CF;&#x8FF0;&#x4E86;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x3001;&#x5B89;&#x5168;&#x3001;&#x6709;&#x6548;&#x3001;&#x53EF;&#x62D3;&#x5C55;&#x7684;&#x4FBF;&#x643A;&#x5F0F;&#x865A;&#x62DF;&#x6253;&#x5305;&#x4EE5;&#x53CA;&#x8F6F;&#x4EF6;&#x5206;&#x5E03;&#x683C;&#x5F0F;&#xFF0C;&#x5B83;&#x4E00;&#x822C;&#x6709;&#x51E0;&#x4E2A;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;&#x5206;&#x522B;&#x662F;ovf&#x6587;&#x4EF6;&#x3001;mf&#x6587;&#x4EF6;&#x3001;cert&#x6587;&#x4EF6;&#x3001;vmdk&#x6587;&#x4EF6;&#x548C;iso&#x6587;&#x4EF6;&#x3002;</p>
<h2 id="ova">OVA</h2><p>OVA&#xFF08;Open Virtualization Appliance&#xFF1A;&#x5F00;&#x653E;&#x865A;&#x62DF;&#x5316;&#x8BBE;&#x5907;&#xFF09;<br>OVA&#x5305;&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6240;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x4FE1;&#x606F;&#x90FD;&#x5C01;&#x88C5;&#x5728;&#x91CC;&#x9762;&#x3002;OVA&#x6587;&#x4EF6;&#x5219;&#x91C7;&#x7528;.tar&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D;,&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;OVF &#x5305;&#x4E2D;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x3002;&#x8FD9;&#x6837;OVA&#x5355;&#x4E00;&#x7684;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x4F7F;&#x5F97;&#x5B83;&#x975E;&#x5E38;&#x4FBF;&#x643A;&#x3002;</p>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x9047;&#x5230;Sphere6.0 (esxi6 )&#x5BFC;&#x51FA;&#x7684;OVF&#x865A;&#x62DF;&#x673A;&#x6A21;&#x677F;&#x5728;Vmware WorkStation 9&#x548C;]]>
    </summary>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[磁盘阵列配置]]></title>
    <link href="http://geosmart.github.io/2015/07/12/%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97%E9%85%8D%E7%BD%AE/"/>
    <id>http://geosmart.github.io/2015/07/12/磁盘阵列配置/</id>
    <published>2015-07-12T14:04:48.000Z</published>
    <updated>2015-07-19T03:13:30.502Z</updated>
    <content type="html"><![CDATA[<p>&#x65B0;&#x8D2D;&#x8FDB;&#x4E00;&#x53F0;&#x6234;&#x5C14;&#x5854;&#x5F0F;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x673A;&#x5668;3*300G&#x7684;&#x786C;&#x76D8;&#x9ED8;&#x8BA4;&#x5DF2;&#x505A;RAID5&#x914D;&#x7F6E;&#xFF0C;&#x65B0;&#x589E;&#x786C;&#x76D8;&#x9700;&#x914D;&#x7F6E;&#x78C1;&#x76D8;&#x9635;&#x5217;</p>
<h1 id="raid&#x5BB9;&#x91CF;&#x8BA1;&#x7B97;&#x5668;">RAID&#x5BB9;&#x91CF;&#x8BA1;&#x7B97;&#x5668;</h1><p>&#x914D;&#x7F6E;&#x524D;&#xFF0C;&#x53EF;&#x6839;&#x636E;&#x786C;&#x76D8;&#x6570;&#x548C;RAID&#x7EA7;&#x522B;&#xFF0C;&#x53EF;&#x8BA1;&#x7B97;&#x914D;&#x7F6E;&#x540E;&#x7684;&#x786C;&#x76D8;&#x5B9E;&#x9645;&#x53EF;&#x7528;&#x5BB9;&#x91CF;<br>&#x53C2;&#x8003;&#x8BA1;&#x7B97;&#x5DE5;&#x5177;</p>
<ul>
<li><a href="http://www.ab126.com/web/2879.html">RAID&#x5BB9;&#x91CF;&#x8BA1;&#x7B97;&#x5668;</a></li>
<li><a href="http://www.raid-calculator.com/default.aspx">raid-calculator</a></li>
</ul>
<h1 id="raid&#x57FA;&#x7840;&#x77E5;&#x8BC6;">RAID&#x57FA;&#x7840;&#x77E5;&#x8BC6;</h1><h2 id="raid-0">RAID 0</h2><p><img src="raid0.gif" alt="raid0"></p>
<ul>
<li>&#x7279;&#x70B9;&#xFF1A;&#x9AD8;&#x6027;&#x80FD; &#x4F4E;&#x7A33;&#x5B9A;&#x6027; &#x4E2D;&#x7B49;&#x6210;&#x672C;</li>
<li>RAID0&#x53C8;&#x79F0;&#x4E3A;Stripe&#xFF08;&#x6761;&#x5E26;&#x5316;&#xFF09;&#x6216;Striping&#xFF0C;&#x5B83;&#x4EE3;&#x8868;&#x4E86;&#x6240;&#x6709;RAID&#x7EA7;&#x522B;&#x4E2D;&#x6700;&#x9AD8;&#x7684;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#x3002;</li>
<li>RAID0&#x7684;&#x7F3A;&#x70B9;&#x662F;&#x4E0D;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x5197;&#x4F59;&#xFF0C;&#x56E0;&#x6B64;&#x4E00;&#x65E6;&#x7528;&#x6237;&#x6570;&#x636E;&#x635F;&#x574F;&#xFF0C;&#x635F;&#x574F;&#x7684;&#x6570;&#x636E;&#x5C06;&#x65E0;&#x6CD5;&#x5F97;&#x5230;&#x6062;&#x590D;&#x3002;</li>
<li>RAID 0&#x5177;&#x6709;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x4F7F;&#x5176;&#x7279;&#x522B;&#x9002;&#x7528;&#x4E8E;&#x5BF9;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x8F83;&#x9AD8;&#xFF0C;&#x800C;&#x5BF9;&#x6570;&#x636E;&#x5B89;&#x5168;&#x4E0D;&#x592A;&#x5728;&#x4E4E;&#x7684;&#x9886;&#x57DF;&#xFF0C;&#x5982;&#x56FE;&#x5F62;&#x5DE5;&#x4F5C;&#x7AD9;&#x7B49;&#x3002;</li>
<li>&#x5BF9;&#x4E8E;&#x4E2A;&#x4EBA;&#x7528;&#x6237;&#xFF0C;RAID 0&#x4E5F;&#x662F;&#x63D0;&#x9AD8;&#x786C;&#x76D8;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#x7684;&#x7EDD;&#x4F73;&#x9009;&#x62E9;&#x3002;</li>
</ul>
<h2 id="raid-1">RAID 1</h2><p><img src="raid1.gif" alt="raid1"></p>
<ul>
<li>&#x7279;&#x70B9;&#xFF1A;&#x9AD8;&#x7A33;&#x5B9A;&#x6027; &#x666E;&#x901A;&#x6027;&#x80FD; &#x4E2D;&#x7B49;&#x6210;&#x672C;</li>
<li>RAID 1&#x53C8;&#x79F0;&#x4E3A;Mirror&#x6216;Mirroring&#xFF08;&#x955C;&#x50CF;&#xFF09;&#xFF0C;&#x5B83;&#x7684;&#x5B97;&#x65E8;&#x662F;&#x6700;&#x5927;&#x9650;&#x5EA6;&#x7684;&#x4FDD;&#x8BC1;&#x7528;&#x6237;&#x6570;&#x636E;&#x7684;&#x53EF;&#x7528;&#x6027;&#x548C;&#x53EF;&#x4FEE;&#x590D;&#x6027;&#x3002; </li>
<li>RAID 1&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x662F;&#x628A;&#x7528;&#x6237;&#x5199;&#x5165;&#x786C;&#x76D8;&#x7684;&#x6570;&#x636E;&#x767E;&#x5206;&#x4E4B;&#x767E;&#x5730;&#x81EA;&#x52A8;&#x590D;&#x5236;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x786C;&#x76D8;&#x4E0A;&#x3002;</li>
<li>Mirror&#x867D;&#x4E0D;&#x80FD;&#x63D0;&#x9AD8;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;&#x5176;&#x5177;&#x6709;&#x7684;&#x9AD8;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x4F7F;&#x5176;&#x5C24;&#x5176;&#x9002;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x91CD;&#x8981;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x670D;&#x52A1;&#x5668;&#x548C;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x7B49;&#x9886;&#x57DF;&#x3002;</li>
</ul>
<h2 id="raid-5">RAID 5</h2><p><img src="raid5.gif" alt="raid5"></p>
<ul>
<li>&#x7279;&#x70B9;&#xFF1A;&#x9AD8;&#x6027;&#x80FD; &#x4E2D;&#x7B49;&#x7A33;&#x5B9A;&#x6027; &#x4E2D;&#x7B49;&#x6210;&#x672C;</li>
<li>RAID 5 &#x662F;&#x4E00;&#x79CD;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#x3001;&#x6570;&#x636E;&#x5B89;&#x5168;&#x548C;&#x5B58;&#x50A8;&#x6210;&#x672C;&#x517C;&#x987E;&#x7684;&#x5B58;&#x50A8;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002; </li>
<li>RAID 5&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x662F;RAID 0&#x548C;RAID 1&#x7684;&#x6298;&#x8877;&#x65B9;&#x6848;&#x3002;</li>
<li>RAID 5&#x53EF;&#x4EE5;&#x4E3A;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x5B89;&#x5168;&#x4FDD;&#x969C;&#xFF0C;&#x4F46;&#x4FDD;&#x969C;&#x7A0B;&#x5EA6;&#x8981;&#x6BD4;Mirror&#x4F4E;&#x800C;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x5229;&#x7528;&#x7387;&#x8981;&#x6BD4;Mirror&#x9AD8;&#x3002;</li>
<li>RAID 5&#x5177;&#x6709;&#x548C;RAID 0&#x76F8;&#x8FD1;&#x4F3C;&#x7684;&#x6570;&#x636E;&#x8BFB;&#x53D6;&#x901F;&#x5EA6;&#xFF0C;&#x53EA;&#x662F;&#x591A;&#x4E86;&#x4E00;&#x4E2A;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#xFF0C;&#x5199;&#x5165;&#x6570;&#x636E;&#x7684;&#x901F;&#x5EA6;&#x6BD4;&#x5BF9;&#x5355;&#x4E2A;&#x78C1;&#x76D8;&#x8FDB;&#x884C;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x7A0D;&#x6162;&#x3002;&#x540C;&#x65F6;&#x7531;&#x4E8E;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#xFF0C;RAID 5&#x7684;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x5229;&#x7528;&#x7387;&#x8981;&#x6BD4;RAID 1&#x9AD8;&#xFF0C;&#x5B58;&#x50A8;&#x6210;&#x672C;&#x76F8;&#x5BF9;&#x8F83;&#x4F4E;&#x3002;</li>
</ul>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x65B0;&#x8D2D;&#x8FDB;&#x4E00;&#x53F0;&#x6234;&#x5C14;&#x5854;&#x5F0F;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x673A;&#x5668;3*300G&#x7684;&#x]]>
    </summary>
    
      <category term="硬件" scheme="http://geosmart.github.io/tags/%E7%A1%AC%E4%BB%B6/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[nginx负载均衡参数配置]]></title>
    <link href="http://geosmart.github.io/2015/07/12/nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE/"/>
    <id>http://geosmart.github.io/2015/07/12/nginx负载均衡参数配置/</id>
    <published>2015-07-12T13:30:47.000Z</published>
    <updated>2015-07-12T14:06:24.868Z</updated>
    <content type="html"><![CDATA[<h1 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h1><p>Nginx&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x5927;&#x91CF;502Bad Gateway&#x548C;504 Time-Out&#xFF0C;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;Jetty&#x7AEF;&#x5B58;&#x5728;&#x5927;&#x91CF;CLOSE_WAIT&#x548C;TIME_WAIT&#x72B6;&#x6001;&#x7684;&#x8FDE;&#x63A5;<br><img src="502-504.png" alt="502-504"><br>&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x67E5;&#x770B;&#x53E3;&#x4EE4;&#xFF1A;<br><code>netstat -n | awk &apos;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&apos;</code></p>
<h1 id="&#x89E3;&#x51B3;&#x65B9;&#x6848;">&#x89E3;&#x51B3;&#x65B9;&#x6848;</h1><ol>
<li>Linux&#x4E2D;TCP/IP&#x5185;&#x6838;&#x53C2;&#x6570; &#x4F18;&#x5316;<br>&#x7F16;&#x8F91;&#x53C2;&#x6570;&#xFF1A;<code>vi /etc/sysctl.conf</code><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">net<span class="class">.core</span><span class="class">.somaxconn</span> = <span class="number">4096</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_max_syn_backlog</span> = <span class="number">8192</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_syn_retries</span>= <span class="number">5</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_synack_retries</span> = <span class="number">5</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_abort_on_overflow</span>=<span class="number">0</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_tw_reuse</span>=<span class="number">1</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_tw_recycle</span>=<span class="number">1</span> </span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_timestamps</span>=<span class="number">1</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_syncookies</span>=<span class="number">1</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_max_tw_buckets</span>=<span class="number">90000</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_fin_timeout</span>=<span class="number">30</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.ip_local_port_range</span>=<span class="number">10000</span> <span class="number">65000</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_keepalive_time</span>=<span class="number">1200</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>&#x8BA9;&#x53C2;&#x6570;&#x751F;&#x6548;&#xFF1A;<code>/sbin/sysctl -p</code></p>
<ol>
<li>Nginx&#x914D;&#x7F6E;&#x53C2;&#x6570;<br>&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x4E09;&#x4E2A;proxy_&#x8D85;&#x65F6;&#x63A7;&#x5236;&#x53C2;&#x6570;<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">upstream</span> uadb_server{   </span><br><span class="line">     <span class="title">server</span> <span class="number">192.168.1.81:8080</span>  weight=<span class="number">1</span> max_fails=<span class="number">2</span> fail_timeout=<span class="number">0</span>; </span><br><span class="line">     <span class="title">server</span> <span class="number">192.168.1.82:8080</span>  weight=<span class="number">1</span> max_fails=<span class="number">2</span> fail_timeout=<span class="number">0</span>;    </span><br><span class="line">} </span><br><span class="line"><span class="title">server</span> {</span><br><span class="line">        <span class="title">listen</span>       <span class="number">9090</span>;</span><br><span class="line">        <span class="title">server_name</span>  uadb_server;   </span><br><span class="line">        <span class="title">access_log</span>  /var/log/nginx/uadb_server-access-ssl.log;</span><br><span class="line">        <span class="title">error_log</span>  /var/log/nginx/uadb_server-<span class="built_in">error</span>-ssl.log;</span><br><span class="line">        <span class="title">location</span> /{ </span><br><span class="line">           <span class="title">proxy_pass</span> <span class="url">http://uadb_server</span>; </span><br><span class="line">           <span class="comment"># time out settings</span></span><br><span class="line">           <span class="title">proxy_connect_timeout</span> <span class="number">60</span>;</span><br><span class="line">           <span class="title">proxy_read_timeout</span>  <span class="number">3600</span>;</span><br><span class="line">           <span class="title">proxy_send_timeout</span>  <span class="number">3600</span>;</span><br><span class="line">           <span class="title">proxy_temp_file_write_size</span> <span class="number">64k</span>;</span><br><span class="line">           <span class="title">proxy_redirect</span>          <span class="built_in">off</span>; </span><br><span class="line">        } </span><br><span class="line">}</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="nginx-upstream&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x53CD;&#x5411;&#x4EE3;&#x7406;">Nginx upstream&#x8D1F;&#x8F7D;&#x5747;&#x8861;/&#x53CD;&#x5411;&#x4EE3;&#x7406;</h1><p><img src="proxy.png" alt="proxy">   </p>
<h2 id="upstream&#x7B97;&#x6CD5;&#x5206;&#x6790;">upstream&#x7B97;&#x6CD5;&#x5206;&#x6790;</h2><ol>
<li>&#x8F6E;&#x8BE2;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x6309;&#x65F6;&#x95F4;&#x987A;&#x5E8F;&#x5206;&#x914D;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x4E86;&#xFF0C;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;down&#x6389;&#xFF0C;&#x81EA;&#x52A8;&#x5207;&#x9664;&#xFF1B;</li>
<li>weight&#xFF1A;&#x8BBE;&#x5B9A;&#x670D;&#x52A1;&#x5668;&#x6743;&#x503C;&#xFF1A;&#x5982;weight=2&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x4E0D;&#x5747;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x3002;weight&#xFF1A;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;weight&#x8D8A;&#x5927;&#xFF0C;&#x8D1F;&#x8F7D;&#x7684;&#x6743;&#x91CD;&#x8D8A;&#x5927;&#xFF1B;</li>
<li>ip_hash &#xFF1A;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x6309;&#x8BBF;&#x95EE;ip&#x7684;hash&#x7ED3;&#x679C;&#x5206;&#x914D;&#xFF0C;&#x6BCF;&#x4E2A;&#x8BBF;&#x5BA2;&#x6709;&#x56FA;&#x5B9A;&#x7684;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;session&#x95EE;&#x9898;&#xFF1B;</li>
<li>fair&#xFF08;&#x7B2C;&#x4E09;&#x65B9;&#xFF09;&#xFF1A;&#x6309;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x6765;&#x5206;&#x914D;&#xFF0C;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x77ED;&#x7684;&#x4F18;&#x5148;&#x5206;&#x914D;</li>
<li>url_hash (&#x7B2C;&#x4E09;&#x65B9;)&#xFF1A; &#x6309;&#x8BBF;&#x95EE;&#x7684;url&#x7684;hash&#x7ED3;&#x679C;&#x5206;&#x914D;&#xFF0C;&#x4F7F;&#x6BCF;&#x4E2A;url&#x5B9A;&#x5411;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x540E;&#x7AEF;&#x4E3A;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x6BD4;&#x8F83;&#x6709;&#x6548;&#x3002;</li>
</ol>
<h2 id="upstream&#x53C2;&#x6570;&#x4ECB;&#x7ECD;">upstream&#x53C2;&#x6570;&#x4ECB;&#x7ECD;</h2><ol>
<li>down&#xFF1A;&#x5F53;&#x524D;&#x7684;IP server&#x6682;&#x65F6;&#x4E0D;&#x53C2;&#x4E0E;&#x8D1F;&#x8F7D;&#xFF0C;&#x4E0D;&#x8FDB;&#x884C;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#xFF1B;</li>
<li>max_fails&#xFF1A;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x5931;&#x8D25;&#x7684;&#x6B21;&#x6570;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;&#x5F53;&#x8D85;&#x8FC7;&#x6700;&#x5927;&#x6B21;&#x6570;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;proxy_next_upstream&#x6A21;&#x5757;&#x5B9A;&#x4E49;&#x7684;&#x9519;&#x8BEF;&#xFF1B;</li>
<li>fail_timeout&#xFF1A;max_fails&#x6B21;&#x5931;&#x8D25;&#x540E;&#xFF0C;&#x6682;&#x505C;&#x7684;&#x65F6;&#x95F4;&#xFF1B;</li>
<li>backup&#xFF1A;&#x5176;&#x5B83;&#x6240;&#x6709;&#x975E;backup&#x673A;&#x5668;down&#x6216;&#x8005;&#x5FD9;&#x65F6;&#x5019;&#xFF0C;&#x8BF7;&#x6C42;backup&#x673A;&#x5668;&#xFF0C;&#x8FD9;&#x53F0;&#x673A;&#x5668;&#x538B;&#x529B;&#x6700;&#x8F7B;&#x3002;</li>
</ol>
<h1 id="netstat&#x53C2;&#x6570;&#x72B6;&#x6001;">netstat&#x53C2;&#x6570;&#x72B6;&#x6001;</h1><p>&#x67E5;&#x770B;&#x53E3;&#x4EE4;&#xFF1A;<code>netstat -an</code><br>&#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF1A;<br><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">LISTEN&#xFF1A;&#x4FA6;&#x542C;&#x6765;&#x81EA;&#x8FDC;&#x65B9;&#x7684;TCP&#x7AEF;&#x53E3;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">SYN-SENT&#xFF1A;&#x5728;&#x53D1;&#x9001;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x540E;&#x7B49;&#x5F85;&#x5339;&#x914D;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">SYN-RECEIVED&#xFF1A;&#x5728;&#x6536;&#x5230;&#x548C;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x540E;&#x7B49;&#x5F85;&#x5BF9;&#x65B9;&#x5BF9;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">ESTABLISHED&#xFF1A;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x6253;&#x5F00;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x6211;&#x4EEC;&#x5E38;&#x7528;&#x6B64;&#x4F5C;&#x4E3A;&#x5E76;&#x53D1;&#x8FDE;&#x63A5;&#x6570;&#xFF1B;</span><br><span class="line">FIN-WAIT-1&#xFF1A;&#x7B49;&#x5F85;&#x8FDC;&#x7A0B;TCP&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#xFF0C;&#x6216;&#x5148;&#x524D;&#x7684;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">FIN-WAIT-2&#xFF1A;&#x4ECE;&#x8FDC;&#x7A0B;TCP&#x7B49;&#x5F85;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">CLOSE-WAIT&#xFF1A;&#x7B49;&#x5F85;&#x4ECE;&#x672C;&#x5730;&#x7528;&#x6237;&#x53D1;&#x6765;&#x7684;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">CLOSING&#xFF1A;&#x7B49;&#x5F85;&#x8FDC;&#x7A0B;TCP&#x5BF9;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">LAST-ACK&#xFF1A;&#x7B49;&#x5F85;&#x539F;&#x6765;&#x53D1;&#x5411;&#x8FDC;&#x7A0B;TCP&#x7684;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">TIME-WAIT&#xFF1A;&#x7B49;&#x5F85;&#x8DB3;&#x591F;&#x7684;&#x65F6;&#x95F4;&#x4EE5;&#x786E;&#x4FDD;&#x8FDC;&#x7A0B;TCP&#x8FDE;&#x63A5;&#x6536;&#x5230;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line"><span class="keyword">CLOSED</span>&#xFF1A;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x8FDE;&#x63A5;&#x72B6;&#x6001;&#xFF1B;</span><br></pre></td></tr></table></figure></p>
<h1 id="&#x670D;&#x52A1;&#x5668;tcp&#x8FDE;&#x63A5;&#x72B6;&#x6001;">&#x670D;&#x52A1;&#x5668;TCP&#x8FDE;&#x63A5;&#x72B6;&#x6001;</h1><p>&#x67E5;&#x770B;&#x53E3;&#x4EE4;&#xFF1A;<code>netstat -an|awk &apos;/^tcp/{++S[$NF]}END{for (a in S)print a,S[a]}&apos;</code><br><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CLOSED</span>&#xFF1A;&#x6CA1;&#x6709;&#x8FDE;&#x63A5;&#x6D3B;&#x52A8;&#x6216;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#xFF1B;</span><br><span class="line">LISTEN&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x7684;&#x8FDB;&#x5165;&#x547C;&#x53EB;&#xFF1B;</span><br><span class="line">SYN_RECV&#xFF1A;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x5DF2;&#x7ECF;&#x5230;&#x8FBE;&#xFF0C;&#x7B49;&#x5F85;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">SYN_SENT&#xFF1A;&#x5E94;&#x7528;&#x5DF2;&#x7ECF;&#x5F00;&#x59CB;&#xFF0C;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#xFF1B;</span><br><span class="line">ESTABLISHED&#xFF1A;&#x6B63;&#x5E38;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x72B6;&#x6001;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD1;&#x4F3C;&#x7684;&#x7406;&#x89E3;&#x4E3A;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5E76;&#x53D1;&#x6570;&#xFF1B;</span><br><span class="line">FIN_WAIT1&#xFF1A;&#x5E94;&#x7528;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF1B;</span><br><span class="line">FIN_WAIT2&#xFF1A;&#x53E6;&#x4E00;&#x8FB9;&#x540C;&#x610F;&#x91CA;&#x653E;&#xFF1B;</span><br><span class="line">ITMED_WAIT&#xFF1A;&#x7B49;&#x5F85;&#x6240;&#x6709;&#x5206;&#x7EC4;&#x6B7B;&#x6389;&#xFF1B;</span><br><span class="line">CLOSING&#xFF1A;&#x4E24;&#x8FB9;&#x540C;&#x65F6;&#x5C1D;&#x8BD5;&#x5173;&#x95ED;&#xFF1B;</span><br><span class="line">TIME_WAIT&#xFF1A;&#x53E6;&#x4E00;&#x8FB9;&#x5DF2;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x4E2A;&#x91CA;&#x653E;&#xFF1B;</span><br><span class="line">LAST_ACK&#xFF1A;&#x7B49;&#x5F85;&#x6240;&#x6709;&#x5206;&#x7EC4;&#x6B7B;&#x6389;&#xFF1B;</span><br></pre></td></tr></table></figure></p>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h1><p>Nginx&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x5927;&#x91]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[CentOS常用脚本]]></title>
    <link href="http://geosmart.github.io/2015/07/06/centos%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/07/06/centos常用脚本/</id>
    <published>2015-07-06T08:41:15.000Z</published>
    <updated>2015-07-08T06:21:35.046Z</updated>
    <content type="html"><![CDATA[<h1 id="&#x9759;&#x6001;ip&#x8BBE;&#x7F6E;">&#x9759;&#x6001;IP&#x8BBE;&#x7F6E;</h1><p><a href="static-ip.sh">static-ip.sh</a><br>&#x53C2;&#x6570;: <code>static-ip.sh &lt;hostname&gt; &lt;interface&gt; &lt;baseip&gt; &lt;ipaddress&gt; &lt;gateway/dns&gt;</code><br>&#x793A;&#x4F8B;&#xFF1A;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x  ./static-ip.sh</span><br><span class="line">./static-ip.sh localhost eth0 <span class="number">192.168</span>.<span class="number">1</span> <span class="number">81</span> <span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>hexo</p>
<h1 id="&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x4E0B;ssh&#x514D;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x8BA4;&#x8BC1;&#x811A;&#x672C;">&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x4E0B;ssh&#x514D;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x8BA4;&#x8BC1;&#x811A;&#x672C;</h1><p>//TODO  fork url<br><a href="todo"></a></p>
<ol>
<li>&#x786E;&#x4FDD;&#x5404;&#x8282;&#x70B9;&#x5B89;&#x88C5;ssh,expect</li>
<li>&#x628A;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;</li>
<li>&#x914D;&#x7F6E;hosts.conf&#x548C;slaves.conf</li>
<li>&#x6267;&#x884C;keygen_master<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x keygen_master.sh</span><br><span class="line">./keygen_master.sh</span><br></pre></td></tr></table></figure></li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="&#x9759;&#x6001;ip&#x8BBE;&#x7F6E;">&#x9759;&#x6001;IP&#x8BBE;&#x7F6E;</h1><p><a href="static-ip.sh">static-ip.sh</a><br>&#x53C2;&#x]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[mongodb一键安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/07/01/mongodb%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/07/01/mongodb一键安装脚本/</id>
    <published>2015-07-01T12:26:00.000Z</published>
    <updated>2015-07-01T14:50:35.610Z</updated>
    <content type="html"><![CDATA[<p><img src="logo-mongodb.png" alt="">   </p>
<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2><ol>
<li><a href="http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.6.3.tgz">mongodb&#x5B89;&#x88C5;&#x5305;&#xFF08;&#x5B98;&#x7F51;&#x7248;&#x672C;&#xFF1A;mongodb-linux-x86_64-2.6.3.tgz&#xFF09;</a><br>&#x4E0B;&#x8F7D;&#x540E;&#x5E76;&#x91CD;&#x547D;&#x540D;&#x4E3A;mongodb.tar.gz</li>
<li><a href="install-mongodb.sh">mongodb&#x5B89;&#x88C5;&#x811A;&#x672C;</a></li>
</ol>
<h2 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h2><p>&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;CentOS&#x540E;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<ol>
<li>CentOS&#x8DEF;&#x5F84;&#xFF1A;/tmp </li>
<li><p>&#x6267;&#x884C;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp</span><br><span class="line">chmod +x install-mongodb.sh </span><br><span class="line">sudo ./install-mongodb.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x4E00;&#x8DEF;&#x56DE;&#x8F66;&#x5373;&#x53EF;</p>
</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p><img src="logo-mongodb.png" alt="">   </p>
<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2><ol>
<li><a hre]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="数据库" scheme="http://geosmart.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[日志分析工具]]></title>
    <link href="http://geosmart.github.io/2015/06/30/%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/"/>
    <id>http://geosmart.github.io/2015/06/30/日志分析工具/</id>
    <published>2015-06-30T06:47:50.000Z</published>
    <updated>2015-07-01T06:52:07.114Z</updated>
    <content type="html"><![CDATA[<p>&#x6700;&#x8FD1;&#x9700;&#x8981;&#x5BF9;&#x591A;&#x53F0;Web&#x670D;&#x52A1;&#x5668;/Java&#x5BA2;&#x6237;&#x7AEF;&#x7A0B;&#x5E8F;&#x7684;&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x5206;&#x6790;&#xFF0C;&#x6BD4;&#x8F83;&#x4E86;&#x4E00;&#x4E9B;&#x5F00;&#x6E90;&#x7684;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x4EA7;&#x5DE5;&#x5177;&#xFF0C;&#x76EE;&#x524D;&#x5728;&#x7528;&#x7684;&#x6709;OtrosLogViewer&#xFF08;olv&#xFF09;&#x548C;LogExpert</p>
<h2 id="awstats">AWStats</h2><ul>
<li>&#x57FA;&#x4E8E;Perl&#xFF0C;&#x5F00;&#x6E90;&#x3001;&#x7B80;&#x6D01;&#x3001;&#x5F3A;&#x5927;&#x7684;&#x7F51;&#x7AD9;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;<br>Free real-time logfile analyzer to get advanced statistics (GNU GPL).<br>AWStats is a free powerful and featureful tool that generates advanced web, streaming, ftp or mail server statistics, graphically. This log analyzer works as a CGI or from command line and shows you all possible information your log contains, in few graphical web pages. It uses a partial information file to be able to process large log files, often and quickly. It can analyze log files from all major server tools like Apache log files (NCSA combined/XLF/ELF log format or common/CLF log format), WebStar, IIS (W3C log format) and a lot of other web, proxy, wap, streaming servers, mail servers and some ftp servers.<br>Take a look at this comparison table for an idea on features and differences between most famous statistics tools (AWStats, Analog, Webalizer,&#x2026;).<br>AWStats is a free software distributed under the GNU General Public License. You can have a look at this license chart to know what you can/can&#x2019;t do.<br>As AWStats works from the command line but also as a CGI, it can work with all web hosting providers which allow Perl, CGI and log access.</li>
</ul>
<h2 id="otroslogviewer">OtrosLogViewer</h2><ul>
<li>&#x57FA;&#x4E8E;Java&#x5F00;&#x53D1;&#x7684;&#xFF0C;&#x5F00;&#x6E90;&#x3001;&#x5F3A;&#x5927;&#x3001;&#x53EF;&#x81EA;&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#x3001;UI&#x53CB;&#x597D;&#xFF0C;&#x53EF;&#x62D6;&#x62FD;http&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x5206;&#x6790;&#xFF0C;&#x597D;&#x8BC4;</li>
<li>&#x95EE;&#x9898;1&#xFF1A;&#x5728;windows&#x4E0B;&#x5207;&#x6362;log&#x4F1A;&#x975E;&#x5E38;&#x5361;&#x987F;&#xFF0C;linux&#x4E0B;&#x6B63;&#x5E38;&#xFF0C;&#x6682;&#x672A;&#x627E;&#x5230;&#x539F;&#x56E0;</li>
<li>&#x95EE;&#x9898;2&#xFF1A; illegal character in schema name at index xxx<br>  &#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x62D6;&#x62FD;&#x6587;&#x4EF6;&#xFF08;&#x5982;<a href="http://192.168.1.81:8080/logs/uadb/uadb.log&#xFF09;&#xFF0C;&#x9700;&#x62D6;&#x62FD;&#x6D4F;&#x89C8;&#x5668;&#x9875;&#x9762;&#xFF08;&#x5982;http://192.168.1.81:8080/logs/uadb&#xFF09;&#x4E2D;&#x7684;&#x65E5;&#x5FD7;&#x94FE;&#x63A5;">http://192.168.1.81:8080/logs/uadb/uadb.log&#xFF09;&#xFF0C;&#x9700;&#x62D6;&#x62FD;&#x6D4F;&#x89C8;&#x5668;&#x9875;&#x9762;&#xFF08;&#x5982;http://192.168.1.81:8080/logs/uadb&#xFF09;&#x4E2D;&#x7684;&#x65E5;&#x5FD7;&#x94FE;&#x63A5;</a></li>
<li>&#x95EE;&#x9898;3 &#x6309;<code>%d{yyyy-MM-dd HH\:mm\:ss,SSS} [%t] [%c] [%p] - %m%n</code>&#x89C4;&#x5219;&#x62C6;&#x5206;&#x884C;&#x5B58;&#x5728;&#x95EE;&#x9898;&#xFF0C;&#x5B58;&#x5728;&#x591A;&#x884C;&#x5E76;&#x5728;&#x4E00;&#x8D77;</li>
</ul>
<p>Useful software for analysing applications logs and traces.</p>
<h2 id="logexpert">LogExpert</h2><ul>
<li>&#x5C0F;&#x800C;&#x7F8E;&#x7684;&#x5355;&#x673A;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;&#xFF0C;&#x597D;&#x8BC4;<br>  You are a developer needing a nice tail application for MS Windows?<br>  You are in the need for a powerful logfile analysis tool?<br>  You love logfiles?<br>  You live in your logfiles?<br>  Or at least: you have to work with them?<br>  Download LogExpert if you answered &#x201C;yes&#x201D; to any of the questions above!</li>
</ul>
<h2 id="log-parser">Log Parser</h2><ul>
<li>&#x57FA;&#x4E8E;.NET&#x5E73;&#x53F0;<br>  Log Parser is a powerful, versatile tool that provides universal query access to text-based data such as log files, XML files and CSV files, as well as key data sources on the Windows operating system such as the Event Log, the Registry, the file system, and Active Directory. You tell Log Parser what information you need and how you want it processed. The results of your query can be custom-formatted in text based output, or they can be persisted to more specialty targets like SQL, SYSLOG, or a chart. Most software is designed to accomplish a limited number of specific tasks. Log Parser is different&#x2026; the number of ways it can be used is limited only by the needs and imagination of the user. The world is your database with Log Parser.</li>
</ul>
<h2 id="chainsaw">Chainsaw</h2><ul>
<li>&#x867D;&#x662F;apache&#x5B98;&#x65B9;&#x7684;&#x4E13;&#x4E1A;Log4j&#x5206;&#x6790;&#x5DE5;&#x5177;&#xFF0C;2004&#x5E74;&#x5C31;&#x6CA1;&#x66F4;&#x65B0;&#x4E86;,&#x5DEE;&#x8BC4;&#xFF01;<br>  Chainsaw v2 is a companion application to Log4j written by members of the Log4j development community. Like a number of Open Source projects, this new version was built upon inspirations, ideas and creations of others. Chainsaw v2 has it&#x2019;s roots from the original Chainsaw utility written by Oliver Burn, and with inspiration from the Log Factor 5 utility contributed by ThoughtWorks Inc.</li>
</ul>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x6700;&#x8FD1;&#x9700;&#x8981;&#x5BF9;&#x591A;&#x53F0;Web&#x670D;&#x52A1;&#x5668;/Java&#x5BA2;&#x6237;&#x7AEF;&#x7A0B;&#x5E8F;&#x7684;&]]>
    </summary>
    
      <category term="工具" scheme="http://geosmart.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[常用git命令]]></title>
    <link href="http://geosmart.github.io/2015/06/30/%E5%B8%B8%E7%94%A8git%E5%91%BD%E4%BB%A4/"/>
    <id>http://geosmart.github.io/2015/06/30/常用git命令/</id>
    <published>2015-06-30T05:18:03.000Z</published>
    <updated>2015-07-01T01:28:42.061Z</updated>
    <content type="html"><![CDATA[<p><a href="https://www.atlassian.com/git/tutorials/">&#x53C2;&#x8003;&#x6559;&#x7A0B;</a></p>
<ol>
<li><p>&#x514B;&#x9686;&#x5E93;</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone <span class="string">https:</span><span class="comment">//github.com/geosmart/geosmart.io</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x65B0;&#x5EFA; &#x2018;gh-pages&#x2019;&#x5206;&#x652F;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x751F;&#x6210;github pages </p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="comment">--orphan gh-pages</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x672C;&#x5730;&#x63D0;&#x4EA4;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -<span class="tag">a</span> -m <span class="string">&quot;commit message&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x63A8;&#x9001;&#x5230;github</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">git</span> <span class="keyword">push </span>origin</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x521D;&#x59CB;&#x7248;&#x672C;&#x63D0;&#x4EA4;</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">push</span> --<span class="keyword">set</span>-upstream origin master</span><br><span class="line">&#x6216;</span><br><span class="line">git <span class="keyword">push</span> origin master</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x63A8;&#x9001;&#x5230;github</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git sync</span><br><span class="line">git config --<span class="keyword">global</span> credential.helper store</span><br><span class="line">git config --<span class="keyword">global</span> push.<span class="keyword">default</span> <span class="keyword">matching</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li><p>git bash&#x8BB0;&#x4F4F;&#x5BC6;&#x7801;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config credential<span class="class">.helper</span> <span class="string">&apos;cache --timeout=300&apos;</span></span><br><span class="line">git config --global user<span class="class">.name</span> geosmart</span><br><span class="line">git config --global user<span class="class">.email</span> geosmart@foxmail.com</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x67E5;&#x770B;git&#x914D;&#x7F6E;</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config <span class="comment">--list</span></span><br></pre></td></tr></table></figure></li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p><a href="https://www.atlassian.com/git/tutorials/">&#x53C2;&#x8003;&#x6559;&#x7A0B;</a></p>
<ol>
<li><p>&#x514B;&#x9686;&#x5E93;</p>
<fig]]>
    </summary>
    
      <category term="工具" scheme="http://geosmart.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[LNMP安装]]></title>
    <link href="http://geosmart.github.io/2015/06/30/lnmp%E5%AE%89%E8%A3%85/"/>
    <id>http://geosmart.github.io/2015/06/30/lnmp安装/</id>
    <published>2015-06-30T05:11:58.000Z</published>
    <updated>2015-07-07T01:59:34.128Z</updated>
    <content type="html"><![CDATA[<p>&#x5177;&#x4F53;&#x53C2;&#x8003;<a href="http://lnmp.org/">LNMP&#x4E00;&#x952E;&#x5B89;&#x88C5;&#x5B98;&#x7F51;</a></p>
<h2 id="nmp&#x73AF;&#x5883;&#x914D;&#x7F6E;">NMP&#x73AF;&#x5883;&#x914D;&#x7F6E;</h2><p>LNMP:Linux+Nginx+Mysql+PHP</p>
<h2 id="lnmp&#x76F8;&#x5173;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;&#x76EE;&#x5F55;">LNMP&#x76F8;&#x5173;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;&#x76EE;&#x5F55;</h2><p>Nginx &#x76EE;&#x5F55;: /usr/local/nginx/<br>MySQL &#x76EE;&#x5F55; : /usr/local/mysql/<br>MySQL&#x6570;&#x636E;&#x5E93;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;/usr/local/mysql/var/<br>MariaDB &#x76EE;&#x5F55; : /usr/local/mariadb/<br>MariaDB&#x6570;&#x636E;&#x5E93;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;/usr/local/mariadb/var/<br>PHP&#x76EE;&#x5F55; : /usr/local/php/<br>PHPMyAdmin&#x76EE;&#x5F55; : 0.9&#x7248;&#x4E3A;/home/wwwroot/phpmyadmin/ 1.0&#x7248;&#x4E3A; /home/wwwroot/default/phpmyadmin/ &#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x5C06;&#x6B64;&#x76EE;&#x5F55;&#x91CD;&#x547D;&#x540D;&#x4E3A;&#x5176;&#x4E0D;&#x5BB9;&#x6613;&#x731C;&#x5230;&#x7684;&#x540D;&#x5B57;&#x3002;phpmyadmin&#x53EF;&#x81EA;&#x5DF1;&#x4ECE;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x65B0;&#x7248;&#x66FF;&#x6362;&#x3002;<br>&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x76EE;&#x5F55; : 0.9&#x7248;&#x4E3A; /home/wwwroot/ 1.0&#x7248;&#x4E3A; /home/wwwroot/default/<br>Nginx&#x65E5;&#x5FD7;&#x76EE;&#x5F55;&#xFF1A;/home/wwwlogs/<br>/root/vhost.sh&#x6DFB;&#x52A0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;/usr/local/nginx/conf/vhost/<br>PureFtpd &#x76EE;&#x5F55;&#xFF1A;/usr/local/pureftpd/<br>PureFtpd web&#x7BA1;&#x7406;&#x76EE;&#x5F55;&#xFF1A; 0.9&#x7248;&#x4E3A;/home/wwwroot/default/ftp/ 1.0&#x7248;&#x4E3A; /home/wwwroot/default/ftp/<br>Proftpd &#x76EE;&#x5F55;&#xFF1A;/usr/local/proftpd/<br>Redis &#x76EE;&#x5F55;&#xFF1A;/usr/local/redis/</p>
<h2 id="&#x4E00;&#x952E;&#x5B89;&#x88C5;">&#x4E00;&#x952E;&#x5B89;&#x88C5;</h2><p>&#x4E0B;&#x8F7D;<br><code>wget  --no-check-certificate https://api.sinas3.com/v1/SAE_lnmp/soft/lnmp1.2-full.tar.gz</code><br>&#x4E00;&#x952E;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;<br><code>wget -c http://soft.vpser.net/lnmp/lnmp1.2-full.tar.gz &amp;&amp; tar zxf lnmp1.2-full.tar.gz &amp;&amp; cd lnmp1.2-full &amp;&amp; ./install.sh lnmp</code></p>
<p>&#x79BB;&#x7EBF;&#x5B89;&#x88C5;<br><code>cd /tmp/lnmp &amp;&amp; tar zxf lnmp1.2-full.tar.gz &amp;&amp; cd lnmp1.2-full &amp;&amp; ./install.sh lnmp</code><br>&#x7F51;&#x7EDC;&#x60C5;&#x51B5;10M&#x5E26;&#x5BBD;&#x8017;&#x65F6;&#xFF1A;45&#x5206;&#x949F;</p>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x5177;&#x4F53;&#x53C2;&#x8003;<a href="http://lnmp.org/">LNMP&#x4E00;&#x952E;&#x5B89;&#x88C5;&#x5B98;&#x7F51;</a></p>
<h2 id="nmp&#x73A]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hexo安装]]></title>
    <link href="http://geosmart.github.io/2015/06/30/hexo%E5%AE%89%E8%A3%85/"/>
    <id>http://geosmart.github.io/2015/06/30/hexo安装/</id>
    <published>2015-06-30T04:58:32.000Z</published>
    <updated>2015-06-30T14:59:07.548Z</updated>
    <content type="html"><![CDATA[<h2 id="hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;">hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo init</span><br><span class="line">npm install</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-server --save</span><br><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line">npm install hexo-toc --save</span><br><span class="line">npm install hexo-html-minifier --save</span><br></pre></td></tr></table></figure>
<h2 id="&#x53EF;&#x9009;&#x63D2;&#x4EF6;">&#x53EF;&#x9009;&#x63D2;&#x4EF6;</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it --save</span><br></pre></td></tr></table></figure>
<h2 id="&#x5E38;&#x7528;&#x547D;&#x4EE4;">&#x5E38;&#x7528;&#x547D;&#x4EE4;</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">hexo g (generate)</span><br><span class="line">hexo s (server)</span><br><span class="line">hexo clean (clear public)</span><br><span class="line">hexo n  [layout] &lt;title &gt;(new post)</span><br><span class="line">eg:hexo n draft title</span><br><span class="line">hexo publish [layout] &lt;title&gt; </span><br><span class="line">eg:hexo publish draft title</span><br><span class="line">hexo d (deploy)</span><br><span class="line">hexo d -g (generate and deploy)</span><br><span class="line"></span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;">hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;</h2><figure class="highlight bash"><table><tr><td class="]]>
    </summary>
    
      <category term="工具" scheme="http://geosmart.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[中文测试POST]]></title>
    <link href="http://geosmart.github.io/2015/06/30/%E4%B8%AD%E6%96%87%E6%B5%8B%E8%AF%95post/"/>
    <id>http://geosmart.github.io/2015/06/30/中文测试post/</id>
    <published>2015-06-30T02:47:59.000Z</published>
    <updated>2015-06-30T14:58:57.579Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="quick-start">Quick Start</h2><h3 id="create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html">Server</a></p>
<h3 id="generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html">Deployment</a></p>]]></content>
    <summary type="html">
    <![CDATA[<p>Welcome to <a href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/">documentation</a> for m]]>
    </summary>
    
      <category term="TEST" scheme="http://geosmart.github.io/tags/TEST/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[zabbix-server安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/30/zabbix-server%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/30/zabbix-server安装脚本/</id>
    <published>2015-06-30T02:47:59.000Z</published>
    <updated>2015-07-12T14:00:56.083Z</updated>
    <content type="html"><![CDATA[<p><img src="zabbix.png" alt="zabbix"> </p>
<h1 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h1><ol>
<li>LNMP/LNAP&#x73AF;&#x5883;&#x5B89;&#x88C5;</li>
<li><a href="http://sourceforge.net/projects/zabbix/files/ZABBIX%20Latest%20Stable/2.2.9/zabbix-2.2.9.tar.gz/download">zabbix&#x5B89;&#x88C5;&#x5305;&#xFF08;&#x5B98;&#x7F51;&#x7248;&#x672C;&#xFF1A;zabbix-2.2.9.tar.gz&#xFF09;</a></li>
<li><a href="install-zabbix_server.sh">zabbix&#x5B89;&#x88C5;&#x811A;&#x672C;</a> </li>
<li><a href="clear-zabbix_his.sh">zabbix&#x6E05;&#x7A7A;&#x5386;&#x53F2;&#x76D1;&#x63A7;&#x6570;&#x636E;&#x811A;&#x672C;</a> </li>
</ol>
<h1 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h1><ol>
<li>PHP&#x53C2;&#x6570;&#x914D;&#x7F6E;<br>&#x4E3A;&#x5B89;&#x88C5;zabbix&#x76D1;&#x63A7;WebUI&#xFF0C;&#x9700;&#x8981;&#x9884;&#x5148;&#x914D;&#x7F6E;php<br><code>vim /usr/local/php/etc/php.ini</code>&#x67E5;&#x627E;&#x914D;&#x7F6E;&#x4E0B;&#x5217;&#x53C2;&#x6570;&#xFF1A;<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">memory_<span class="built_in">limit</span> = <span class="number">128</span>M</span><br><span class="line">post_max_size = <span class="number">50</span>M</span><br><span class="line">upload_max_filesize =<span class="number">50</span>M</span><br><span class="line">max_execution_time = <span class="number">600</span></span><br><span class="line">max_input_time = <span class="number">600</span></span><br><span class="line">date.timezone = Asia/Shanghai</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>&#x4FEE;&#x6539;&#x540E;&#x6267;&#x884C;<code>service php-fpm restart</code></p>
<ol>
<li>&#x4FEE;&#x6539;zabbix_server&#x7A0B;&#x5E8F;&#x7684;&#x78C1;&#x76D8;&#x8DEF;&#x5F84;<br>&#x4FEE;&#x6539;zabbix_server&#x4E3B;&#x7A0B;&#x5E8F;&#x8DEF;&#x5F84;<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /usr/local/zabbix/misc/init.d/tru64/zabbix_server</span></span><br><span class="line">DAEMON=/usr/<span class="built_in">local</span>/zabbix/sbin/zabbix_server</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>&#x6DFB;&#x52A0;&#x4E0B;&#x9762;&#x4E24;&#x53E5;&#x5230;<code>#!/bin/bash</code>&#x4E4B;&#x540E;&#xFF0C;&#x89E3;&#x51B3;<code>service myservicedoes not support chkconfig</code>&#x95EE;&#x9898;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chkconfig: 2345 10 90 </span></span><br><span class="line"><span class="comment"># description:zabbix....</span></span><br></pre></td></tr></table></figure></p>
<ol>
<li>&#x7F16;&#x8F91;zabbix_server&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br><code>vim /usr/local/zabbix/etc/zabbix_server.conf</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DBHost=localhost</span><br><span class="line">DBName = zabbix </span><br><span class="line">DBPassword =zabbix  </span><br><span class="line">DBUser = zabbix  </span><br><span class="line">LogFile=/tmp/zabbix_server.log</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li>&#x6DFB;&#x52A0;zabbix&#x670D;&#x52A1;Service&#x7AEF;&#x53E3;&#xFF08;&#x4E0D;&#x80FD;&#x91CD;&#x590D;&#x64CD;&#x4F5C;&#xFF09;</li>
</ol>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat <span class="prompt">&gt;&gt;</span>/etc/services&lt;&lt;<span class="constant">EOF</span></span><br><span class="line">zabbix-agent <span class="number">10050</span>/tcp <span class="constant">Zabbix</span> <span class="constant">Agent</span></span><br><span class="line">zabbix-agent <span class="number">10050</span>/udp <span class="constant">Zabbix</span> <span class="constant">Agent</span></span><br><span class="line">zabbix-trapper <span class="number">10051</span>/tcp <span class="constant">Zabbix</span> <span class="constant">Trapper</span></span><br><span class="line">zabbix-trapper <span class="number">10051</span>/udp <span class="constant">Zabbix</span> <span class="constant">Trapper</span></span><br><span class="line"><span class="constant">EOF</span></span><br></pre></td></tr></table></figure>
<ol>
<li><p>Mysql&#x4E2D;&#x65B0;&#x5EFA;Zabbix&#x6570;&#x636E;&#x5E93;</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -proot</span><br><span class="line">create database zabbix;</span><br><span class="line">grant all privileges <span class="literal">on</span> zabbix.* to zabbix<span class="property">@localhost</span> identified <span class="keyword">by</span> <span class="string">&apos;zabbix&apos;</span>;</span><br><span class="line">quit</span><br><span class="line">`<span class="javascript"></span>``<span class="javascript"> </span><br><span class="line"></span><br><span class="line"><span class="number">6.</span> &#x6267;&#x884C;&#x5B89;&#x88C5;&#x811A;&#x672C;</span><br><span class="line"></span>``<span class="javascript"></span>` bash </span><br><span class="line">cd /usr/local/zabbix</span><br><span class="line">chmod +x configure</span><br><span class="line">cd /usr/local/zabbix/script</span><br><span class="line">chmod +x install-zabbix_server.sh </span><br><span class="line">sudo ./install-zabbix_server.sh</span><br><span class="line">`<span class="javascript"></span>``<span class="javascript">  </span><br><span class="line"></span><br><span class="line"># &#x76F8;&#x5173;&#x64CD;&#x4F5C;</span><br><span class="line"><span class="number">1.</span> zabbix&#x7F51;&#x7AD9;&#x4E2D;&#x7684;&#x542F;&#x7528;&#x4E2D;&#x6587;&#x540E;&#x4E71;&#x7801;&#x95EE;&#x9898;</span><br><span class="line">* &#x5728;zabbix&#x7F51;&#x7AD9;&#x76EE;&#x5F55;&#x4E0B;&#x7684;include/locales.inc.php&#x6587;&#x4EF6;&#x4E2D;&#x542F;&#x7528;&#x4E2D;&#x6587;&#xFF08;<span class="string">&apos;display&apos;</span>=<span class="literal">true</span>&#xFF09;</span><br><span class="line">* &#x5728;windows&#x4E0B;&#x63A7;&#x5236;&#x9762;&#x677F;-&gt;&#x5B57;&#x4F53;-&gt;&#x9009;&#x62E9;&#x4E00;&#x79CD;&#x4E2D;&#x6587;&#x5B57;&#x5E93;&#x4F8B;&#x5982;&#x201C;&#x6977;&#x4F53;&#x201D;&#xFF0C;&#x628A;&#x5B83;&#x62F7;&#x8D1D;&#x5230;zabbix&#x7684;web&#x7AEF;&#x7684;fonts&#x76EE;&#x5F55;&#x4E0B;&#x4F8B;&#x5982;&#xFF1A;/<span class="keyword">var</span>/www/html/zabbix/fonts&#xFF0C;&#x5E76;&#x4E14;&#x628A;TTF&#x540E;&#x7F00;&#x6539;&#x4E3A;ttf</span><br><span class="line">* &#x4FEE;&#x6539;zabbix&#x7684;web&#x7AEF;/include/defines.inc.php&#xFF0C;&#x5982;&#x4E0B;</span><br><span class="line"></span>``<span class="javascript"></span>` php</span><br><span class="line"><span class="regexp">//</span>define(<span class="string">&apos;ZBX_GRAPH_FONT_NAME&apos;</span>, <span class="string">&apos;DejaVuSans&apos;</span>); <span class="regexp">//</span> origin name</span><br><span class="line">define(<span class="string">&apos;ZBX_GRAPH_FONT_NAME&apos;</span>, <span class="string">&apos;simkai&apos;</span>); <span class="regexp">//</span> custom  font name</span><br><span class="line">`<span class="javascript"></span>``<span class="javascript"> </span><br><span class="line"><span class="number">2.</span> &#x82E5;zabbix&#x7684;host&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#xFF0C;&#x8003;&#x8651;&#x9632;&#x706B;&#x5899;&#x662F;&#x5426;&#x9700;&#x8981;&#x5173;&#x95ED;/&#x52A0;&#x5165;&#x4FE1;&#x4EFB;&#x7AEF;&#x53E3;</span><br><span class="line"></span>``<span class="javascript"></span>` bash</span><br><span class="line"><span class="comment">#&#x67E5;&#x770B;&#x9632;&#x706B;&#x5899;&#x72B6;&#x6001;</span></span><br><span class="line">service iptables status </span><br><span class="line"><span class="comment">#&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; </span></span><br><span class="line">service iptables stop </span><br><span class="line"><span class="comment">#&#x6C38;&#x4E45;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; </span></span><br><span class="line">chkconfig   iptables <span class="literal">off</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x7F16;&#x8BD1;&#x95EE;&#x9898;<br>&#x2018;aclocal-1.14&#x2019; is missing on your system.You should only need it if you modified &#x2018;acinclude.m4&#x2019; or &#x2018;configure.ac&#x2019; or m4 files included by &#x2018;configure.ac&#x2019;.<br>&#x89E3;&#x51B3;&#x65B9;&#x6CD5;</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch configure<span class="class">.ac</span> aclocal<span class="class">.m4</span> configure Makefile<span class="class">.am</span> Makefile<span class="class">.in</span></span><br><span class="line">make</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x67E5;&#x770B;zabbix&#x670D;&#x52A1;&#x662F;&#x5426;&#x5DF2;&#x542F;&#x52A8;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">netstat -utlnp | grep zabbix </span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line"><span class="number">5</span>. &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x66F4;&#x65B0;&#x540E;&#xFF0C;&#x9700;&#x91CD;&#x542F;&#x5BA2;&#x6237;&#x7AEF;&#x670D;&#x52A1;</span><br><span class="line">``` bash</span><br><span class="line">service zabbix_server restart</span><br></pre></td></tr></table></figure>
</li>
<li><p>zabbix web&#x914D;&#x7F6E;&#x7B80;&#x7565;&#xFF0C;&#x8D34;&#x51E0;&#x5F20;&#x6548;&#x679C;&#x56FE;<br><img src="filter.png" alt="zabbix&#x76D1;&#x63A7;"><br><img src="cpu.png" alt="zabbix&#x76D1;&#x63A7;CPU"><br><img src="network.png" alt="zabbix&#x76D1;&#x63A7;&#x7F51;&#x7EDC;"></p>
</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p><img src="zabbix.png" alt="zabbix"> </p>
<h1 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h1><ol>
<li>LNMP/LNA]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="监控" scheme="http://geosmart.github.io/tags/%E7%9B%91%E6%8E%A7/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[zabbix-agent安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/29/zabbix-agent%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/29/zabbix-agent安装脚本/</id>
    <published>2015-06-29T07:33:38.000Z</published>
    <updated>2015-07-08T01:54:11.503Z</updated>
    <content type="html"><![CDATA[<p><img src="zabbix.png" alt="zabbix"> </p>
<h1 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h1><ol>
<li><a href="http://sourceforge.net/projects/zabbix/files/ZABBIX%20Latest%20Stable/2.2.9/zabbix-2.2.9.tar.gz/download">zabbix&#x5B89;&#x88C5;&#x5305;&#xFF08;&#x5B98;&#x7F51;&#x7248;&#x672C;&#xFF1A;zabbix-2.2.9.tar.gz&#xFF09;</a></li>
<li>yum groupinstall &#x201C;Development tools&#x201D;</li>
<li><a href="install-zabbix_agent.sh">zabbix&#x5B89;&#x88C5;&#x811A;&#x672C;</a> </li>
</ol>
<p> cd /tmp &amp;&amp; tar -zxf  zabbix.gz</p>
<h1 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h1><ol>
<li>&#x4FEE;&#x6539;zabbix_server&#x7A0B;&#x5E8F;&#x7684;&#x78C1;&#x76D8;&#x8DEF;&#x5F84;<br>&#x4FEE;&#x6539;zabbix_server&#x4E3B;&#x7A0B;&#x5E8F;&#x8DEF;&#x5F84;<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /usr/local/zabbix/misc/init.d/tru64/zabbix_server</span></span><br><span class="line">DAEMON=/usr/<span class="built_in">local</span>/zabbix/sbin/zabbix_server</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>&#x6DFB;&#x52A0;&#x4E0B;&#x9762;&#x4E24;&#x53E5;&#x5230;<code>#!/bin/bash</code>&#x4E4B;&#x540E;&#xFF0C;&#x89E3;&#x51B3;<code>service myservicedoes not support chkconfig</code>&#x95EE;&#x9898;<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chkconfig: 2345 10 90 </span></span><br><span class="line"><span class="comment"># description:zabbix....</span></span><br></pre></td></tr></table></figure></p>
<ol>
<li><p>&#x7F16;&#x8F91;zabbix_agentd&#x914D;&#x7F6E;&#x6587;&#x4EF6;<br><code>vim /usr/local/zabbix/etc/zabbix_agentd.conf</code> </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">LogFile=/tmp/zabbix_agentd.log </span><br><span class="line"><span class="comment">#&#x670D;&#x52A1;&#x7AEF;IP  </span></span><br><span class="line">Server=<span class="number">192.168</span>.<span class="number">1.80</span></span><br><span class="line"><span class="comment">#&#x670D;&#x52A1;&#x7AEF;IP   </span></span><br><span class="line">ServerActive= <span class="number">192.168</span>.<span class="number">1.80</span></span><br><span class="line"><span class="comment">#&#x5BA2;&#x6237;&#x7AEF;IP&#x4E0E;zabbix-web&#x914D;&#x7F6E;&#x4E0A;&#x7684;hostName&#x4E00;&#x81F4;   </span></span><br><span class="line">Hostname=localhost</span><br><span class="line">UnsafeUserParameters=<span class="number">1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x6267;&#x884C;&#x5B89;&#x88C5;&#x811A;&#x672C;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/zabbix/script/install-zabbix_agentd.sh</span><br><span class="line">chmod +x install-zabbix_agentd.sh </span><br><span class="line">sudo ./install-zabbix_agentd.sh</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="&#x76F8;&#x5173;&#x64CD;&#x4F5C;">&#x76F8;&#x5173;&#x64CD;&#x4F5C;</h1><ol>
<li><p>&#x82E5;zabbix&#x7684;host&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#xFF0C;&#x8003;&#x8651;&#x9632;&#x706B;&#x5899;&#x662F;&#x5426;&#x9700;&#x8981;&#x5173;&#x95ED;/&#x52A0;&#x5165;&#x4FE1;&#x4EFB;&#x7AEF;&#x53E3;</p>
<pre><code class="bash"><span class="comment">#&#x67E5;&#x770B;&#x9632;&#x706B;&#x5899;&#x72B6;&#x6001;</span>
service iptables status 
<span class="comment">#&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; </span>
service iptables stop  
<span class="comment">#&#x6C38;&#x4E45;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; </span>
chkconfig   iptables off
</code></pre>
</li>
<li><p>&#x67E5;&#x770B;zabbix&#x670D;&#x52A1;&#x662F;&#x5426;&#x5DF2;&#x542F;&#x52A8;</p>
<pre><code class="bash">netstat -utlnp | grep zabbix
</code></pre>
</li>
<li><p>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x66F4;&#x65B0;&#x540E;&#xFF0C;&#x9700;&#x91CD;&#x542F;&#x5BA2;&#x6237;&#x7AEF;&#x670D;&#x52A1;</p>
<pre><code class="bash">service zabbix_agentd restart
</code></pre>
</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p><img src="zabbix.png" alt="zabbix"> </p>
<h1 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h1><ol>
<li><a href=]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="监控" scheme="http://geosmart.github.io/tags/%E7%9B%91%E6%8E%A7/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[mongodb手动安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/28/mongodb%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/28/mongodb手动安装脚本/</id>
    <published>2015-06-28T12:26:00.000Z</published>
    <updated>2015-07-15T07:17:15.345Z</updated>
    <content type="html"><![CDATA[<p><img src="nosql.png" alt="nosql">   </p>
<h1 id="&#x51C6;&#x5907;&#x4E8B;&#x9879;">&#x51C6;&#x5907;&#x4E8B;&#x9879;</h1><h2 id="&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;&#x6587;&#x4EF6;&#x4E8C;&#x8FDB;&#x5236;&#x7F16;&#x8BD1;&#x7248;">&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;&#x6587;&#x4EF6;&#xFF08;&#x4E8C;&#x8FDB;&#x5236;&#x7F16;&#x8BD1;&#x7248;&#xFF09;</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /usr/<span class="built_in">local</span>/mongodb</span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/mongodb</span><br><span class="line">wget http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-<span class="number">2.6</span>.<span class="number">3</span>.tgz</span><br><span class="line">tar -zvxf mongodb-linux-x86_64-<span class="number">2.6</span>.<span class="number">3</span>.tgz</span><br></pre></td></tr></table></figure>
<h2 id="&#x91CD;&#x547D;&#x540D;&#x65B0;&#x5EFA;&#x6570;&#x636E;&#x65E5;&#x5FD7;&#x76EE;&#x5F55;">&#x91CD;&#x547D;&#x540D;&gt;&#x65B0;&#x5EFA;&#x6570;&#x636E;/&#x65E5;&#x5FD7;&#x76EE;&#x5F55;</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv mongodb-linux-x86_64-<span class="number">2.6</span>.<span class="number">3</span> mongodb</span><br><span class="line">mkdir data</span><br><span class="line">mkdir <span class="built_in">log</span></span><br></pre></td></tr></table></figure>
<h1 id="&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;">&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;</h1><p>CentOs&#x4E2D;&#x914D;&#x7F6E;path&#x73AF;&#x5883;&#x53D8;&#x91CF;,&#x786E;&#x4FDD;mongodb&#x7684;bin&#x76EE;&#x5F55;&#x5305;&#x542B;&#x5728;path&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x3002;</p>
<h2 id="&#x914D;&#x7F6E;path">&#x914D;&#x7F6E;PATH</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile </span><br><span class="line">&#x3000;&#x3000;<span class="comment">#set for mongodb </span></span><br><span class="line">&#x3000;&#x3000;<span class="built_in">export</span> MONGODB_HOME=/usr/<span class="built_in">local</span>/mongodb </span><br><span class="line">&#x3000;&#x3000;<span class="built_in">export</span> PATH=<span class="variable">$MONGODB_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<h2 id="&#x67E5;&#x770B;&#x5F53;&#x524D;path">&#x67E5;&#x770B;&#x5F53;&#x524D;PATH</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<h2 id="&#x8BA9;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x751F;&#x6548;">&#x8BA9;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x751F;&#x6548;</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line">//&#x9A8C;&#x8BC1;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x751F;&#x6548;</span><br><span class="line">mongod -version</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"><span class="comment">## &#x6DFB;&#x52A0;CentOS&#x5F00;&#x673A;&#x542F;&#x52A8;&#x9879;</span></span><br></pre></td></tr></table></figure>
<p>vim  /etc/rc.d/rc.local<br>//&#x5C06;mongodb&#x542F;&#x52A8;&#x547D;&#x4EE4;&#x624B;&#x52A8;&#x8FFD;&#x52A0;&#x5230;&#x672C;&#x6587;&#x4EF6;&#x4E2D;&#xFF1A;<br>/usr/local/mongodb/bin/mongod &#x2014;dbpath /usr/local/mongodb/data &#x2014;logpath /usr/local/mongodb/log/mongodb.log  &#x2014;fork &#x2014;smallfiles<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># &#x542F;&#x52A8;MongoDB</span><br><span class="line">## &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5F62;&#x5F0F; </span><br><span class="line">``` bash</span><br><span class="line">vim  <span class="regexp">/usr/</span>local<span class="regexp">/mongodb/</span>mongodb.conf</span><br><span class="line">dbpath=<span class="regexp">/usr/</span>local<span class="regexp">/mongodb/</span>data</span><br><span class="line">logpath=<span class="regexp">/usr/</span>local<span class="regexp">/mongodb/</span>log/mongodb.log</span><br><span class="line">logappend=<span class="literal">true</span></span><br><span class="line">port=<span class="number">27017</span></span><br><span class="line">fork=<span class="literal">true</span></span><br><span class="line">noauth=<span class="literal">true</span></span><br><span class="line">journal=<span class="literal">true</span></span><br><span class="line">smallfiles=<span class="literal">true</span> </span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">## &#x547D;&#x4EE4;&#x884C;&#x5F62;&#x5F0F;</span><br><span class="line">``` Bash</span><br><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/mongodb/</span>bin<span class="regexp">/mongod --dbpath /</span>usr<span class="regexp">/local/</span>mongodb<span class="regexp">/data --logpath /</span>usr<span class="regexp">/local/</span>mongodb<span class="regexp">/log/</span>mongodb.log  --fork --smallfiles</span><br><span class="line"><span class="comment">//&#x53EF;&#x9009;&#xFF1A;--auth</span></span><br></pre></td></tr></table></figure></p>
<h1 id="&#x589E;&#x52A0;&#x7528;&#x6237;">&#x589E;&#x52A0;&#x7528;&#x6237;</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd mongodb -M <span class="operator">-s</span> /sbin/nologin</span><br></pre></td></tr></table></figure>
<h1 id="&#x542F;&#x52A8;&#x670D;&#x52A1;&#x6D4B;&#x8BD5;&#x670D;&#x52A1;&#x72B6;&#x6001;">&#x542F;&#x52A8;&#x670D;&#x52A1;/&#x6D4B;&#x8BD5;&#x670D;&#x52A1;&#x72B6;&#x6001;</h1><pre><code class="bash">service mongod start
service mongod status
shutdown -r now
service mongod status
mongo admin
show dbs&#xFF1B;
db.test.find();
<span class="built_in">exit</span>
</code></pre>
<h1 id="&#x90E8;&#x7F72;&#x95EE;&#x9898;&#x8BB0;&#x5F55;">&#x90E8;&#x7F72;&#x95EE;&#x9898;&#x8BB0;&#x5F55;</h1><h2 id="mongovue&#x4E0D;&#x80FD;&#x8FDE;&#x63A5;">MongoVUE&#x4E0D;&#x80FD;&#x8FDE;&#x63A5;</h2><p>&#x5C06;27017&#x7AEF;&#x53E3;&#x52A0;&#x5165;&#x4FE1;&#x4EFB;&#x5217;&#x8868;&#xFF1B;&#x5C40;&#x57DF;&#x7F51;&#x6D4B;&#x8BD5;&#x76F4;&#x63A5;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;</p>
<pre><code class="bash">//&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; 
service iptables stop 
//&#x5F00;&#x542F;
chkconfig iptables on
//&#x5173;&#x95ED;
chkconfig iptables off 
//&#x67E5;&#x8BE2;TCP&#x8FDE;&#x63A5;&#x60C5;&#x51B5;
 netstat -n | awk <span class="string">&apos;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&apos;</span>
//&#x67E5;&#x8BE2;&#x7AEF;&#x53E3;&#x5360;&#x7528;&#x60C5;&#x51B5;&#xFF1A;
 netstat   -anp   |   grep  portno
//&#xFF08;&#x4F8B;&#x5982;&#xFF1A;netstat &#x2013;apn | grep <span class="number">80</span>&#xFF09;
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p><img src="nosql.png" alt="nosql">   </p>
<h1 id="&#x51C6;&#x5907;&#x4E8B;&#x9879;">&#x51C6;&#x5907;&#x4E8B;&#x9879;</h1><h2 id="&#x4E0B;&]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="数据库" scheme="http://geosmart.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[jdk安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/28/jdk%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/28/jdk安装脚本/</id>
    <published>2015-06-28T08:03:00.000Z</published>
    <updated>2015-07-06T05:19:17.979Z</updated>
    <content type="html"><![CDATA[<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2><ol>
<li><a href="http://download.oracle.com/otn-pub/java/jdk/7u80-b15/jdk-7u80-linux-x64.tar.gz">jdk7 X64&#x5B89;&#x88C5;&#x5305;&#xFF08;&#x5B98;&#x7F51;&#x7248;&#x672C;&#xFF1A;jdk-7u80-linux-x64.tar.gz&#xFF09;</a><br>&#x4E0B;&#x8F7D;&#x540E;&#x5E76;&#x91CD;&#x547D;&#x540D;&#x4E3A;jetty.tar.gz</li>
<li><a href="install-jdk.sh">jdk&#x5B89;&#x88C5;&#x811A;&#x672C;</a> </li>
</ol>
<h2 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h2><p>&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;CentOS&#x540E;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<ol>
<li>CentOS&#x8DEF;&#x5F84;&#xFF1A;/tmp/jdk</li>
<li>&#x6267;&#x884C;</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /tmp/jdk</span><br><span class="line">chmod +x install-jdk.sh </span><br><span class="line">sudo ./install-jdk.sh</span><br></pre></td></tr></table></figure>
<ol>
<li>&#x4E00;&#x8DEF;&#x56DE;&#x8F66;&#x5373;&#x53EF;</li>
</ol>
<h1 id="&#x9644;&#x4EF6;-install-jdksh">&#x9644;&#x4EF6; install-jdk.sh</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="shebang">#!/bin/sh</span></span><br><span class="line">BASEDIR=$(<span class="built_in">cd</span> `dirname <span class="variable">$0</span>`; <span class="built_in">pwd</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#jdk-7u80-linux-x64</span></span><br><span class="line"><span class="built_in">read</span>  -p <span class="string">&quot;Please select java tar package full path path[/tmp/jdk.tar.gz] &quot;</span> INSTALL_FILE</span><br><span class="line"><span class="keyword">if</span> [ ! <span class="operator">-f</span> <span class="string">&quot;<span class="variable">$INSTALL_FILE</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">trueINSTALL_FILE=<span class="string">&quot;/tmp/jdk.tar.gz&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set install path</span></span><br><span class="line"><span class="built_in">read</span>  -p <span class="string">&quot;Please select java install path path[/usr/local/java]: &quot;</span> INSTALL_PATH</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$INSTALL_PATH</span>&quot;</span> = <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">trueINSTALL_PATH=<span class="string">&quot;/usr/local/java&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ ! <span class="operator">-d</span> <span class="variable">$INSTALL_PATH</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;mkdir <span class="variable">$INSTALL_PATH</span>&quot;</span></span><br><span class="line">    mkdir -p <span class="variable">$INSTALL_PATH</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;uncompress <span class="variable">$INSTALL_FILE</span> to <span class="variable">$INSTALL_PATH</span>&quot;</span></span><br><span class="line"><span class="keyword">if</span> [ -w <span class="variable">$INSTALL_PATH</span> ]; <span class="keyword">then</span></span><br><span class="line">  tar -zxvf <span class="variable">$INSTALL_FILE</span> -C <span class="variable">$INSTALL_PATH</span> --strip-components=<span class="number">1</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  sudo tar -zxvf <span class="variable">$INSTALL_FILE</span> -C <span class="variable">$INSTALL_PATH</span> --strip-components=<span class="number">1</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Setting java environment...&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export JAVA_HOME=<span class="variable">$INSTALL_PATH</span>&quot;</span> | sudo tee <span class="operator">-a</span> /etc/profile</span><br><span class="line"></span><br><span class="line">JAVA_HOME=<span class="variable">$INSTALL_PATH</span></span><br><span class="line"><span class="comment">#<span class="doctag">FIXME</span></span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib/tools.jar:<span class="variable">$JAVA_HOME</span>/lib/dt.jar&quot;</span> | sudo tee <span class="operator">-a</span> /etc/profile</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;export PATH=$JAVA_HOME/bin:$PATH&apos;</span> | sudo tee <span class="operator">-a</span> /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;refresh java environment...&quot;</span></span><br><span class="line"><span class="comment">#<span class="doctag">TODO</span> what does &quot;.&quot;  do? the same as &quot;source&quot; command?</span></span><br><span class="line">. /etc/profile </span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"></span><br><span class="line">java -version</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;$?&quot;</span> = <span class="string">&quot;0&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="operator">-e</span> <span class="string">&quot;\033[32m Installed, please source /etc/profile or relogin. \033[0m&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="operator">-e</span> <span class="string">&quot;\033[31m Install failed. \033[0m&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">unset</span> BASEDIR</span><br><span class="line"><span class="built_in">unset</span> INSTALL_PATH</span><br><span class="line"><span class="built_in">unset</span> INSTALL_FILE</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2><ol>
<li><a href="http://download.oracle.com/otn-pub/java/jdk]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[jetty一键安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/28/jetty%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/28/jetty一键安装脚本/</id>
    <published>2015-06-28T05:39:00.000Z</published>
    <updated>2015-07-06T05:19:12.608Z</updated>
    <content type="html"><![CDATA[<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2><ol>
<li><a href="http://download.eclipse.org/jetty/9.2.11.v20150529/dist/jetty-distribution-9.2.11.v20150529.tar.gz">jetty&#x5B89;&#x88C5;&#x5305;&#xFF08;&#x5B98;&#x7F51;&#x7248;&#x672C;&#xFF1A;jetty-distribution-9.2.11.v20150529.tar&#xFF09;</a><br>&#x4E0B;&#x8F7D;&#x540E;&#x5E76;&#x91CD;&#x547D;&#x540D;&#x4E3A;jetty.tar.gz</li>
<li><a href="install-jetty.sh">jetty&#x5B89;&#x88C5;&#x811A;&#x672C;</a></li>
<li>&#x5DF2;&#x5B89;&#x88C5;JDK1.7</li>
</ol>
<h2 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h2><p>&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;CentOS&#x540E;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<ol>
<li>CentOS&#x8DEF;&#x5F84;&#xFF1A;/tmp/jetty</li>
<li><p>&#x6267;&#x884C;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp/jetty</span><br><span class="line">chmod +x install-jetty.sh </span><br><span class="line">sudo ./install-jetty.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x4E00;&#x8DEF;&#x56DE;&#x8F66;&#x5373;&#x53EF;</p>
</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2><ol>
<li><a href="http://download.eclipse.org/jetty/9.2.11.v2]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[jetty手动安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/28/jetty%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/28/jetty手动安装脚本/</id>
    <published>2015-06-28T05:39:00.000Z</published>
    <updated>2015-07-06T05:19:25.683Z</updated>
    <content type="html"><![CDATA[<h2 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h2><p>&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;CentOS&#x540E;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<h3 id="&#x4E0B;&#x8F7D;&#x89E3;&#x538B;jetty">&#x4E0B;&#x8F7D;&#x89E3;&#x538B;Jetty</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp</span><br><span class="line">wget http://eclipse.org/downloads/download.php?file=/jetty/stable-<span class="number">9</span>/dist/jetty-distribution-<span class="number">9.3</span>.<span class="number">0</span>.v20150612.tar.gz&amp;r=<span class="number">1</span> </span><br><span class="line">tar -xzvf  jetty-distribution-<span class="number">9.3</span>.<span class="number">0</span>.v20150612.tar.gz </span><br><span class="line">mv jetty-distribution-<span class="number">9.1</span>.<span class="number">1</span>.v20140108 /usr/<span class="built_in">local</span>/jetty</span><br></pre></td></tr></table></figure>
<h3 id="&#x65B0;&#x5EFA;&#x7528;&#x6237;&#x914D;&#x7F6E;jetty&#x6240;&#x5C5E;&#x6743;&#x9650;">&#x65B0;&#x5EFA;&#x7528;&#x6237;&gt;&#x914D;&#x7F6E;jetty&#x6240;&#x5C5E;&#x6743;&#x9650;</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd -m jetty </span><br><span class="line">chown -R jetty:jetty /usr/<span class="built_in">local</span>/jetty/</span><br></pre></td></tr></table></figure>
<h3 id="&#x5B89;&#x88C5;&#x5230;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;">&#x5B89;&#x88C5;&#x5230;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ln <span class="operator">-s</span> /usr/<span class="built_in">local</span>/jetty/bin/jetty.sh /etc/init.d/jetty</span><br><span class="line">chkconfig --add jetty </span><br><span class="line">chkconfig --level <span class="number">345</span> jetty on</span><br></pre></td></tr></table></figure>
<h3 id="&#x7F16;&#x8F91;&#x542F;&#x52A8;&#x811A;&#x672C;">&#x7F16;&#x8F91;&#x542F;&#x52A8;&#x811A;&#x672C;</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/default/jetty </span><br><span class="line">JETTY_HOME=/usr/<span class="built_in">local</span>/jetty </span><br><span class="line">JETTY_USER=jetty </span><br><span class="line">JETTY_PORT=<span class="number">8080</span></span><br><span class="line">JETTY_LOGS=/usr/<span class="built_in">local</span>/jetty/logs/</span><br></pre></td></tr></table></figure>
<h3 id="&#x542F;&#x52A8;&#x670D;&#x52A1;&#x6D4B;&#x8BD5;">&#x542F;&#x52A8;&#x670D;&#x52A1;&gt;&#x6D4B;&#x8BD5;</h3><pre><code class="bash">service jetty start
curl localhost:<span class="number">8080</span>
</code></pre>
<h3 id="&#x5E38;&#x7528;&#x64CD;&#x4F5C;&#x6307;&#x4EE4;">&#x5E38;&#x7528;&#x64CD;&#x4F5C;&#x6307;&#x4EE4;</h3><pre><code class="bash">jetty [<span class="operator">-d</span>] {start|stop|run|restart|check|supervise} [ CONFIGS ... ]
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h2><p>&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;CentOS&#x5]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hello World]]></title>
    <link href="http://geosmart.github.io/2015/06/25/hello-world/"/>
    <id>http://geosmart.github.io/2015/06/25/hello-world/</id>
    <published>2015-06-25T05:39:05.000Z</published>
    <updated>2015-06-30T14:59:04.443Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="quick-start">Quick Start</h2><h3 id="create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html">Server</a></p>
<h3 id="generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html">Deployment</a></p>]]></content>
    <summary type="html">
    <![CDATA[<p>Welcome to <a href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/">documentation</a> for m]]>
    </summary>
    
      <category term="TEST" scheme="http://geosmart.github.io/tags/TEST/"/>
    
  </entry>
  
</feed>