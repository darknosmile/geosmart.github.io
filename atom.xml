<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  
  <title><![CDATA[geosmart]]></title>
  <subtitle><![CDATA[生命不止 奋斗不息]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://geosmart.github.io//"/>
  <updated>2015-08-03T09:04:23.904Z</updated>
  <id>http://geosmart.github.io//</id>
  
  <author>
    <name><![CDATA[geosmart]]></name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="http://geosmart.github.io/2015/08/03/IIS%E4%B8%8ETomcat%E5%85%B1%E4%BA%AB80%E7%AB%AF%E5%8F%A3/"/>
    <id>http://geosmart.github.io/2015/08/03/IIS与Tomcat共享80端口/</id>
    <published>2015-08-03T09:04:23.904Z</published>
    <updated>2015-08-03T09:04:23.904Z</updated>
    <content type="html"><![CDATA[<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="date" content="2015-08-03 16:27:21">
<meta name="tags" content="[Web&#x670D;&#x52A1;&#x5668;,J2EE,&#x8FD0;&#x7EF4;]">
<meta name="categories" content="[&#x6280;&#x672F;&#x70B9;&#x6EF4;]"><style>body {
  width: 45em;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 30px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAYcAA0AAAAACjQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAABMAAAABwAAAAca8vGTk9TLzIAAAFMAAAARAAAAFZG1VHVY21hcAAAAZAAAAA+AAABQgAP9AdjdnQgAAAB0AAAAAQAAAAEACICiGdhc3AAAAHUAAAACAAAAAj//wADZ2x5ZgAAAdwAAADRAAABEKyikaNoZWFkAAACsAAAAC0AAAA2AtXoA2hoZWEAAALgAAAAHAAAACQHngNFaG10eAAAAvwAAAAQAAAAEAwAACJsb2NhAAADDAAAAAoAAAAKALIAVG1heHAAAAMYAAAAHwAAACABEAB2bmFtZQAAAzgAAALBAAAFu3I9x/Nwb3N0AAAF/AAAAB0AAAAvaoFvbwAAAAEAAAAAzBdyYwAAAADP2IQvAAAAAM/bz7t4nGNgZGFgnMDAysDB1Ml0hoGBoR9CM75mMGLkYGBgYmBlZsAKAtJcUxgcPsR8iGF2+O/AEMPsznAYKMwIkgMA5REMOXicY2BgYGaAYBkGRgYQsAHyGMF8FgYFIM0ChED+h5j//yEk/3KoSgZGNgYYk4GRCUgwMaACRoZhDwCs7QgGAAAAIgKIAAAAAf//AAJ4nHWMMQrCQBBF/0zWrCCIKUQsTDCL2EXMohYGSSmorScInsRGL2DOYJe0Ntp7BK+gJ1BxF1stZvjz/v8DRghQzEc4kIgKwiAppcA9LtzKLSkdNhKFY3HF4lK69ExKslx7Xa+vPRVS43G98vG1DnkDMIBUgFN0MDXflU8tbaZOUkXUH0+U27RoRpOIyCKjbMCVejwypzJJG4jIwb43rfl6wbwanocrJm9XFYfskuVC5K/TPyczNU7b84CXcbxks1Un6H6tLH9vf2LRnn8Ax7A5WQAAAHicY2BkYGAA4teL1+yI57f5ysDNwgAC529f0kOmWRiYVgEpDgYmEA8AUzEKsQAAAHicY2BkYGB2+O/AEMPCAAJAkpEBFbAAADgKAe0EAAAiAAAAAAQAAAAEAAAAAAAAKgAqACoAiAAAeJxjYGRgYGBhsGFgYgABEMkFhAwM/xn0QAIAD6YBhwB4nI1Ty07cMBS9QwKlQapQW3VXySvEqDCZGbGaHULiIQ1FKgjWMxknMfLEke2A+IJu+wntrt/QbVf9gG75jK577Lg8K1qQPCfnnnt8fX1NRC/pmjrk/zprC+8D7tBy9DHgBXoWfQ44Av8t4Bj4Z8CLtBL9CniJluPXASf0Lm4CXqFX8Q84dOLnMB17N4c7tBo1AS/Qi+hTwBH4rwHHwN8DXqQ30XXAS7QaLwSc0Gn8NuAVWou/gFmnjLrEaEh9GmDdDGgL3B4JsrRPDU2hTOiMSuJUIdKQQayiAth69r6akSSFqIJuA19TrzCIaY8sIoxyrNIrL//pw7A2iMygkX5vDj+G+kuoLdX4GlGK/8Lnlz6/h9MpmoO9rafrz7ILXEHHaAx95s9lsI7AHNMBWEZHULnfAXwG9/ZqdzLI08iuwRloXE8kfhXYAvE23+23DU3t626rbs8/8adv+9DWknsHp3E17oCf+Z48rvEQNZ78paYM38qfk3v/u3l3u3GXN2Dmvmvpf1Srwk3pB/VSsp512bA/GG5i2WJ7wu430yQ5K3nFGiOqgtmSB5pJVSizwaacmUZzZhXLlZTq8qGGFY2YcSkqbth6aW1tRmlaCFs2016m5qn36SbJrqosG4uMV4aP2PHBmB3tjtmgN2izkGQyLWprekbIntJFing32a5rKWCN/SdSoga45EJykyQ7asZvHQ8PTm6cslIpwyeyjbVltNikc2HTR7YKh9LBl9DADC0U/jLcBZDKrMhUBfQBvXRzLtFtjU9eNHKin0x5InTqb8lNpfKv1s1xHzTXRqgKzek/mb7nB8RZTCDhGEX3kK/8Q75AmUM/eLkfA+0Hi908Kx4eNsMgudg5GLdRD7a84npi+YxNr5i5KIbW5izXas7cHXIMAau1OueZhfj+cOcP3P8MNIWLyYOBuxL6DRylJ4cAAAB4nGNgYoAALjDJyIAOWMCiTIxMLDmZedkABtIBygAAAA==) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headeranchor-link {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}

.markdown-body .headeranchor-link:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .headeranchor,
.markdown-body h2 .headeranchor,
.markdown-body h3 .headeranchor,
.markdown-body h4 .headeranchor,
.markdown-body h5 .headeranchor,
.markdown-body h6 .headeranchor {
  display: none;
  color: #000;
  vertical-align: middle;
}

.markdown-body h1:hover .headeranchor-link,
.markdown-body h2:hover .headeranchor-link,
.markdown-body h3:hover .headeranchor-link,
.markdown-body h4:hover .headeranchor-link,
.markdown-body h5:hover .headeranchor-link,
.markdown-body h6:hover .headeranchor-link {
  height: 1em;
  padding-left: 8px;
  margin-left: -30px;
  line-height: 1;
  text-decoration: none;
}

.markdown-body h1:hover .headeranchor-link .headeranchor,
.markdown-body h2:hover .headeranchor-link .headeranchor,
.markdown-body h3:hover .headeranchor-link .headeranchor,
.markdown-body h4:hover .headeranchor-link .headeranchor,
.markdown-body h5:hover .headeranchor-link .headeranchor,
.markdown-body h6:hover .headeranchor-link .headeranchor {
  display: inline-block;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* Multimarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\f05c';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><title>IIS&#x4E0E;Tomcat&#x5171;&#x4EAB;80&#x7AEF;&#x53E3;</title></head><body><article class="markdown-body"><hr>
<p>&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x6709;80&#x7AEF;&#x53E3;&#x8981;&#x6C42;&#xFF0C;&#x4F46;&#x662F;80&#x7AEF;&#x53E3;&#x5DF2;&#x8FD0;&#x884C;&#x4E86;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#xFF0C;&#x5982;&#x4F55;&#x5C06;&#x540E;&#x7AEF;J2EE&#x5B9E;&#x73B0;&#x7684;&#x670D;&#x52A1;&#x96C6;&#x6210;&#x5230;80&#x7AEF;&#x53E3;&#xFF0C;&#x5373;Tomcat&#x96C6;&#x6210;&#x8FDB;IIS&#x3002;<br>
&#x8C03;&#x7814;&#x4E86;&#x4E09;&#x79CD;&#x65B9;&#x6848;&#xFF0C;Apache Tomcat Connector&#xFF08;isapi_redirect&#x5B9E;&#x73B0;&#xFF09;&#x3001;ARR&#xFF08;IIS&#x4E2D;&#x7684;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#xFF09;&#x548C; IIS2Tomcat(BonCode AJP&#x5B9E;&#x73B0;)&#xFF0C;&#x6309;&#x7167;&#x6700;&#x8F7B;&#x91CF;&#x6700;&#x7B80;&#x6D01;&#x7684;&#x90E8;&#x7F72;&#x8981;&#x6C42;&#xFF0C;&#x6700;&#x7EC8;&#x91C7;&#x7528;AJP&#x5B9E;&#x73B0;&#x3002;</p>
<h1 id="isapi_redirect"><a name="user-content-isapi_redirect" href="#isapi_redirect" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>isapi_redirect</h1>
<p><a href="http://tomcat.apache.org/connectors-doc/webserver_howto/iis.html">&#x5B98;&#x65B9;&#x53C2;&#x8003;</a>  </p>
<ol>
<li>The IIS-Tomcat redirector is an IIS plugin (filter + extension), IIS load the redirector plugin and calls its filter function for each in-coming request.</li>
<li>The filter then tests the request URL against a list of URI-paths held inside uriworkermap.properties, If the current request matches one of the entries in the list of URI-paths, the filter transfers the request to the extension.</li>
<li>The extension collects the request parameters and forwards them to the appropriate worker using the defined protocol like ajp13.</li>
<li>The extension collects the response from the worker and returns it to the browser</li>
</ol>
<h1 id="arr"><a name="user-content-arr" href="#arr" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>ARR</h1>
<p>ARR&#xFF1A;Application Request Routing&#xFF0C;&#x7C7B;&#x4F3C;Nginx&#x7684;&#x53CD;&#x5411;&#x4EE3;&#x7406;<br>
<a href="http://www.iisadmin.co.uk/?p=326">&#x914D;&#x7F6E;&#x6559;&#x7A0B;</a><br>
ARR is a good starting point if you want to connect Apache Tomcat to IIS 7, however, there are some issues especially under load that make this less than ideal solution. <br>
1. There are still differences in the way headers are handled between ARR and Tomcat and not all are transferred.<br>
2. ARR will be heavier on the network as it requires that http data is transferred in full byte length without being able to take advantage of binary compression and byte encoding the AJP protocol offers.<br>
3. Under load ARR will not be aware of Tomcat thread handling resulting in unnecessarily dropped connections. <br>
4. Secure (https) connections cannot be easily handled if tomcat needs to be aware of certificates used. </p>
<h1 id="ajp"><a name="user-content-ajp" href="#ajp" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>AJP</h1>
<p>AJP&#xFF1A;Apache JServ Protocol version <br>
<a href="https://github.com/Bilal-S/iis2tomcat">&#x9879;&#x76EE;&#x5730;&#x5740;</a> <br>
<a href="http://tomcatiis.riaforge.org">&#x4E0B;&#x8F7D;&#x5730;&#x5740;</a>  <br>
<a href="http://blog.csdn.net/zhang_hui_cs/article/details/9399373#reply">&#x53C2;&#x8003;&#x535A;&#x5BA2;</a><br>
<a href="http://v.youku.com/v_show/id_XNTg1MTgyODgw.html">&#x8BE6;&#x7EC6;&#x914D;&#x7F6E;&#x89C6;&#x9891;&#x6559;&#x7A0B;</a>  </p>
<h2 id="&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x4E8C;&#x7EA7;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x8981;&#x70B9;"><a name="user-content-_1" href="#_1" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x4E8C;&#x7EA7;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x8981;&#x70B9;</h2>
<ol>
<li>&#x6267;&#x884C;Connector_Setup.exe&#x5B89;&#x88C5;</li>
<li>&#x5728;IIS&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x4E0B;&#x65B0;&#x589E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;examples</li>
<li>&#x5728;examples&#x6839;&#x76EE;&#x5F55;&#x65B0;&#x589E;&#x914D;&#x7F6E;BIN&#x76EE;&#x5F55;&#xFF08;&#x5305;&#x542B;BonCodeAJP13.dll&#x3001;BonCodeIIS.dll&#x548C;iisRemoveHandlers.txt&#xFF09;&#x548C;web.config<br>
<pre><code class="XML">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;configuration&gt;
    &lt;system.webServer&gt;
        &lt;handlers&gt;
            &lt;add name=&quot;BonCodeForAll&quot; path=&quot;*&quot; verb=&quot;*&quot; type=&quot;BonCodeIIS.BonCodeCallHandler&quot; resourceType=&quot;Unspecified&quot; preCondition=&quot;integratedMode&quot; /&gt;
            &lt;add name=&quot;BonCode-Tomcat-JSP-Handler&quot; path=&quot;*.jsp&quot; verb=&quot;*&quot; type=&quot;BonCodeIIS.BonCodeCallHandler&quot; preCondition=&quot;integratedMode&quot; /&gt;
            &lt;add name=&quot;BonCode-Tomcat-CFC-Handler&quot; path=&quot;*.cfc&quot; verb=&quot;*&quot; type=&quot;BonCodeIIS.BonCodeCallHandler&quot; preCondition=&quot;integratedMode&quot; /&gt;
            &lt;add name=&quot;BonCode-Tomcat-CFM-Handler&quot; path=&quot;*.cfm&quot; verb=&quot;*&quot; type=&quot;BonCodeIIS.BonCodeCallHandler&quot; preCondition=&quot;integratedMode&quot; /&gt;
        &lt;/handlers&gt;
        &lt;defaultDocument&gt;
            &lt;files&gt;
                &lt;add value=&quot;index.jsp&quot; /&gt;
                &lt;add value=&quot;index.cfm&quot; /&gt;
            &lt;/files&gt;
        &lt;/defaultDocument&gt;
    &lt;/system.webServer&gt;
&lt;/configuration&gt;
</code></pre></li>
</ol></article></body></html>]]></content>
    <summary type="html">
    <![CDATA[<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="date" content="2015-08-03 16:27:21">
<meta name="tags" content="[Web&#x670D;&#x]]>
    </summary>
    
  </entry>
  
  <entry>
    <title><![CDATA[IIS与Tomcat共享80端口]]></title>
    <link href="http://geosmart.github.io/2015/08/03/IIS%E4%B8%8ETomcat%E5%85%B1%E4%BA%AB80%E7%AB%AF%E5%8F%A3/"/>
    <id>http://geosmart.github.io/2015/08/03/IIS与Tomcat共享80端口/</id>
    <published>2015-08-03T08:27:21.000Z</published>
    <updated>2015-08-03T09:16:29.400Z</updated>
    <content type="html"><![CDATA[<p>&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x6709;80&#x7AEF;&#x53E3;&#x8981;&#x6C42;&#xFF0C;&#x4F46;&#x662F;80&#x7AEF;&#x53E3;&#x5DF2;&#x8FD0;&#x884C;&#x4E86;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#xFF0C;&#x5982;&#x4F55;&#x5C06;&#x540E;&#x7AEF;J2EE&#x5B9E;&#x73B0;&#x7684;&#x670D;&#x52A1;&#x96C6;&#x6210;&#x5230;80&#x7AEF;&#x53E3;&#xFF0C;&#x5373;Tomcat&#x96C6;&#x6210;&#x8FDB;IIS&#x3002;
&#x8C03;&#x7814;&#x4E86;&#x4E09;&#x79CD;&#x65B9;&#x6848;&#xFF0C;Apache Tomcat Connector&#xFF08;isapi_redirect&#x5B9E;&#x73B0;&#xFF09;&#x3001;ARR&#xFF08;IIS&#x4E2D;&#x7684;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#xFF09;&#x548C; IIS2Tomcat(BonCode AJP&#x5B9E;&#x73B0;)&#xFF0C;&#x6309;&#x7167;&#x6700;&#x8F7B;&#x91CF;&#x6700;&#x7B80;&#x6D01;&#x7684;&#x90E8;&#x7F72;&#x8981;&#x6C42;&#xFF0C;&#x6700;&#x7EC8;&#x91C7;&#x7528;AJP&#x5B9E;&#x73B0;&#x3002;</p>
<h1 id="isapi_redirect">isapi_redirect</h1>
<p><a href="http://tomcat.apache.org/connectors-doc/webserver_howto/iis.html">&#x5B98;&#x65B9;&#x53C2;&#x8003;</a><br>
&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF1A;</p>
<ol>
<li>The IIS-Tomcat redirector is an IIS plugin (filter + extension), IIS load the redirector plugin and calls its filter function for each in-coming request.</li>
<li>The filter then tests the request URL against a list of URI-paths held inside uriworkermap.properties, If the current request matches one of the entries in the list of URI-paths, the filter transfers the request to the extension.</li>
<li>The extension collects the request parameters and forwards them to the appropriate worker using the defined protocol like ajp13.</li>
<li>The extension collects the response from the worker and returns it to the browser<br>
&#x914D;&#x7F6E;&#x6CE8;&#x518C;&#x8868;&#xFF0C;DLL&#x7B49;&#x6B65;&#x9AA4;&#x7E41;&#x7410;&#xFF0C;&#x6613;&#x51FA;&#x9519;&#xFF0C;&#x5982;&#x5B98;&#x65B9;&#x6240;&#x8BF4;&#x4F60;&#x5F88;&#x96BE;&#x4E00;&#x6B21;&#x6027;&#x914D;&#x7F6E;&#x6210;&#x529F;-_-</li>
</ol>
<h1 id="arr">ARR</h1>
<p>ARR&#xFF1A;Application Request Routing&#xFF0C;&#x7C7B;&#x4F3C;Nginx&#x7684;&#x53CD;&#x5411;&#x4EE3;&#x7406;<br>
<a href="http://www.iisadmin.co.uk/?p=326">&#x914D;&#x7F6E;&#x6559;&#x7A0B;</a><br>
ARR is a good starting point if you want to connect Apache Tomcat to IIS 7, however, there are some issues especially under load that make this less than ideal solution.</p>
<ol>
<li>There are still differences in the way headers are handled between ARR and Tomcat and not all are transferred.</li>
<li>ARR will be heavier on the network as it requires that http data is transferred in full byte length without being able to take advantage of binary compression and byte encoding the AJP protocol offers.</li>
<li>Under load ARR will not be aware of Tomcat thread handling resulting in unnecessarily dropped connections.</li>
<li>Secure (https) connections cannot be easily handled if tomcat needs to be aware of certificates used.</li>
</ol>
<h1 id="ajp">AJP</h1>
<p>AJP&#xFF1A;Apache JServ Protocol version<br>
<a href="https://github.com/Bilal-S/iis2tomcat">&#x9879;&#x76EE;&#x5730;&#x5740;</a><br>
<a href="http://tomcatiis.riaforge.org">&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF08;&#x9700;&#x7FFB;&#x5899;&#xFF09;</a><br>
<a href="http://blog.csdn.net/zhang_hui_cs/article/details/9399373#reply">&#x53C2;&#x8003;&#x535A;&#x5BA2;</a><br>
<a href="http://v.youku.com/v_show/id_XNTg1MTgyODgw.html">&#x8BE6;&#x7EC6;&#x914D;&#x7F6E;&#x89C6;&#x9891;&#x6559;&#x7A0B;</a></p>
<h2 id="&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x4E8C;&#x7EA7;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x8981;&#x70B9;">&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x4E8C;&#x7EA7;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x8981;&#x70B9;</h2>
<ol>
<li>&#x6267;&#x884C;Connector_Setup.exe&#x5B89;&#x88C5;</li>
<li>&#x5728;IIS&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x4E0B;&#x65B0;&#x589E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;examples,&#x7269;&#x7406;&#x8DEF;&#x5F84;&#x6307;&#x5411;tomcat/webapps/examples</li>
<li>&#x5728;examples&#x6839;&#x76EE;&#x5F55;&#x65B0;&#x589E;&#x914D;&#x7F6E;BIN&#x76EE;&#x5F55;&#xFF08;&#x5305;&#x542B;BonCodeAJP13.dll&#x3001;BonCodeIIS.dll&#x548C;iisRemoveHandlers.txt&#xFF09;&#x548C;web.config
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">system.webServer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">handlers</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">add</span> <span class="attribute">name</span>=<span class="value">&quot;BonCodeForAll&quot;</span> <span class="attribute">path</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">verb</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;BonCodeIIS.BonCodeCallHandler&quot;</span> <span class="attribute">resourceType</span>=<span class="value">&quot;Unspecified&quot;</span> <span class="attribute">preCondition</span>=<span class="value">&quot;integratedMode&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">add</span> <span class="attribute">name</span>=<span class="value">&quot;BonCode-Tomcat-JSP-Handler&quot;</span> <span class="attribute">path</span>=<span class="value">&quot;*.jsp&quot;</span> <span class="attribute">verb</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;BonCodeIIS.BonCodeCallHandler&quot;</span> <span class="attribute">preCondition</span>=<span class="value">&quot;integratedMode&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">add</span> <span class="attribute">name</span>=<span class="value">&quot;BonCode-Tomcat-CFC-Handler&quot;</span> <span class="attribute">path</span>=<span class="value">&quot;*.cfc&quot;</span> <span class="attribute">verb</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;BonCodeIIS.BonCodeCallHandler&quot;</span> <span class="attribute">preCondition</span>=<span class="value">&quot;integratedMode&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">add</span> <span class="attribute">name</span>=<span class="value">&quot;BonCode-Tomcat-CFM-Handler&quot;</span> <span class="attribute">path</span>=<span class="value">&quot;*.cfm&quot;</span> <span class="attribute">verb</span>=<span class="value">&quot;*&quot;</span> <span class="attribute">type</span>=<span class="value">&quot;BonCodeIIS.BonCodeCallHandler&quot;</span> <span class="attribute">preCondition</span>=<span class="value">&quot;integratedMode&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">handlers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">defaultDocument</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">files</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">add</span> <span class="attribute">value</span>=<span class="value">&quot;index.jsp&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">add</span> <span class="attribute">value</span>=<span class="value">&quot;index.cfm&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">files</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">defaultDocument</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x5FAE;&#x4FE1;&#x516C;&#x4F17;&#x53F7;&#x6709;80&#x7AEF;&#x53E3;&#x8981;&#x6C42;&#xFF0C;&#x4F46;&#x662F;80&#x7AEF;&#x53E3;&#x5DF2;&#x8F]]>
    </summary>
    
      <category term="J2EE" scheme="http://geosmart.github.io/tags/J2EE/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[backbone.marionette学习要点]]></title>
    <link href="http://geosmart.github.io/2015/07/28/backbone-marionette%E5%AD%A6%E4%B9%A0%E8%A6%81%E7%82%B9/"/>
    <id>http://geosmart.github.io/2015/07/28/backbone-marionette学习要点/</id>
    <published>2015-07-28T05:35:07.000Z</published>
    <updated>2015-07-28T09:44:06.459Z</updated>
    <content type="html"><![CDATA[<h1 id="marionettebackbone&#x7684;&#x7275;&#x7EBF;&#x6728;&#x5076;">Marionette&#xFF08;Backbone&#x7684;&#x7275;&#x7EBF;&#x6728;&#x5076;&#xFF09;</h1>
<p>&#x63D0;&#x4F9B;rendering&#x3001;template&#x7BA1;&#x7406;&#x3001;UI&#x5BF9;&#x8C61;</p>
<h1 id="model">Model</h1>
<p>rest&#x6570;&#x636E;&#xFF0C;event&#x4E8B;&#x4EF6;</p>
<h1 id="collectionlistmodel">Collection&#xFF1A;List&lt;model&gt;</h1>
<h1 id="view">View</h1>
<h2 id="itemview">ItemView</h2>
<ul>
<li>Backbone.View&#x7684;&#x6269;&#x5C55;&#xFF0C;&#x7528;&#x4E8E;&#x6E32;&#x67D3;Backbone.Model</li>
<li>&#x62E5;&#x6709;modelEvents&#x5C5E;&#x6027;&#xFF0C;&#x53EF;&#x7ED1;&#x5B9A;View&#x65B9;&#x6CD5;</li>
</ul>
<h2 id="collectionview">CollectionView</h2>
<ul>
<li>&#x7528;&#x4E8E;&#x6E32;&#x67D3;Backbone.Collection</li>
<li>&#x53EF;&#x6E32;&#x67D3;List&lt;ItemView&gt;</li>
<li>&#x62E5;&#x6709;collectionEvents/childEvents&#x5C5E;&#x6027;&#xFF0C;</li>
<li>add/remove/reset/etc&#x540E;&#x81EA;&#x52A8;&#x66F4;&#x65B0;&#x89C6;&#x56FE;</li>
<li>&#x652F;&#x6301;Filtering&#xFF08;filter&#x65B9;&#x6CD5;&#xFF09;&#x3001;Sorting&#xFF08;comparator&#x5C5E;&#x6027;&#xFF09;</li>
<li>&#x652F;&#x6301;Pagination</li>
</ul>
<h2 id="compositeview">CompositeView</h2>
<ul>
<li>renders a Collection within a template</li>
<li>ItemView&#xFF08;model&#xFF09;&#x548C;CollectionView&#xFF08;collection&#xFF09;&#x7684;&#x7EC4;&#x5408;</li>
<li>&#x7528;&#x4E8E;detail/table/nested lists/treeview&#x7C7B;&#x578B;&#x7684;&#x573A;&#x666F;</li>
</ul>
<h1 id="view-containers">View Containers</h1>
<h2 id="region">Region</h2>
<p>View&#x5BB9;&#x5668;&#xFF0C;&#x6E32;&#x67D3;&#x81F3;DOM&#xFF0C;DOM&#x548C;Backbone&#x7684;&#x6865;&#x6881;</p>
<h2 id="layoutview">LayoutView</h2>
<ul>
<li>&#x7528;&#x4E8E;&#x590D;&#x6742;&#x5D4C;&#x5957;&#x5E03;&#x5C40;&#xFF0C;multi-view&#x7EC4;&#x6210;&#x7684;widget</li>
<li>Region&#x5BB9;&#x5668;</li>
<li>render all in one call</li>
</ul>
<h1 id="application">Application</h1>
<p>initialization&#x521D;&#x59CB;&#x5316;&#x548C; bootstrapping&#x5F15;&#x5BFC;&#x7A0B;&#x5E8F;</p>
<h1 id="module">Module</h1>
<p>&#x7C7B;&#x4F3C;Application&#xFF0C;&#x591A;&#x4E2A;Modules&#x7EC4;&#x6210;Application
&#x53EF;&#x63A7;&#x5236;start/stop&#x6A21;&#x5757;&#xFF08;&#x53CA;&#x5176;&#x5B50;&#x6A21;&#x5757;&#xFF09;</p>
<h1 id="controller">Controller</h1>
<p>&#x7EC4;&#x4EF6;&#x95F4;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;&#x7528;&#x4E8E;&#x590D;&#x6742;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;</p>
<p>layouts/regions&#xFF1A;&#x52A8;&#x6001;create/display/dispose&#x9875;&#x9762;dom</p>
<h1 id="event-aggregrator">event aggregrator</h1>
<p>&#x53EF;bind/trigger&#x4E8B;&#x4EF6;
module/application&#x7EA7;&#x522B;&#x7684;&#x4E8B;&#x4EF6;&#x901A;&#x9053;&#xFF0C;&#x5176;&#x4ED6;&#x6240;&#x6709;&#x6A21;&#x5757;&#x90FD;&#x53EF;&#x76D1;&#x542C;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x5982;&#x7528;&#x6237;&#x767B;&#x9646;&#x6210;&#x529F;&#x7684;&#x4E1A;&#x52A1;&#x573A;&#x666F;</p>
<h1 id="commands">Commands</h1>
<p>&#x591A;&#x5904;&#x89E6;&#x53D1;&#xFF0C;&#x4E00;&#x5904;&#x5904;&#x7406;</p>
<h1 id="requestresponse">Request/Response</h1>
<p>&#x7528;&#x4E8E;&#x63D0;&#x4F9B;Application Level Data&#xFF0C;&#x5982;&#x8D2D;&#x7269;&#x8F66;&#x5F53;&#x524D;&#x72B6;&#x6001;
&#x63D0;&#x4F9B;&#x5168;&#x5C40;&#x72B6;&#x6001;&#xFF0C;&#x65E0;&#x9700;&#x6240;&#x6709;&#x6A21;&#x5757;&#x90FD;&#x505A;&#x5904;&#x7406;&#xFF0C;&#x4F46;&#x6613;&#x88AB;&#x6EE5;&#x7528;&#xFF0C;&#x5F53;&#x5168;&#x5C40;&#x53EF;&#x64CD;&#x4F5C;&#x65F6;&#x96BE;&#x9884;&#x6D4B;&#x5176;&#x5F71;&#x54CD;</p>
<p>appRouter&#xFF1A;</p>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="marionettebackbone&#x7684;&#x7275;&#x7EBF;&#x6728;&#x5076;">Marionette&#xFF08;Backbone&#x7684;&#x7275;&#x7EBF;&#x6728;&#x5076;&#xFF0]]>
    </summary>
    
  </entry>
  
  <entry>
    <title><![CDATA[xmanager实现CentOS远程控制]]></title>
    <link href="http://geosmart.github.io/2015/07/15/xmanager%E5%AE%9E%E7%8E%B0CentOS%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6/"/>
    <id>http://geosmart.github.io/2015/07/15/xmanager实现CentOS远程控制/</id>
    <published>2015-07-15T01:34:10.000Z</published>
    <updated>2015-08-03T08:58:41.366Z</updated>
    <content type="html"><![CDATA[<p>&#x672C;&#x6587;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x901A;&#x8FC7;Xmanager&#x8FDE;&#x63A5;CentOS&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x65F6;&#xFF0C;&#x5728;CentOS&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x548C;Windows&#x5BA2;&#x6237;&#x7AEF;&#x9700;&#x8981;&#x505A;&#x7684;&#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#x3002;</p>
<h1 id="xmanager&#x7B80;&#x4ECB;">Xmanager&#x7B80;&#x4ECB;</h1>
<p>Xmanager &#x5168;&#x79F0;Netsarang Xmanager&#xFF0C;&#x662F;&#x56FD;&#x5916;&#x4E00;&#x5957;&#x975E;&#x5E38;&#x4F18;&#x79C0;&#x7684;&#x8FDC;&#x7A0B;&#x76D1;&#x63A7;&#x8F6F;&#x4EF6;&#x3002;&#x5728;UNIX/Linux&#x548C;Windows&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;Xmanager&#x662F;&#x8F83;&#x597D;&#x7684;&#x8FDE;&#x901A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;&#x901A;&#x8FC7;Xmanager&#x8FDE;&#x63A5;Linux&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x8FDB;&#x884C;&#x56FE;&#x5F62;&#x5316;&#x7BA1;&#x7406;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5229;&#x7528;&#x4E86;Xmanager&#x5957;&#x88C5;&#x91CC;&#x9762;&#x7684;Xbrowser&#x7A0B;&#x5E8F;&#x3002;
Linux&#x8FDC;&#x7A0B;&#x56FE;&#x5F62;&#x5316;&#x7BA1;&#x7406;&#x9664;&#x4E86;Xbrowser&#xFF0C;&#x8FD8;&#x6709;&#x540C;&#x6837;&#x4F18;&#x79C0;&#x7684;VNC&#x3002;</p>
<p>&#x7279;&#x70B9;&#x5305;&#x62EC;&#xFF1A;
&#x53EF;&#x901A;&#x8FC7;Xcongfig&#x5DE5;&#x5177;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;Xmanager&#x8BBE;&#x7F6E;&#xFF1B;
&#x652F;&#x6301;&#x591A;&#x7528;&#x6237;&#x7684;Windows&#x7EC8;&#x7AEF;&#x73AF;&#x5883;&#xFF1B;
&#x652F;&#x6301;&#x591A;&#x4E2A;IP&#x5730;&#x5740;&#xFF1B;
&#x652F;&#x6301;&#x672C;&#x5730;&#x8D44;&#x6E90;&#x6570;&#x636E;&#x5E93;&#xFF1B;
&#x901A;&#x8FC7;&#x70ED;&#x952E;&#x8F6C;&#x6362;&#x952E;&#x76D8;&#x6620;&#x5C04;&#xFF1B;
&#x652F;&#x6301;&#x591A;&#x7A97;&#x53E3;&#x4E0B;&#x7684;Windows&#x6253;&#x5370;&#x529F;&#x80FD;&#x7B49;</p>
<h1 id="centos&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x914D;&#x7F6E;">CentOS&#x8FDC;&#x7A0B;&#x673A;&#x5668;&#x914D;&#x7F6E;</h1>
<ol>
<li>
<p>&#x5B89;&#x88C5;gdm
yum -y install gdm
&#x914D;&#x7F6E;&#x7CFB;&#x7EDF;&#x4E3A;&#x56FE;&#x5F62;&#x6A21;&#x5F0F;&#xFF0C;&#x6253;&#x5F00;/etc/inittab&#xFF0C;&#x4FEE;&#x6539;&#x4E3A;id:5:initdefault: (&#x82E5;&#x5DF2;&#x4E3A;5&#x5219;&#x4E0D;&#x9700;&#x4FEE;&#x6539;)</p>
</li>
<li>
<p>&#x542F;&#x7528;&#x56FE;&#x5F62;&#x5316;&#x754C;&#x9762;
<code>vim /etc/inittab</code>&#xFF0C;3&#x6539;&#x4E3A;5
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">id:</span><span class="number">5</span>:<span class="string">initdefault:</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x914D;&#x7F6E;gdm&#x53C2;&#x6570;
<code>vim /etc/gdm/custom.conf</code>&#xFF0C;&#x5728;[security]&#x548C;[xdmcp]&#x5B57;&#x6BB5;&#x4E0B;&#x5206;&#x522B;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">[daemon]</span></span><br><span class="line"><span class="title">[security]</span></span><br><span class="line"><span class="setting">AllowRemoteRoot=<span class="value"><span class="keyword">true</span></span></span></span><br><span class="line"><span class="title">[xdmcp]</span></span><br><span class="line"><span class="setting">Port=<span class="value"><span class="number">177</span></span></span></span><br><span class="line"><span class="setting">Enable=<span class="value"><span class="number">1</span></span></span></span><br><span class="line"><span class="title">[greeter]</span></span><br><span class="line"><span class="title">[chooser]</span></span><br><span class="line"><span class="title">[debug]</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x9632;&#x706B;&#x5899;&#x8BBE;&#x7F6E;</p>
</li>
</ol>
<ul>
<li>
<p>&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;
&#x4E34;&#x65F6;&#x5173;&#x95ED;&#xFF1A;<code>service iptables stop</code>
&#x6C38;&#x4E45;&#x5173;&#x95ED;&#xFF1A;<code>checkcfg iptables off</code></p>
</li>
<li>
<p>&#x5728;&#x9632;&#x706B;&#x5899;&#x4E0A;&#x6253;&#x5F00;udp&#x534F;&#x8BAE;177 &#x7AEF;&#x53E3;
<code>iptables -A INPUT -p tcp --dport 177 -j ACCEPT</code>
<code>service iptables save</code></p>
</li>
</ul>
<ol start="5">
<li>&#x91CD;&#x542F;&#x673A;&#x5668;
<code>reboot</code></li>
</ol>
<h1 id="windows&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;">Windows&#x5BA2;&#x6237;&#x7AEF;&#x914D;&#x7F6E;</h1>
<ol>
<li>
<p>XManager&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x8FDE;&#x63A5;
&#x5728;Windows&#x4E0A;&#x6253;&#x5F00;XBrowser&#x901A;&#x8FC7;IP&#x5373;&#x53EF;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;CentOS
Xbrowser&gt;&#x5DE5;&#x5177;&gt;&#x9009;&#x9879;&gt;&#x6DFB;&#x52A0;&#x4E3B;&#x673A;&gt;&#x8FDE;&#x63A5;</p>
</li>
<li>
<p>Xshell&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x8FDE;&#x63A5;&#xFF0C;
Xshell&#x96A7;&#x9053;&#x8FDE;&#x63A5;&gt;&#x6267;&#x884C;<code>gnome-panel</code>&#x547D;&#x4EE4;
&#x5907;&#x6CE8;&#xFF1A;&#x53EA;&#x80FD;&#x8BBF;&#x95EE;&#x7528;&#x6237;&#x6587;&#x4EF6;&#x5939;</p>
</li>
</ol>
<h1 id="&#x6548;&#x679C;&#x56FE;">&#x6548;&#x679C;&#x56FE;</h1>
<p><img src="Xbrowser%E4%B8%BB%E7%95%8C%E9%9D%A2.png" alt="Xbrowser&#x4E3B;&#x754C;&#x9762;">
<img src="Xbrowser%E8%BF%9C%E7%A8%8B%E6%8E%A7%E5%88%B6.png" alt="Xbrowser&#x8FDC;&#x7A0B;&#x63A7;&#x5236;"></p>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x672C;&#x6587;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x901A;&#x8FC7;Xmanager&#x8FDE;&#x63A5;CentOS&#x8FDC;&#x7A0B;&#x684C;&#x9762;&#x65F6;&#x]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[开放虚拟化格式之OVF-OVA]]></title>
    <link href="http://geosmart.github.io/2015/07/12/%E5%BC%80%E6%94%BE%E8%99%9A%E6%8B%9F%E5%8C%96%E6%A0%BC%E5%BC%8F%E4%B9%8BOVF-OVA/"/>
    <id>http://geosmart.github.io/2015/07/12/开放虚拟化格式之OVF-OVA/</id>
    <published>2015-07-12T14:05:44.000Z</published>
    <updated>2015-07-19T03:30:23.860Z</updated>
    <content type="html"><![CDATA[<p>&#x9047;&#x5230;Sphere6.0 (esxi6 )&#x5BFC;&#x51FA;&#x7684;OVF&#x865A;&#x62DF;&#x673A;&#x6A21;&#x677F;&#x5728;Vmware WorkStation 9&#x548C;VmWare WorkStation11&#x4E2D;&#x5BFC;&#x5165;&#x62A5;&#x9519;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6682;&#x6539;&#x6210;OVA&#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x6362;&#x3002;</p>
<p>#&#x95EE;&#x9898;&#x63CF;&#x8FF0;
<img src="errorInfo.png" alt="&#x5BFC;&#x5165;&#x5931;&#x8D25;&#xFF0C;&#x672A;&#x901A;&#x8FC7; OVF &#x89C4;&#x8303;&#x4E00;&#x81F4;&#x6027;&#x6216;&#x865A;&#x62DF;&#x786C;&#x4EF6;&#x5408;&#x89C4;&#x6027;&#x68C0;&#x67E5;&#x3002;&#x8BF7;&#x5355;&#x51FB;&#x201C;&#x91CD;&#x8BD5;&#x201D;&#x653E;&#x677E; OVF &#x89C4;&#x8303;&#x4E0E;&#x865A;&#x62DF;&#x786C;&#x4EF6;&#x5408;&#x89C4;&#x6027;&#x68C0;&#x67E5;&#xFF0C;&#x5E76;&#x91CD;&#x65B0;&#x5C1D;&#x8BD5;&#x5BFC;&#x5165;"></p>
<h2 id="&#x89E3;&#x51B3;&#x65B9;&#x5F0F;">&#x89E3;&#x51B3;&#x65B9;&#x5F0F;</h2>
<p>&#x4EE5;OVA&#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x6362;
VMware&#x5BFC;&#x51FA;&#x65F6;&#x5C06;&#x540E;&#x7F00;&#x6539;&#x4E3A;OVA&#x540E;&#x5230;&#x5904;&#xFF1B;ESXI&#x5BFC;&#x51FA;&#x65F6;&#x9009;OVA</p>
<p>#&#x57FA;&#x7840;&#x77E5;&#x8BC6;</p>
<h2 id="ovf">OVF</h2>
<p>OVF&#xFF08;Open Virtualization Format&#xFF1A;&#x5F00;&#x653E;&#x865A;&#x62DF;&#x5316;&#x683C;&#x5F0F; &#xFF09;
OVF&#x662F;&#x4E00;&#x79CD;&#x5F00;&#x6E90;&#x7684;&#x6587;&#x4EF6;&#x89C4;&#x8303;&#xFF0C;&#x5B83;&#x63CF;&#x8FF0;&#x4E86;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x3001;&#x5B89;&#x5168;&#x3001;&#x6709;&#x6548;&#x3001;&#x53EF;&#x62D3;&#x5C55;&#x7684;&#x4FBF;&#x643A;&#x5F0F;&#x865A;&#x62DF;&#x6253;&#x5305;&#x4EE5;&#x53CA;&#x8F6F;&#x4EF6;&#x5206;&#x5E03;&#x683C;&#x5F0F;&#xFF0C;&#x5B83;&#x4E00;&#x822C;&#x6709;&#x51E0;&#x4E2A;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;&#x5206;&#x522B;&#x662F;ovf&#x6587;&#x4EF6;&#x3001;mf&#x6587;&#x4EF6;&#x3001;cert&#x6587;&#x4EF6;&#x3001;vmdk&#x6587;&#x4EF6;&#x548C;iso&#x6587;&#x4EF6;&#x3002;</p>
<h2 id="ova">OVA</h2>
<p>OVA&#xFF08;Open Virtualization Appliance&#xFF1A;&#x5F00;&#x653E;&#x865A;&#x62DF;&#x5316;&#x8BBE;&#x5907;&#xFF09;
OVA&#x5305;&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6240;&#x6709;&#x5FC5;&#x8981;&#x7684;&#x4FE1;&#x606F;&#x90FD;&#x5C01;&#x88C5;&#x5728;&#x91CC;&#x9762;&#x3002;OVA&#x6587;&#x4EF6;&#x5219;&#x91C7;&#x7528;.tar&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D;,&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E2A;OVF &#x5305;&#x4E2D;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x3002;&#x8FD9;&#x6837;OVA&#x5355;&#x4E00;&#x7684;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x4F7F;&#x5F97;&#x5B83;&#x975E;&#x5E38;&#x4FBF;&#x643A;&#x3002;</p>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x9047;&#x5230;Sphere6.0 (esxi6 )&#x5BFC;&#x51FA;&#x7684;OVF&#x865A;&#x62DF;&#x673A;&#x6A21;&#x677F;&#x5728;Vmware WorkStation 9&#x548C;]]>
    </summary>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[磁盘阵列配置]]></title>
    <link href="http://geosmart.github.io/2015/07/12/%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97%E9%85%8D%E7%BD%AE/"/>
    <id>http://geosmart.github.io/2015/07/12/磁盘阵列配置/</id>
    <published>2015-07-12T14:04:48.000Z</published>
    <updated>2015-07-20T14:40:02.243Z</updated>
    <content type="html"><![CDATA[<p>&#x65B0;&#x8D2D;&#x8FDB;&#x4E00;&#x53F0;&#x6234;&#x5C14;&#x5854;&#x5F0F;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x673A;&#x5668;3*300G&#x7684;&#x786C;&#x76D8;&#x9ED8;&#x8BA4;&#x5DF2;&#x505A;RAID5&#x914D;&#x7F6E;&#xFF0C;&#x65B0;&#x589E;&#x786C;&#x76D8;&#x9700;&#x914D;&#x7F6E;&#x78C1;&#x76D8;&#x9635;&#x5217;</p>
<h1 id="raid&#x5BB9;&#x91CF;&#x8BA1;&#x7B97;&#x5668;">RAID&#x5BB9;&#x91CF;&#x8BA1;&#x7B97;&#x5668;</h1>
<p>&#x914D;&#x7F6E;&#x524D;&#xFF0C;&#x53EF;&#x6839;&#x636E;&#x786C;&#x76D8;&#x6570;&#x548C;RAID&#x7EA7;&#x522B;&#xFF0C;&#x53EF;&#x8BA1;&#x7B97;&#x914D;&#x7F6E;&#x540E;&#x7684;&#x786C;&#x76D8;&#x5B9E;&#x9645;&#x53EF;&#x7528;&#x5BB9;&#x91CF;
&#x53C2;&#x8003;&#x8BA1;&#x7B97;&#x5DE5;&#x5177;</p>
<ul>
<li><a href="http://www.ab126.com/web/2879.html">RAID&#x5BB9;&#x91CF;&#x8BA1;&#x7B97;&#x5668;</a></li>
<li><a href="http://www.raid-calculator.com/default.aspx">raid-calculator</a></li>
</ul>
<p>#RAID&#x57FA;&#x7840;&#x77E5;&#x8BC6;</p>
<h2 id="raid-0">RAID 0</h2>
<p><img src="raid0.gif" alt="raid0"></p>
<ul>
<li>&#x7279;&#x70B9;&#xFF1A;&#x9AD8;&#x6027;&#x80FD; &#x4F4E;&#x7A33;&#x5B9A;&#x6027; &#x4E2D;&#x7B49;&#x6210;&#x672C;</li>
<li>RAID0&#x53C8;&#x79F0;&#x4E3A;Stripe&#xFF08;&#x6761;&#x5E26;&#x5316;&#xFF09;&#x6216;Striping&#xFF0C;&#x5B83;&#x4EE3;&#x8868;&#x4E86;&#x6240;&#x6709;RAID&#x7EA7;&#x522B;&#x4E2D;&#x6700;&#x9AD8;&#x7684;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#x3002;</li>
<li>RAID0&#x7684;&#x7F3A;&#x70B9;&#x662F;&#x4E0D;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x5197;&#x4F59;&#xFF0C;&#x56E0;&#x6B64;&#x4E00;&#x65E6;&#x7528;&#x6237;&#x6570;&#x636E;&#x635F;&#x574F;&#xFF0C;&#x635F;&#x574F;&#x7684;&#x6570;&#x636E;&#x5C06;&#x65E0;&#x6CD5;&#x5F97;&#x5230;&#x6062;&#x590D;&#x3002;</li>
<li>RAID 0&#x5177;&#x6709;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x4F7F;&#x5176;&#x7279;&#x522B;&#x9002;&#x7528;&#x4E8E;&#x5BF9;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x8F83;&#x9AD8;&#xFF0C;&#x800C;&#x5BF9;&#x6570;&#x636E;&#x5B89;&#x5168;&#x4E0D;&#x592A;&#x5728;&#x4E4E;&#x7684;&#x9886;&#x57DF;&#xFF0C;&#x5982;&#x56FE;&#x5F62;&#x5DE5;&#x4F5C;&#x7AD9;&#x7B49;&#x3002;</li>
<li>&#x5BF9;&#x4E8E;&#x4E2A;&#x4EBA;&#x7528;&#x6237;&#xFF0C;RAID 0&#x4E5F;&#x662F;&#x63D0;&#x9AD8;&#x786C;&#x76D8;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#x7684;&#x7EDD;&#x4F73;&#x9009;&#x62E9;&#x3002;</li>
</ul>
<h2 id="raid-1">RAID 1</h2>
<p><img src="raid1.gif" alt="raid1"></p>
<ul>
<li>&#x7279;&#x70B9;&#xFF1A;&#x9AD8;&#x7A33;&#x5B9A;&#x6027; &#x666E;&#x901A;&#x6027;&#x80FD; &#x4E2D;&#x7B49;&#x6210;&#x672C;</li>
<li>RAID 1&#x53C8;&#x79F0;&#x4E3A;Mirror&#x6216;Mirroring&#xFF08;&#x955C;&#x50CF;&#xFF09;&#xFF0C;&#x5B83;&#x7684;&#x5B97;&#x65E8;&#x662F;&#x6700;&#x5927;&#x9650;&#x5EA6;&#x7684;&#x4FDD;&#x8BC1;&#x7528;&#x6237;&#x6570;&#x636E;&#x7684;&#x53EF;&#x7528;&#x6027;&#x548C;&#x53EF;&#x4FEE;&#x590D;&#x6027;&#x3002;</li>
<li>RAID 1&#x7684;&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x662F;&#x628A;&#x7528;&#x6237;&#x5199;&#x5165;&#x786C;&#x76D8;&#x7684;&#x6570;&#x636E;&#x767E;&#x5206;&#x4E4B;&#x767E;&#x5730;&#x81EA;&#x52A8;&#x590D;&#x5236;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x786C;&#x76D8;&#x4E0A;&#x3002;</li>
<li>Mirror&#x867D;&#x4E0D;&#x80FD;&#x63D0;&#x9AD8;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#xFF0C;&#x4F46;&#x7531;&#x4E8E;&#x5176;&#x5177;&#x6709;&#x7684;&#x9AD8;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x4F7F;&#x5176;&#x5C24;&#x5176;&#x9002;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x91CD;&#x8981;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x670D;&#x52A1;&#x5668;&#x548C;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x7B49;&#x9886;&#x57DF;&#x3002;</li>
</ul>
<h2 id="raid-5">RAID 5</h2>
<p><img src="raid5.gif" alt="raid5"></p>
<ul>
<li>&#x7279;&#x70B9;&#xFF1A;&#x9AD8;&#x6027;&#x80FD; &#x4E2D;&#x7B49;&#x7A33;&#x5B9A;&#x6027; &#x4E2D;&#x7B49;&#x6210;&#x672C;</li>
<li>RAID 5 &#x662F;&#x4E00;&#x79CD;&#x5B58;&#x50A8;&#x6027;&#x80FD;&#x3001;&#x6570;&#x636E;&#x5B89;&#x5168;&#x548C;&#x5B58;&#x50A8;&#x6210;&#x672C;&#x517C;&#x987E;&#x7684;&#x5B58;&#x50A8;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002;</li>
<li>RAID 5&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x662F;RAID 0&#x548C;RAID 1&#x7684;&#x6298;&#x8877;&#x65B9;&#x6848;&#x3002;</li>
<li>RAID 5&#x53EF;&#x4EE5;&#x4E3A;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x5B89;&#x5168;&#x4FDD;&#x969C;&#xFF0C;&#x4F46;&#x4FDD;&#x969C;&#x7A0B;&#x5EA6;&#x8981;&#x6BD4;Mirror&#x4F4E;&#x800C;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x5229;&#x7528;&#x7387;&#x8981;&#x6BD4;Mirror&#x9AD8;&#x3002;</li>
<li>RAID 5&#x5177;&#x6709;&#x548C;RAID 0&#x76F8;&#x8FD1;&#x4F3C;&#x7684;&#x6570;&#x636E;&#x8BFB;&#x53D6;&#x901F;&#x5EA6;&#xFF0C;&#x53EA;&#x662F;&#x591A;&#x4E86;&#x4E00;&#x4E2A;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#xFF0C;&#x5199;&#x5165;&#x6570;&#x636E;&#x7684;&#x901F;&#x5EA6;&#x6BD4;&#x5BF9;&#x5355;&#x4E2A;&#x78C1;&#x76D8;&#x8FDB;&#x884C;&#x5199;&#x5165;&#x64CD;&#x4F5C;&#x7A0D;&#x6162;&#x3002;&#x540C;&#x65F6;&#x7531;&#x4E8E;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x5947;&#x5076;&#x6821;&#x9A8C;&#x4FE1;&#x606F;&#xFF0C;RAID 5&#x7684;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x5229;&#x7528;&#x7387;&#x8981;&#x6BD4;RAID 1&#x9AD8;&#xFF0C;&#x5B58;&#x50A8;&#x6210;&#x672C;&#x76F8;&#x5BF9;&#x8F83;&#x4F4E;&#x3002;</li>
</ul>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x65B0;&#x8D2D;&#x8FDB;&#x4E00;&#x53F0;&#x6234;&#x5C14;&#x5854;&#x5F0F;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x673A;&#x5668;3*300G&#x7684;&#x]]>
    </summary>
    
      <category term="硬件" scheme="http://geosmart.github.io/tags/%E7%A1%AC%E4%BB%B6/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[nginx负载均衡参数配置]]></title>
    <link href="http://geosmart.github.io/2015/07/12/nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE/"/>
    <id>http://geosmart.github.io/2015/07/12/nginx负载均衡参数配置/</id>
    <published>2015-07-12T13:30:47.000Z</published>
    <updated>2015-07-12T14:06:24.868Z</updated>
    <content type="html"><![CDATA[<h1 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h1>
<p>Nginx&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x5927;&#x91CF;502Bad Gateway&#x548C;504 Time-Out&#xFF0C;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;Jetty&#x7AEF;&#x5B58;&#x5728;&#x5927;&#x91CF;CLOSE_WAIT&#x548C;TIME_WAIT&#x72B6;&#x6001;&#x7684;&#x8FDE;&#x63A5;
<img src="502-504.png" alt="502-504">
&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x67E5;&#x770B;&#x53E3;&#x4EE4;&#xFF1A;
<code>netstat -n | awk &apos;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&apos;</code></p>
<h1 id="&#x89E3;&#x51B3;&#x65B9;&#x6848;">&#x89E3;&#x51B3;&#x65B9;&#x6848;</h1>
<ol>
<li>Linux&#x4E2D;TCP/IP&#x5185;&#x6838;&#x53C2;&#x6570; &#x4F18;&#x5316;
&#x7F16;&#x8F91;&#x53C2;&#x6570;&#xFF1A;<code>vi /etc/sysctl.conf</code>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">net<span class="class">.core</span><span class="class">.somaxconn</span> = <span class="number">4096</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_max_syn_backlog</span> = <span class="number">8192</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_syn_retries</span>= <span class="number">5</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_synack_retries</span> = <span class="number">5</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_abort_on_overflow</span>=<span class="number">0</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_tw_reuse</span>=<span class="number">1</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_tw_recycle</span>=<span class="number">1</span> </span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_timestamps</span>=<span class="number">1</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_syncookies</span>=<span class="number">1</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_max_tw_buckets</span>=<span class="number">90000</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_fin_timeout</span>=<span class="number">30</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.ip_local_port_range</span>=<span class="number">10000</span> <span class="number">65000</span></span><br><span class="line">net<span class="class">.ipv4</span><span class="class">.tcp_keepalive_time</span>=<span class="number">1200</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>&#x8BA9;&#x53C2;&#x6570;&#x751F;&#x6548;&#xFF1A;<code>/sbin/sysctl -p</code></p>
<ol start="2">
<li>Nginx&#x914D;&#x7F6E;&#x53C2;&#x6570;
&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x4E09;&#x4E2A;proxy_&#x8D85;&#x65F6;&#x63A7;&#x5236;&#x53C2;&#x6570;
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">upstream</span> uadb_server{   </span><br><span class="line">     <span class="title">server</span> <span class="number">192.168.1.81:8080</span>  weight=<span class="number">1</span> max_fails=<span class="number">2</span> fail_timeout=<span class="number">0</span>; </span><br><span class="line">     <span class="title">server</span> <span class="number">192.168.1.82:8080</span>  weight=<span class="number">1</span> max_fails=<span class="number">2</span> fail_timeout=<span class="number">0</span>;    </span><br><span class="line">} </span><br><span class="line"><span class="title">server</span> {</span><br><span class="line">        <span class="title">listen</span>       <span class="number">9090</span>;</span><br><span class="line">        <span class="title">server_name</span>  uadb_server;   </span><br><span class="line">        <span class="title">access_log</span>  /var/log/nginx/uadb_server-access-ssl.log;</span><br><span class="line">        <span class="title">error_log</span>  /var/log/nginx/uadb_server-<span class="built_in">error</span>-ssl.log;</span><br><span class="line">        <span class="title">location</span> /{ </span><br><span class="line">           <span class="title">proxy_pass</span> <span class="url">http://uadb_server</span>; </span><br><span class="line">           <span class="comment"># time out settings</span></span><br><span class="line">           <span class="title">proxy_connect_timeout</span> <span class="number">60</span>;</span><br><span class="line">           <span class="title">proxy_read_timeout</span>  <span class="number">3600</span>;</span><br><span class="line">           <span class="title">proxy_send_timeout</span>  <span class="number">3600</span>;</span><br><span class="line">           <span class="title">proxy_temp_file_write_size</span> <span class="number">64k</span>;</span><br><span class="line">           <span class="title">proxy_redirect</span>          <span class="built_in">off</span>; </span><br><span class="line">        } </span><br><span class="line">}</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="nginx-upstream&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x53CD;&#x5411;&#x4EE3;&#x7406;">Nginx upstream&#x8D1F;&#x8F7D;&#x5747;&#x8861;/&#x53CD;&#x5411;&#x4EE3;&#x7406;</h1>
<p><img src="proxy.png" alt="proxy"></p>
<h2 id="upstream&#x7B97;&#x6CD5;&#x5206;&#x6790;">upstream&#x7B97;&#x6CD5;&#x5206;&#x6790;</h2>
<ol>
<li>&#x8F6E;&#x8BE2;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x6309;&#x65F6;&#x95F4;&#x987A;&#x5E8F;&#x5206;&#x914D;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x4E86;&#xFF0C;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;down&#x6389;&#xFF0C;&#x81EA;&#x52A8;&#x5207;&#x9664;&#xFF1B;</li>
<li>weight&#xFF1A;&#x8BBE;&#x5B9A;&#x670D;&#x52A1;&#x5668;&#x6743;&#x503C;&#xFF1A;&#x5982;weight=2&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x4E0D;&#x5747;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x3002;weight&#xFF1A;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;weight&#x8D8A;&#x5927;&#xFF0C;&#x8D1F;&#x8F7D;&#x7684;&#x6743;&#x91CD;&#x8D8A;&#x5927;&#xFF1B;</li>
<li>ip_hash &#xFF1A;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x6309;&#x8BBF;&#x95EE;ip&#x7684;hash&#x7ED3;&#x679C;&#x5206;&#x914D;&#xFF0C;&#x6BCF;&#x4E2A;&#x8BBF;&#x5BA2;&#x6709;&#x56FA;&#x5B9A;&#x7684;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;session&#x95EE;&#x9898;&#xFF1B;</li>
<li>fair&#xFF08;&#x7B2C;&#x4E09;&#x65B9;&#xFF09;&#xFF1A;&#x6309;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x6765;&#x5206;&#x914D;&#xFF0C;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x77ED;&#x7684;&#x4F18;&#x5148;&#x5206;&#x914D;</li>
<li>url_hash (&#x7B2C;&#x4E09;&#x65B9;)&#xFF1A; &#x6309;&#x8BBF;&#x95EE;&#x7684;url&#x7684;hash&#x7ED3;&#x679C;&#x5206;&#x914D;&#xFF0C;&#x4F7F;&#x6BCF;&#x4E2A;url&#x5B9A;&#x5411;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x540E;&#x7AEF;&#x4E3A;&#x7F13;&#x5B58;&#x670D;&#x52A1;&#x5668;&#x6BD4;&#x8F83;&#x6709;&#x6548;&#x3002;</li>
</ol>
<h2 id="upstream&#x53C2;&#x6570;&#x4ECB;&#x7ECD;">upstream&#x53C2;&#x6570;&#x4ECB;&#x7ECD;</h2>
<ol>
<li>down&#xFF1A;&#x5F53;&#x524D;&#x7684;IP server&#x6682;&#x65F6;&#x4E0D;&#x53C2;&#x4E0E;&#x8D1F;&#x8F7D;&#xFF0C;&#x4E0D;&#x8FDB;&#x884C;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#xFF1B;</li>
<li>max_fails&#xFF1A;&#x5141;&#x8BB8;&#x8BF7;&#x6C42;&#x5931;&#x8D25;&#x7684;&#x6B21;&#x6570;&#x9ED8;&#x8BA4;&#x4E3A;1&#xFF0C;&#x5F53;&#x8D85;&#x8FC7;&#x6700;&#x5927;&#x6B21;&#x6570;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;proxy_next_upstream&#x6A21;&#x5757;&#x5B9A;&#x4E49;&#x7684;&#x9519;&#x8BEF;&#xFF1B;</li>
<li>fail_timeout&#xFF1A;max_fails&#x6B21;&#x5931;&#x8D25;&#x540E;&#xFF0C;&#x6682;&#x505C;&#x7684;&#x65F6;&#x95F4;&#xFF1B;</li>
<li>backup&#xFF1A;&#x5176;&#x5B83;&#x6240;&#x6709;&#x975E;backup&#x673A;&#x5668;down&#x6216;&#x8005;&#x5FD9;&#x65F6;&#x5019;&#xFF0C;&#x8BF7;&#x6C42;backup&#x673A;&#x5668;&#xFF0C;&#x8FD9;&#x53F0;&#x673A;&#x5668;&#x538B;&#x529B;&#x6700;&#x8F7B;&#x3002;</li>
</ol>
<h1 id="netstat&#x53C2;&#x6570;&#x72B6;&#x6001;">netstat&#x53C2;&#x6570;&#x72B6;&#x6001;</h1>
<p>&#x67E5;&#x770B;&#x53E3;&#x4EE4;&#xFF1A;<code>netstat -an</code>
&#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF1A;
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">LISTEN&#xFF1A;&#x4FA6;&#x542C;&#x6765;&#x81EA;&#x8FDC;&#x65B9;&#x7684;TCP&#x7AEF;&#x53E3;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">SYN-SENT&#xFF1A;&#x5728;&#x53D1;&#x9001;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x540E;&#x7B49;&#x5F85;&#x5339;&#x914D;&#x7684;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">SYN-RECEIVED&#xFF1A;&#x5728;&#x6536;&#x5230;&#x548C;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x540E;&#x7B49;&#x5F85;&#x5BF9;&#x65B9;&#x5BF9;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">ESTABLISHED&#xFF1A;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x6253;&#x5F00;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x6211;&#x4EEC;&#x5E38;&#x7528;&#x6B64;&#x4F5C;&#x4E3A;&#x5E76;&#x53D1;&#x8FDE;&#x63A5;&#x6570;&#xFF1B;</span><br><span class="line">FIN-WAIT-1&#xFF1A;&#x7B49;&#x5F85;&#x8FDC;&#x7A0B;TCP&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#xFF0C;&#x6216;&#x5148;&#x524D;&#x7684;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">FIN-WAIT-2&#xFF1A;&#x4ECE;&#x8FDC;&#x7A0B;TCP&#x7B49;&#x5F85;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">CLOSE-WAIT&#xFF1A;&#x7B49;&#x5F85;&#x4ECE;&#x672C;&#x5730;&#x7528;&#x6237;&#x53D1;&#x6765;&#x7684;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#xFF1B;</span><br><span class="line">CLOSING&#xFF1A;&#x7B49;&#x5F85;&#x8FDC;&#x7A0B;TCP&#x5BF9;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">LAST-ACK&#xFF1A;&#x7B49;&#x5F85;&#x539F;&#x6765;&#x53D1;&#x5411;&#x8FDC;&#x7A0B;TCP&#x7684;&#x8FDE;&#x63A5;&#x4E2D;&#x65AD;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">TIME-WAIT&#xFF1A;&#x7B49;&#x5F85;&#x8DB3;&#x591F;&#x7684;&#x65F6;&#x95F4;&#x4EE5;&#x786E;&#x4FDD;&#x8FDC;&#x7A0B;TCP&#x8FDE;&#x63A5;&#x6536;&#x5230;&#x4E2D;&#x65AD;&#x8BF7;&#x6C42;&#x7684;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line"><span class="keyword">CLOSED</span>&#xFF1A;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x8FDE;&#x63A5;&#x72B6;&#x6001;&#xFF1B;</span><br></pre></td></tr></table></figure></p>
<h1 id="&#x670D;&#x52A1;&#x5668;tcp&#x8FDE;&#x63A5;&#x72B6;&#x6001;">&#x670D;&#x52A1;&#x5668;TCP&#x8FDE;&#x63A5;&#x72B6;&#x6001;</h1>
<p>&#x67E5;&#x770B;&#x53E3;&#x4EE4;&#xFF1A;<code>netstat -an|awk &apos;/^tcp/{++S[$NF]}END{for (a in S)print a,S[a]}&apos;</code>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CLOSED</span>&#xFF1A;&#x6CA1;&#x6709;&#x8FDE;&#x63A5;&#x6D3B;&#x52A8;&#x6216;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#xFF1B;</span><br><span class="line">LISTEN&#xFF1A;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x7684;&#x8FDB;&#x5165;&#x547C;&#x53EB;&#xFF1B;</span><br><span class="line">SYN_RECV&#xFF1A;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#x8BF7;&#x6C42;&#x5DF2;&#x7ECF;&#x5230;&#x8FBE;&#xFF0C;&#x7B49;&#x5F85;&#x786E;&#x8BA4;&#xFF1B;</span><br><span class="line">SYN_SENT&#xFF1A;&#x5E94;&#x7528;&#x5DF2;&#x7ECF;&#x5F00;&#x59CB;&#xFF0C;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5;&#xFF1B;</span><br><span class="line">ESTABLISHED&#xFF1A;&#x6B63;&#x5E38;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x72B6;&#x6001;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD1;&#x4F3C;&#x7684;&#x7406;&#x89E3;&#x4E3A;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5E76;&#x53D1;&#x6570;&#xFF1B;</span><br><span class="line">FIN_WAIT1&#xFF1A;&#x5E94;&#x7528;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF1B;</span><br><span class="line">FIN_WAIT2&#xFF1A;&#x53E6;&#x4E00;&#x8FB9;&#x540C;&#x610F;&#x91CA;&#x653E;&#xFF1B;</span><br><span class="line">ITMED_WAIT&#xFF1A;&#x7B49;&#x5F85;&#x6240;&#x6709;&#x5206;&#x7EC4;&#x6B7B;&#x6389;&#xFF1B;</span><br><span class="line">CLOSING&#xFF1A;&#x4E24;&#x8FB9;&#x540C;&#x65F6;&#x5C1D;&#x8BD5;&#x5173;&#x95ED;&#xFF1B;</span><br><span class="line">TIME_WAIT&#xFF1A;&#x53E6;&#x4E00;&#x8FB9;&#x5DF2;&#x521D;&#x59CB;&#x5316;&#x4E00;&#x4E2A;&#x91CA;&#x653E;&#xFF1B;</span><br><span class="line">LAST_ACK&#xFF1A;&#x7B49;&#x5F85;&#x6240;&#x6709;&#x5206;&#x7EC4;&#x6B7B;&#x6389;&#xFF1B;</span><br></pre></td></tr></table></figure></p>]]></content>
    <summary type="html">
    <![CDATA[<h1 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;">&#x95EE;&#x9898;&#x63CF;&#x8FF0;</h1>
<p>Nginx&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x5927;&#x9]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[CentOS常用脚本]]></title>
    <link href="http://geosmart.github.io/2015/07/06/centos%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/07/06/centos常用脚本/</id>
    <published>2015-07-06T08:41:15.000Z</published>
    <updated>2015-07-20T14:17:06.379Z</updated>
    <content type="html"><![CDATA[<p>CentOS&#x65E5;&#x5E38;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x79EF;&#x7D2F;&#x7684;Shell&#x811A;&#x672C;&#x6216;Linux&#x547D;&#x4EE4;&#xFF0C;&#x6301;&#x7EED;&#x7EF4;&#x62A4;&#x66F4;&#x65B0;</p>
<h1 id="&#x9759;&#x6001;ip&#x8BBE;&#x7F6E;">&#x9759;&#x6001;IP&#x8BBE;&#x7F6E;</h1>
<p><a href="static-ip.sh">&#x4E0B;&#x8F7D; static-ip.sh</a><br>
&#x53C2;&#x6570;: <code>static-ip.sh &lt;hostname&gt; &lt;interface&gt; &lt;baseip&gt; &lt;ipaddress&gt; &lt;gateway/dns&gt;</code><br>
&#x793A;&#x4F8B;
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x  ./static-ip.sh</span><br><span class="line">./static-ip.sh localhost eth0 <span class="number">192.168</span>.<span class="number">1</span> <span class="number">81</span> <span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<h1 id="&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x4E0B;ssh&#x514D;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x8BA4;&#x8BC1;&#x811A;&#x672C;">&#x96C6;&#x7FA4;&#x73AF;&#x5883;&#x4E0B;ssh&#x514D;&#x5BC6;&#x7801;&#x767B;&#x9646;&#x8BA4;&#x8BC1;&#x811A;&#x672C;</h1>
<p><a href="">todo-gitrepository</a></p>
<ol>
<li>&#x786E;&#x4FDD;&#x5404;&#x8282;&#x70B9;&#x5B89;&#x88C5;ssh,expect</li>
<li>&#x628A;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;&#x4E3B;&#x8282;&#x70B9;&#x4E0A;</li>
<li>&#x914D;&#x7F6E;hosts.conf&#x548C;slaves.conf</li>
<li>&#x6267;&#x884C;keygen_master
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x keygen_master.sh</span><br><span class="line">./keygen_master.sh</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="ps&#x8FDB;&#x7A0B;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;">PS&#x8FDB;&#x7A0B;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;</h1>
<p>&#x901A;&#x5E38;&#x7528;ps&#x67E5;&#x770B;&#x8FDB;&#x7A0B;PID&#xFF0C;kill&#x7EC8;&#x6B62;&#x8FDB;&#x7A0B;</p>
<ul>
<li>grep &#x662F;&#x641C;&#x7D22;<br>
&#x4F8B;&#x5982;&#xFF1A;<code>ps -ef | grep java</code>&#x8868;&#x793A;&#x67E5;&#x770B;&#x6240;&#x6709;&#x8FDB;&#x7A0B;&#x91CC; CMD &#x662F; java &#x7684;&#x8FDB;&#x7A0B;&#x4FE1;&#x606F;</li>
<li>-aux &#x663E;&#x793A;&#x6240;&#x6709;&#x72B6;&#x6001;<br>
<code>ps -aux | grep java</code></li>
<li>kill &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x7EC8;&#x6B62;&#x8FDB;&#x7A0B;<br>
&#x4F8B;&#x5982;&#xFF1A; <code>kill -9 [PID]</code><br>
-9 &#x8868;&#x793A;&#x5F3A;&#x8FEB;&#x8FDB;&#x7A0B;&#x7ACB;&#x5373;&#x505C;&#x6B62;</li>
</ul>
<h1 id="nohup&#x540E;&#x53F0;&#x8FD0;&#x884C;">nohup&#x540E;&#x53F0;&#x8FD0;&#x884C;</h1>
<p>&#x540E;&#x53F0;&#x8FD0;&#x884C;test.jar<br>
<code>nohup java -jar test.jar</code><br>
&#x4E0D;&#x8F93;&#x51FA;nohup&#x65E5;&#x5FD7;&#xFF1A;&gt;/dev/null 2&gt;&amp;1 &amp;<br>
<code>nohup java -jar test.jar &gt;/dev/null 2&gt;&amp;1 &amp;</code></p>
<h1 id="&#x91CD;&#x5B9A;&#x5411;">&#x91CD;&#x5B9A;&#x5411;</h1>
<ul>
<li>0 &#x8868;&#x793A;&#x6807;&#x51C6;&#x8F93;&#x5165;</li>
<li>1 &#x6807;&#x51C6;&#x8F93;&#x51FA;,&#x5728;&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x662F;&#x6807;&#x51C6;&#x8F93;&#x51FA;</li>
<li>2 &#x6807;&#x51C6;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x8F93;&#x51FA;<br>
&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x9700;&#x8981;&#x91CD;&#x5B9A;&#x5411;&#x7684;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6216;&#x8F93;&#x51FA;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x5C06;&#x67D0;&#x4E2A;&#x7A0B;&#x5E8F;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x8F93;&#x51FA;&#x5230;log&#x6587;&#x4EF6; &#x4E2D;&#xFF1A;./program 2&gt;log&#x3002;&#x8FD9;&#x6837;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x8FD8;&#x662F;&#x5728;&#x5C4F;&#x5E55;&#x4E0A;&#xFF0C;&#x4F46;&#x662F;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x4F1A;&#x8F93;&#x51FA;&#x5230;log&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x4E5F;&#x53EF; &#x4EE5;&#x5B9E;&#x73B0;0&#xFF0C;1&#xFF0C;2&#x4E4B;&#x95F4;&#x7684;&#x91CD;&#x5B9A;&#x5411;&#x3002;2&gt;&amp;1&#xFF1A;&#x5C06;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x3002;</li>
<li>/dev/null<br>
&#x5B83;&#x5C31;&#x50CF;&#x4E00;&#x4E2A;&#x65E0;&#x5E95;&#x6D1E;&#xFF0C;&#x6240;&#x6709;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x5B83;&#x7684;&#x4FE1;&#x606F;&#x90FD;&#x4F1A;&#x6D88;&#x5931;&#x5F97;&#x65E0;&#x5F71;&#x65E0;&#x8E2A;&#x3002;&#x5F53;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x56DE;&#x663E;&#x7A0B;&#x5E8F;&#x7684;&#x6240;&#x6709;&#x4FE1;&#x606F;&#x65F6;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5C06;&#x8F93;&#x51FA;&#x91CD;&#x5B9A;&#x5230;/dev/null&#x3002;</li>
</ul>
<h1 id="&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x5934;&#x5C3E;&#x5B9E;&#x65F6;&#x5185;&#x5BB9;">&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x5934;/&#x5C3E;/&#x5B9E;&#x65F6;&#x5185;&#x5BB9;</h1>
<ul>
<li>head filename&#x8BFB;&#x53D6;&#x5934;&#x90E8;&#xFF0C;&#x4F7F;&#x7528;&#x547D;&#x4EE4;head&#x3002;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x6587;&#x4EF6; filename &#x7684;&#x524D;&#x5341;&#x884C;&#x5185;&#x5BB9;<br>
<code>head -n 20 filename</code>&#xFF1A;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x7684;&#x524D;20&#x884C;&#x5185;&#x5BB9;<br>
<code>head -n -20 filename</code>  &#xFF1A;&#x82E5;n&#x540E;&#x9762;&#x7684;&#x6574;&#x6570;&#x4E3A;&#x8D1F;&#x6570;&#x65F6;&#xFF0C;&#x5982;&#x5219;&#x8868;&#x793A;&#x5217;&#x51FA;&#x9664;&#x5C3E;&#x90E8;&#x7684;20&#x884C;&#x5916;&#x7684;&#x6240;&#x6709;&#x884C;</li>
<li>tail filename &#x8BFB;&#x53D6;&#x5C3E;&#x90E8;&#xFF0C;&#x4F7F;&#x7528;&#x547D;&#x4EE4;tail&#xFF0C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x540C;head&#x76F8;&#x4F3C;<br>
<code>tail -n 20 filename</code>&#xFF1A;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x540E;20&#x884C;&#x5185;&#x5BB9;<br>
<code>tail -n +20 filename</code>&#xFF1A;&#x663E;&#x793A;&#x6587;&#x4EF6;&#x81EA;&#x7B2C;20&#x884C;&#x5F00;&#x59CB;&#x540E;&#x7684;&#x6240;&#x6709;&#x884C;&#xFF08;&#x5305;&#x62EC;&#x7B2C;20&#x884C;&#xFF09;</li>
<li><code>tail -f filename</code>&#xFF1A;&#x52A8;&#x6001;&#x663E;&#x793A;&#x6700;&#x65B0;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;<br>
&#x5177;&#x4F53;&#x7528;&#x6CD5;man head&#x6216;man tail&#x83B7;&#x53D6;</li>
</ul>]]></content>
    <summary type="html">
    <![CDATA[<p>CentOS&#x65E5;&#x5E38;&#x4F7F;&#x7528;&#x8FC7;&#x7A0B;&#x4E2D;&#x79EF;&#x7D2F;&#x7684;Shell&#x811A;&#x672C;&#x6216;Linux&#x547D;&#x4EE4;&]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[mongodb一键安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/07/01/mongodb%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/07/01/mongodb一键安装脚本/</id>
    <published>2015-07-01T12:26:00.000Z</published>
    <updated>2015-07-01T14:50:35.610Z</updated>
    <content type="html"><![CDATA[<p><img src="logo-mongodb.png" alt=""></p>
<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2>
<ol>
<li><a href="http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.6.3.tgz">mongodb&#x5B89;&#x88C5;&#x5305;&#xFF08;&#x5B98;&#x7F51;&#x7248;&#x672C;&#xFF1A;mongodb-linux-x86_64-2.6.3.tgz&#xFF09;</a>
&#x4E0B;&#x8F7D;&#x540E;&#x5E76;&#x91CD;&#x547D;&#x540D;&#x4E3A;mongodb.tar.gz</li>
<li><a href="install-mongodb.sh">mongodb&#x5B89;&#x88C5;&#x811A;&#x672C;</a></li>
</ol>
<h2 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h2>
<p>&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;CentOS&#x540E;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<ol>
<li>
<p>CentOS&#x8DEF;&#x5F84;&#xFF1A;/tmp</p>
</li>
<li>
<p>&#x6267;&#x884C;
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp</span><br><span class="line">chmod +x install-mongodb.sh </span><br><span class="line">sudo ./install-mongodb.sh</span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x4E00;&#x8DEF;&#x56DE;&#x8F66;&#x5373;&#x53EF;</p>
</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p><img src="logo-mongodb.png" alt=""></p>
<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2>
<ol>
<li><a href=]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="数据库" scheme="http://geosmart.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[日志分析工具]]></title>
    <link href="http://geosmart.github.io/2015/06/30/%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/"/>
    <id>http://geosmart.github.io/2015/06/30/日志分析工具/</id>
    <published>2015-06-30T06:47:50.000Z</published>
    <updated>2015-07-01T06:52:07.114Z</updated>
    <content type="html"><![CDATA[<p>&#x6700;&#x8FD1;&#x9700;&#x8981;&#x5BF9;&#x591A;&#x53F0;Web&#x670D;&#x52A1;&#x5668;/Java&#x5BA2;&#x6237;&#x7AEF;&#x7A0B;&#x5E8F;&#x7684;&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x5206;&#x6790;&#xFF0C;&#x6BD4;&#x8F83;&#x4E86;&#x4E00;&#x4E9B;&#x5F00;&#x6E90;&#x7684;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x4EA7;&#x5DE5;&#x5177;&#xFF0C;&#x76EE;&#x524D;&#x5728;&#x7528;&#x7684;&#x6709;OtrosLogViewer&#xFF08;olv&#xFF09;&#x548C;LogExpert</p>
<h2 id="awstats">AWStats</h2>
<ul>
<li>&#x57FA;&#x4E8E;Perl&#xFF0C;&#x5F00;&#x6E90;&#x3001;&#x7B80;&#x6D01;&#x3001;&#x5F3A;&#x5927;&#x7684;&#x7F51;&#x7AD9;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;
Free real-time logfile analyzer to get advanced statistics (GNU GPL).
AWStats is a free powerful and featureful tool that generates advanced web, streaming, ftp or mail server statistics, graphically. This log analyzer works as a CGI or from command line and shows you all possible information your log contains, in few graphical web pages. It uses a partial information file to be able to process large log files, often and quickly. It can analyze log files from all major server tools like Apache log files (NCSA combined/XLF/ELF log format or common/CLF log format), WebStar, IIS (W3C log format) and a lot of other web, proxy, wap, streaming servers, mail servers and some ftp servers.
Take a look at this comparison table for an idea on features and differences between most famous statistics tools (AWStats, Analog, Webalizer,...).
AWStats is a free software distributed under the GNU General Public License. You can have a look at this license chart to know what you can/can&apos;t do.
As AWStats works from the command line but also as a CGI, it can work with all web hosting providers which allow Perl, CGI and log access.</li>
</ul>
<h2 id="otroslogviewer">OtrosLogViewer</h2>
<ul>
<li>&#x57FA;&#x4E8E;Java&#x5F00;&#x53D1;&#x7684;&#xFF0C;&#x5F00;&#x6E90;&#x3001;&#x5F3A;&#x5927;&#x3001;&#x53EF;&#x81EA;&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#x3001;UI&#x53CB;&#x597D;&#xFF0C;&#x53EF;&#x62D6;&#x62FD;http&#x65E5;&#x5FD7;&#x8FDB;&#x884C;&#x5206;&#x6790;&#xFF0C;&#x597D;&#x8BC4;</li>
<li>&#x95EE;&#x9898;1&#xFF1A;&#x5728;windows&#x4E0B;&#x5207;&#x6362;log&#x4F1A;&#x975E;&#x5E38;&#x5361;&#x987F;&#xFF0C;linux&#x4E0B;&#x6B63;&#x5E38;&#xFF0C;&#x6682;&#x672A;&#x627E;&#x5230;&#x539F;&#x56E0;</li>
<li>&#x95EE;&#x9898;2&#xFF1A; illegal character in schema name at index xxx
&#x4E0D;&#x80FD;&#x76F4;&#x63A5;&#x62D6;&#x62FD;&#x6587;&#x4EF6;&#xFF08;&#x5982;http://192.168.1.81:8080/logs/uadb/uadb.log&#xFF09;&#xFF0C;&#x9700;&#x62D6;&#x62FD;&#x6D4F;&#x89C8;&#x5668;&#x9875;&#x9762;&#xFF08;&#x5982;http://192.168.1.81:8080/logs/uadb&#xFF09;&#x4E2D;&#x7684;&#x65E5;&#x5FD7;&#x94FE;&#x63A5;</li>
<li>&#x95EE;&#x9898;3 &#x6309;<code>%d{yyyy-MM-dd HH\:mm\:ss,SSS} [%t] [%c] [%p] - %m%n</code>&#x89C4;&#x5219;&#x62C6;&#x5206;&#x884C;&#x5B58;&#x5728;&#x95EE;&#x9898;&#xFF0C;&#x5B58;&#x5728;&#x591A;&#x884C;&#x5E76;&#x5728;&#x4E00;&#x8D77;</li>
</ul>
<p>Useful software for analysing applications logs and traces.</p>
<h2 id="logexpert">LogExpert</h2>
<ul>
<li>&#x5C0F;&#x800C;&#x7F8E;&#x7684;&#x5355;&#x673A;&#x65E5;&#x5FD7;&#x5206;&#x6790;&#x5DE5;&#x5177;&#xFF0C;&#x597D;&#x8BC4;
You are a developer needing a nice tail application for MS Windows?
You are in the need for a powerful logfile analysis tool?
You love logfiles?
You live in your logfiles?
Or at least: you have to work with them?
Download LogExpert if you answered &quot;yes&quot; to any of the questions above!</li>
</ul>
<h2 id="log-parser">Log Parser</h2>
<ul>
<li>&#x57FA;&#x4E8E;.NET&#x5E73;&#x53F0;
Log Parser is a powerful, versatile tool that provides universal query access to text-based data such as log files, XML files and CSV files, as well as key data sources on the Windows operating system such as the Event Log, the Registry, the file system, and Active Directory. You tell Log Parser what information you need and how you want it processed. The results of your query can be custom-formatted in text based output, or they can be persisted to more specialty targets like SQL, SYSLOG, or a chart. Most software is designed to accomplish a limited number of specific tasks. Log Parser is different... the number of ways it can be used is limited only by the needs and imagination of the user. The world is your database with Log Parser.</li>
</ul>
<h2 id="chainsaw">Chainsaw</h2>
<ul>
<li>&#x867D;&#x662F;apache&#x5B98;&#x65B9;&#x7684;&#x4E13;&#x4E1A;Log4j&#x5206;&#x6790;&#x5DE5;&#x5177;&#xFF0C;2004&#x5E74;&#x5C31;&#x6CA1;&#x66F4;&#x65B0;&#x4E86;,&#x5DEE;&#x8BC4;&#xFF01;
Chainsaw v2 is a companion application to Log4j written by members of the Log4j development community. Like a number of Open Source projects, this new version was built upon inspirations, ideas and creations of others. Chainsaw v2 has it&apos;s roots from the original Chainsaw utility written by Oliver Burn, and with inspiration from the Log Factor 5 utility contributed by ThoughtWorks Inc.</li>
</ul>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x6700;&#x8FD1;&#x9700;&#x8981;&#x5BF9;&#x591A;&#x53F0;Web&#x670D;&#x52A1;&#x5668;/Java&#x5BA2;&#x6237;&#x7AEF;&#x7A0B;&#x5E8F;&#x7684;&]]>
    </summary>
    
      <category term="工具" scheme="http://geosmart.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[常用git命令]]></title>
    <link href="http://geosmart.github.io/2015/06/30/%E5%B8%B8%E7%94%A8git%E5%91%BD%E4%BB%A4/"/>
    <id>http://geosmart.github.io/2015/06/30/常用git命令/</id>
    <published>2015-06-30T05:18:03.000Z</published>
    <updated>2015-07-01T01:28:42.061Z</updated>
    <content type="html"><![CDATA[<p><a href="https://www.atlassian.com/git/tutorials/">&#x53C2;&#x8003;&#x6559;&#x7A0B;</a></p>
<ol>
<li>
<p>&#x514B;&#x9686;&#x5E93;
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone <span class="string">https:</span><span class="comment">//github.com/geosmart/geosmart.io</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x65B0;&#x5EFA; &apos;gh-pages&apos;&#x5206;&#x652F;&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x751F;&#x6210;github pages
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="comment">--orphan gh-pages</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x672C;&#x5730;&#x63D0;&#x4EA4;
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -<span class="tag">a</span> -m <span class="string">&quot;commit message&quot;</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x63A8;&#x9001;&#x5230;github
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="label">git</span> <span class="keyword">push </span>origin</span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x521D;&#x59CB;&#x7248;&#x672C;&#x63D0;&#x4EA4;
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">push</span> --<span class="keyword">set</span>-upstream origin master</span><br><span class="line">&#x6216;</span><br><span class="line">git <span class="keyword">push</span> origin master</span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x63A8;&#x9001;&#x5230;github
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git sync</span><br><span class="line">git config --<span class="keyword">global</span> credential.helper store</span><br><span class="line">git config --<span class="keyword">global</span> push.<span class="keyword">default</span> <span class="keyword">matching</span></span><br></pre></td></tr></table></figure></p>
</li>
</ol>
<ol>
<li>
<p>git bash&#x8BB0;&#x4F4F;&#x5BC6;&#x7801;
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config credential<span class="class">.helper</span> <span class="string">&apos;cache --timeout=300&apos;</span></span><br><span class="line">git config --global user<span class="class">.name</span> geosmart</span><br><span class="line">git config --global user<span class="class">.email</span> geosmart@foxmail.com</span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x67E5;&#x770B;git&#x914D;&#x7F6E;
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config <span class="comment">--list</span></span><br></pre></td></tr></table></figure></p>
</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p><a href="https://www.atlassian.com/git/tutorials/">&#x53C2;&#x8003;&#x6559;&#x7A0B;</a></p>
<ol>
<li>
<p>&#x514B;&#x9686;&#x5E93;
<figure]]>
    </summary>
    
      <category term="工具" scheme="http://geosmart.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[LNMP安装]]></title>
    <link href="http://geosmart.github.io/2015/06/30/lnmp%E5%AE%89%E8%A3%85/"/>
    <id>http://geosmart.github.io/2015/06/30/lnmp安装/</id>
    <published>2015-06-30T05:11:58.000Z</published>
    <updated>2015-07-07T01:59:34.128Z</updated>
    <content type="html"><![CDATA[<p>&#x5177;&#x4F53;&#x53C2;&#x8003;<a href="http://lnmp.org/">LNMP&#x4E00;&#x952E;&#x5B89;&#x88C5;&#x5B98;&#x7F51;</a></p>
<h2 id="nmp&#x73AF;&#x5883;&#x914D;&#x7F6E;">NMP&#x73AF;&#x5883;&#x914D;&#x7F6E;</h2>
<p>LNMP:Linux+Nginx+Mysql+PHP</p>
<h2 id="lnmp&#x76F8;&#x5173;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;&#x76EE;&#x5F55;">LNMP&#x76F8;&#x5173;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;&#x76EE;&#x5F55;</h2>
<p>Nginx &#x76EE;&#x5F55;: /usr/local/nginx/
MySQL &#x76EE;&#x5F55; : /usr/local/mysql/
MySQL&#x6570;&#x636E;&#x5E93;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;/usr/local/mysql/var/
MariaDB &#x76EE;&#x5F55; : /usr/local/mariadb/
MariaDB&#x6570;&#x636E;&#x5E93;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;/usr/local/mariadb/var/
PHP&#x76EE;&#x5F55; : /usr/local/php/
PHPMyAdmin&#x76EE;&#x5F55; : 0.9&#x7248;&#x4E3A;/home/wwwroot/phpmyadmin/ 1.0&#x7248;&#x4E3A; /home/wwwroot/default/phpmyadmin/ &#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x5C06;&#x6B64;&#x76EE;&#x5F55;&#x91CD;&#x547D;&#x540D;&#x4E3A;&#x5176;&#x4E0D;&#x5BB9;&#x6613;&#x731C;&#x5230;&#x7684;&#x540D;&#x5B57;&#x3002;phpmyadmin&#x53EF;&#x81EA;&#x5DF1;&#x4ECE;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x65B0;&#x7248;&#x66FF;&#x6362;&#x3002;
&#x9ED8;&#x8BA4;&#x7F51;&#x7AD9;&#x76EE;&#x5F55; : 0.9&#x7248;&#x4E3A; /home/wwwroot/ 1.0&#x7248;&#x4E3A; /home/wwwroot/default/
Nginx&#x65E5;&#x5FD7;&#x76EE;&#x5F55;&#xFF1A;/home/wwwlogs/
/root/vhost.sh&#x6DFB;&#x52A0;&#x7684;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;/usr/local/nginx/conf/vhost/
PureFtpd &#x76EE;&#x5F55;&#xFF1A;/usr/local/pureftpd/
PureFtpd web&#x7BA1;&#x7406;&#x76EE;&#x5F55;&#xFF1A; 0.9&#x7248;&#x4E3A;/home/wwwroot/default/ftp/ 1.0&#x7248;&#x4E3A; /home/wwwroot/default/ftp/
Proftpd &#x76EE;&#x5F55;&#xFF1A;/usr/local/proftpd/
Redis &#x76EE;&#x5F55;&#xFF1A;/usr/local/redis/</p>
<p>##&#x4E00;&#x952E;&#x5B89;&#x88C5;
&#x4E0B;&#x8F7D;
<code>wget --no-check-certificate https://api.sinas3.com/v1/SAE_lnmp/soft/lnmp1.2-full.tar.gz</code><br>
&#x4E00;&#x952E;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;
<code>wget -c http://soft.vpser.net/lnmp/lnmp1.2-full.tar.gz &amp;&amp; tar zxf lnmp1.2-full.tar.gz &amp;&amp; cd lnmp1.2-full &amp;&amp; ./install.sh lnmp</code></p>
<p>&#x79BB;&#x7EBF;&#x5B89;&#x88C5;
<code>cd /tmp/lnmp &amp;&amp; tar zxf lnmp1.2-full.tar.gz &amp;&amp; cd lnmp1.2-full &amp;&amp; ./install.sh lnmp</code>
&#x7F51;&#x7EDC;&#x60C5;&#x51B5;10M&#x5E26;&#x5BBD;&#x8017;&#x65F6;&#xFF1A;45&#x5206;&#x949F;</p>]]></content>
    <summary type="html">
    <![CDATA[<p>&#x5177;&#x4F53;&#x53C2;&#x8003;<a href="http://lnmp.org/">LNMP&#x4E00;&#x952E;&#x5B89;&#x88C5;&#x5B98;&#x7F51;</a></p>
<h2 id="nmp&#x73A]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Hexo安装]]></title>
    <link href="http://geosmart.github.io/2015/06/30/hexo%E5%AE%89%E8%A3%85/"/>
    <id>http://geosmart.github.io/2015/06/30/hexo安装/</id>
    <published>2015-06-30T04:58:32.000Z</published>
    <updated>2015-06-30T14:59:07.548Z</updated>
    <content type="html"><![CDATA[<h2 id="hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;">hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;</h2>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo init</span><br><span class="line">npm install</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-server --save</span><br><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-feed --save</span><br><span class="line">npm install hexo-toc --save</span><br><span class="line">npm install hexo-html-minifier --save</span><br></pre></td></tr></table></figure></p>
<h2 id="&#x53EF;&#x9009;&#x63D2;&#x4EF6;">&#x53EF;&#x9009;&#x63D2;&#x4EF6;</h2>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it --save</span><br></pre></td></tr></table></figure></p>
<h2 id="&#x5E38;&#x7528;&#x547D;&#x4EE4;">&#x5E38;&#x7528;&#x547D;&#x4EE4;</h2>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">hexo g (generate)</span><br><span class="line">hexo s (server)</span><br><span class="line">hexo clean (clear public)</span><br><span class="line">hexo n  [layout] &lt;title &gt;(new post)</span><br><span class="line">eg:hexo n draft title</span><br><span class="line">hexo publish [layout] &lt;title&gt; </span><br><span class="line">eg:hexo publish draft title</span><br><span class="line">hexo d (deploy)</span><br><span class="line">hexo d -g (generate and deploy)</span><br><span class="line"></span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure></p>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;">hexo&#x73AF;&#x5883;&#x642D;&#x5EFA;</h2>
<p><figure class="highlight bash"><table><tr><td cla]]>
    </summary>
    
      <category term="工具" scheme="http://geosmart.github.io/tags/%E5%B7%A5%E5%85%B7/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[中文测试POST]]></title>
    <link href="http://geosmart.github.io/2015/06/30/%E4%B8%AD%E6%96%87%E6%B5%8B%E8%AF%95post/"/>
    <id>http://geosmart.github.io/2015/06/30/中文测试post/</id>
    <published>2015-06-30T02:47:59.000Z</published>
    <updated>2015-06-30T14:58:57.579Z</updated>
    <content type="html"><![CDATA[<p>Welcome to <a href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="quick-start">Quick Start</h2>
<h3 id="create-a-new-post">Create a new post</h3>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure></p>
<p>More info: <a href="http://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="run-server">Run server</h3>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure></p>
<p>More info: <a href="http://hexo.io/docs/server.html">Server</a></p>
<h3 id="generate-static-files">Generate static files</h3>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure></p>
<p>More info: <a href="http://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="deploy-to-remote-sites">Deploy to remote sites</h3>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure></p>
<p>More info: <a href="http://hexo.io/docs/deployment.html">Deployment</a></p>]]></content>
    <summary type="html">
    <![CDATA[<p>Welcome to <a href="http://hexo.io/">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/">documentation</a> for m]]>
    </summary>
    
      <category term="TEST" scheme="http://geosmart.github.io/tags/TEST/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[zabbix-server安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/30/zabbix-server%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/30/zabbix-server安装脚本/</id>
    <published>2015-06-30T02:47:59.000Z</published>
    <updated>2015-07-12T14:00:56.083Z</updated>
    <content type="html"><![CDATA[<p><img src="zabbix.png" alt="zabbix"></p>
<h1 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h1>
<ol>
<li>LNMP/LNAP&#x73AF;&#x5883;&#x5B89;&#x88C5;</li>
<li><a href="http://sourceforge.net/projects/zabbix/files/ZABBIX%20Latest%20Stable/2.2.9/zabbix-2.2.9.tar.gz/download">zabbix&#x5B89;&#x88C5;&#x5305;&#xFF08;&#x5B98;&#x7F51;&#x7248;&#x672C;&#xFF1A;zabbix-2.2.9.tar.gz&#xFF09;</a></li>
<li><a href="install-zabbix_server.sh">zabbix&#x5B89;&#x88C5;&#x811A;&#x672C;</a></li>
<li><a href="clear-zabbix_his.sh">zabbix&#x6E05;&#x7A7A;&#x5386;&#x53F2;&#x76D1;&#x63A7;&#x6570;&#x636E;&#x811A;&#x672C;</a></li>
</ol>
<h1 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h1>
<ol>
<li>PHP&#x53C2;&#x6570;&#x914D;&#x7F6E;
&#x4E3A;&#x5B89;&#x88C5;zabbix&#x76D1;&#x63A7;WebUI&#xFF0C;&#x9700;&#x8981;&#x9884;&#x5148;&#x914D;&#x7F6E;php
<code>vim /usr/local/php/etc/php.ini</code>&#x67E5;&#x627E;&#x914D;&#x7F6E;&#x4E0B;&#x5217;&#x53C2;&#x6570;&#xFF1A;
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">memory_<span class="built_in">limit</span> = <span class="number">128</span>M</span><br><span class="line">post_max_size = <span class="number">50</span>M</span><br><span class="line">upload_max_filesize =<span class="number">50</span>M</span><br><span class="line">max_execution_time = <span class="number">600</span></span><br><span class="line">max_input_time = <span class="number">600</span></span><br><span class="line">date.timezone = Asia/Shanghai</span><br></pre></td></tr></table></figure></li>
</ol>
<p>&#x4FEE;&#x6539;&#x540E;&#x6267;&#x884C;<code>service php-fpm restart</code></p>
<ol start="2">
<li>&#x4FEE;&#x6539;zabbix_server&#x7A0B;&#x5E8F;&#x7684;&#x78C1;&#x76D8;&#x8DEF;&#x5F84;<br>
&#x4FEE;&#x6539;zabbix_server&#x4E3B;&#x7A0B;&#x5E8F;&#x8DEF;&#x5F84;
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /usr/local/zabbix/misc/init.d/tru64/zabbix_server</span></span><br><span class="line">DAEMON=/usr/<span class="built_in">local</span>/zabbix/sbin/zabbix_server</span><br></pre></td></tr></table></figure></li>
</ol>
<p>&#x6DFB;&#x52A0;&#x4E0B;&#x9762;&#x4E24;&#x53E5;&#x5230;<code>#!/bin/bash</code>&#x4E4B;&#x540E;&#xFF0C;&#x89E3;&#x51B3;<code>service myservicedoes not support chkconfig</code>&#x95EE;&#x9898;
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chkconfig: 2345 10 90 </span></span><br><span class="line"><span class="comment"># description:zabbix....</span></span><br></pre></td></tr></table></figure></p>
<ol start="3">
<li>&#x7F16;&#x8F91;zabbix_server&#x914D;&#x7F6E;&#x6587;&#x4EF6;
<code>vim /usr/local/zabbix/etc/zabbix_server.conf</code>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DBHost=localhost</span><br><span class="line">DBName = zabbix </span><br><span class="line">DBPassword =zabbix  </span><br><span class="line">DBUser = zabbix  </span><br><span class="line">LogFile=/tmp/zabbix_server.log</span><br></pre></td></tr></table></figure></li>
</ol>
<ol start="4">
<li>&#x6DFB;&#x52A0;zabbix&#x670D;&#x52A1;Service&#x7AEF;&#x53E3;&#xFF08;&#x4E0D;&#x80FD;&#x91CD;&#x590D;&#x64CD;&#x4F5C;&#xFF09;</li>
</ol>
<p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat <span class="prompt">&gt;&gt;</span>/etc/services&lt;&lt;<span class="constant">EOF</span></span><br><span class="line">zabbix-agent <span class="number">10050</span>/tcp <span class="constant">Zabbix</span> <span class="constant">Agent</span></span><br><span class="line">zabbix-agent <span class="number">10050</span>/udp <span class="constant">Zabbix</span> <span class="constant">Agent</span></span><br><span class="line">zabbix-trapper <span class="number">10051</span>/tcp <span class="constant">Zabbix</span> <span class="constant">Trapper</span></span><br><span class="line">zabbix-trapper <span class="number">10051</span>/udp <span class="constant">Zabbix</span> <span class="constant">Trapper</span></span><br><span class="line"><span class="constant">EOF</span></span><br></pre></td></tr></table></figure></p>
<ol start="5">
<li>
<p>Mysql&#x4E2D;&#x65B0;&#x5EFA;Zabbix&#x6570;&#x636E;&#x5E93;
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -proot</span><br><span class="line">create database zabbix;</span><br><span class="line">grant all privileges <span class="literal">on</span> zabbix.* to zabbix<span class="property">@localhost</span> identified <span class="keyword">by</span> <span class="string">&apos;zabbix&apos;</span>;</span><br><span class="line">quit</span><br><span class="line">`<span class="javascript"></span>``<span class="javascript"> </span><br><span class="line"></span><br><span class="line"><span class="number">6.</span> &#x6267;&#x884C;&#x5B89;&#x88C5;&#x811A;&#x672C;</span><br><span class="line"></span>``<span class="javascript"></span>` bash </span><br><span class="line">cd /usr/local/zabbix</span><br><span class="line">chmod +x configure</span><br><span class="line">cd /usr/local/zabbix/script</span><br><span class="line">chmod +x install-zabbix_server.sh </span><br><span class="line">sudo ./install-zabbix_server.sh</span><br><span class="line">`<span class="javascript"></span>``<span class="javascript">  </span><br><span class="line"></span><br><span class="line"># &#x76F8;&#x5173;&#x64CD;&#x4F5C;</span><br><span class="line"><span class="number">1.</span> zabbix&#x7F51;&#x7AD9;&#x4E2D;&#x7684;&#x542F;&#x7528;&#x4E2D;&#x6587;&#x540E;&#x4E71;&#x7801;&#x95EE;&#x9898;</span><br><span class="line">* &#x5728;zabbix&#x7F51;&#x7AD9;&#x76EE;&#x5F55;&#x4E0B;&#x7684;include/locales.inc.php&#x6587;&#x4EF6;&#x4E2D;&#x542F;&#x7528;&#x4E2D;&#x6587;&#xFF08;<span class="string">&apos;display&apos;</span>=<span class="literal">true</span>&#xFF09;</span><br><span class="line">* &#x5728;windows&#x4E0B;&#x63A7;&#x5236;&#x9762;&#x677F;-&gt;&#x5B57;&#x4F53;-&gt;&#x9009;&#x62E9;&#x4E00;&#x79CD;&#x4E2D;&#x6587;&#x5B57;&#x5E93;&#x4F8B;&#x5982;&#x201C;&#x6977;&#x4F53;&#x201D;&#xFF0C;&#x628A;&#x5B83;&#x62F7;&#x8D1D;&#x5230;zabbix&#x7684;web&#x7AEF;&#x7684;fonts&#x76EE;&#x5F55;&#x4E0B;&#x4F8B;&#x5982;&#xFF1A;/<span class="keyword">var</span>/www/html/zabbix/fonts&#xFF0C;&#x5E76;&#x4E14;&#x628A;TTF&#x540E;&#x7F00;&#x6539;&#x4E3A;ttf</span><br><span class="line">* &#x4FEE;&#x6539;zabbix&#x7684;web&#x7AEF;/include/defines.inc.php&#xFF0C;&#x5982;&#x4E0B;</span><br><span class="line"></span>``<span class="javascript"></span>` php</span><br><span class="line"><span class="regexp">//</span>define(<span class="string">&apos;ZBX_GRAPH_FONT_NAME&apos;</span>, <span class="string">&apos;DejaVuSans&apos;</span>); <span class="regexp">//</span> origin name</span><br><span class="line">define(<span class="string">&apos;ZBX_GRAPH_FONT_NAME&apos;</span>, <span class="string">&apos;simkai&apos;</span>); <span class="regexp">//</span> custom  font name</span><br><span class="line">`<span class="javascript"></span>``<span class="javascript"> </span><br><span class="line"><span class="number">2.</span> &#x82E5;zabbix&#x7684;host&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#xFF0C;&#x8003;&#x8651;&#x9632;&#x706B;&#x5899;&#x662F;&#x5426;&#x9700;&#x8981;&#x5173;&#x95ED;/&#x52A0;&#x5165;&#x4FE1;&#x4EFB;&#x7AEF;&#x53E3;</span><br><span class="line"></span>``<span class="javascript"></span>` bash</span><br><span class="line"><span class="comment">#&#x67E5;&#x770B;&#x9632;&#x706B;&#x5899;&#x72B6;&#x6001;</span></span><br><span class="line">service iptables status </span><br><span class="line"><span class="comment">#&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; </span></span><br><span class="line">service iptables stop </span><br><span class="line"><span class="comment">#&#x6C38;&#x4E45;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; </span></span><br><span class="line">chkconfig   iptables <span class="literal">off</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x7F16;&#x8BD1;&#x95EE;&#x9898;
&apos;aclocal-1.14&apos; is missing on your system.You should only need it if you modified &apos;acinclude.m4&apos; or &apos;configure.ac&apos; or m4 files included by &apos;configure.ac&apos;.
&#x89E3;&#x51B3;&#x65B9;&#x6CD5;
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch configure<span class="class">.ac</span> aclocal<span class="class">.m4</span> configure Makefile<span class="class">.am</span> Makefile<span class="class">.in</span></span><br><span class="line">make</span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x67E5;&#x770B;zabbix&#x670D;&#x52A1;&#x662F;&#x5426;&#x5DF2;&#x542F;&#x52A8;
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">netstat -utlnp | grep zabbix </span><br><span class="line">```    </span><br><span class="line"></span><br><span class="line"><span class="number">5</span>. &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x66F4;&#x65B0;&#x540E;&#xFF0C;&#x9700;&#x91CD;&#x542F;&#x5BA2;&#x6237;&#x7AEF;&#x670D;&#x52A1;</span><br><span class="line">``` bash</span><br><span class="line">service zabbix_server restart</span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>zabbix web&#x914D;&#x7F6E;&#x7B80;&#x7565;&#xFF0C;&#x8D34;&#x51E0;&#x5F20;&#x6548;&#x679C;&#x56FE;
<img src="filter.png" alt="zabbix&#x76D1;&#x63A7;">
<img src="cpu.png" alt="zabbix&#x76D1;&#x63A7;CPU">
<img src="network.png" alt="zabbix&#x76D1;&#x63A7;&#x7F51;&#x7EDC;"></p>
</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<p><img src="zabbix.png" alt="zabbix"></p>
<h1 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h1>
<ol>
<li>LNMP/LNA]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="监控" scheme="http://geosmart.github.io/tags/%E7%9B%91%E6%8E%A7/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[zabbix-agent安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/29/zabbix-agent%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/29/zabbix-agent安装脚本/</id>
    <published>2015-06-29T07:33:38.000Z</published>
    <updated>2015-07-08T01:54:11.503Z</updated>
    <content type="html"><![CDATA[<p><img src="zabbix.png" alt="zabbix"></p>
<h1 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h1>
<ol>
<li><a href="http://sourceforge.net/projects/zabbix/files/ZABBIX%20Latest%20Stable/2.2.9/zabbix-2.2.9.tar.gz/download">zabbix&#x5B89;&#x88C5;&#x5305;&#xFF08;&#x5B98;&#x7F51;&#x7248;&#x672C;&#xFF1A;zabbix-2.2.9.tar.gz&#xFF09;</a></li>
<li>yum groupinstall &quot;Development tools&quot;</li>
<li><a href="install-zabbix_agent.sh">zabbix&#x5B89;&#x88C5;&#x811A;&#x672C;</a></li>
</ol>
<p>cd /tmp &amp;&amp; tar -zxf  zabbix.gz</p>
<h1 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h1>
<ol>
<li>&#x4FEE;&#x6539;zabbix_server&#x7A0B;&#x5E8F;&#x7684;&#x78C1;&#x76D8;&#x8DEF;&#x5F84;<br>
&#x4FEE;&#x6539;zabbix_server&#x4E3B;&#x7A0B;&#x5E8F;&#x8DEF;&#x5F84;
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /usr/local/zabbix/misc/init.d/tru64/zabbix_server</span></span><br><span class="line">DAEMON=/usr/<span class="built_in">local</span>/zabbix/sbin/zabbix_server</span><br></pre></td></tr></table></figure></li>
</ol>
<p>&#x6DFB;&#x52A0;&#x4E0B;&#x9762;&#x4E24;&#x53E5;&#x5230;<code>#!/bin/bash</code>&#x4E4B;&#x540E;&#xFF0C;&#x89E3;&#x51B3;<code>service myservicedoes not support chkconfig</code>&#x95EE;&#x9898;
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># chkconfig: 2345 10 90 </span></span><br><span class="line"><span class="comment"># description:zabbix....</span></span><br></pre></td></tr></table></figure></p>
<ol start="2">
<li>
<p>&#x7F16;&#x8F91;zabbix_agentd&#x914D;&#x7F6E;&#x6587;&#x4EF6;
<code>vim /usr/local/zabbix/etc/zabbix_agentd.conf</code>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">LogFile=/tmp/zabbix_agentd.log </span><br><span class="line"><span class="comment">#&#x670D;&#x52A1;&#x7AEF;IP  </span></span><br><span class="line">Server=<span class="number">192.168</span>.<span class="number">1.80</span></span><br><span class="line"><span class="comment">#&#x670D;&#x52A1;&#x7AEF;IP   </span></span><br><span class="line">ServerActive= <span class="number">192.168</span>.<span class="number">1.80</span></span><br><span class="line"><span class="comment">#&#x5BA2;&#x6237;&#x7AEF;IP&#x4E0E;zabbix-web&#x914D;&#x7F6E;&#x4E0A;&#x7684;hostName&#x4E00;&#x81F4;   </span></span><br><span class="line">Hostname=localhost</span><br><span class="line">UnsafeUserParameters=<span class="number">1</span></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x6267;&#x884C;&#x5B89;&#x88C5;&#x811A;&#x672C;
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/zabbix/script/install-zabbix_agentd.sh</span><br><span class="line">chmod +x install-zabbix_agentd.sh </span><br><span class="line">sudo ./install-zabbix_agentd.sh</span><br></pre></td></tr></table></figure></p>
</li>
</ol>
<h1 id="&#x76F8;&#x5173;&#x64CD;&#x4F5C;">&#x76F8;&#x5173;&#x64CD;&#x4F5C;</h1>
<ol>
<li>&#x82E5;zabbix&#x7684;host&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#xFF0C;&#x8003;&#x8651;&#x9632;&#x706B;&#x5899;&#x662F;&#x5426;&#x9700;&#x8981;&#x5173;&#x95ED;/&#x52A0;&#x5165;&#x4FE1;&#x4EFB;&#x7AEF;&#x53E3;</li>
</ol>
<pre><code class="language-bash">#&#x67E5;&#x770B;&#x9632;&#x706B;&#x5899;&#x72B6;&#x6001;
service iptables status 
#&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; 
service iptables stop  
#&#x6C38;&#x4E45;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; 
chkconfig   iptables off 
</code></pre>
<ol start="2">
<li>&#x67E5;&#x770B;zabbix&#x670D;&#x52A1;&#x662F;&#x5426;&#x5DF2;&#x542F;&#x52A8;</li>
</ol>
<pre><code class="language-bash">netstat -utlnp | grep zabbix 
</code></pre>
<ol start="3">
<li>&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x66F4;&#x65B0;&#x540E;&#xFF0C;&#x9700;&#x91CD;&#x542F;&#x5BA2;&#x6237;&#x7AEF;&#x670D;&#x52A1;</li>
</ol>
<pre><code class="language-bash">service zabbix_agentd restart
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p><img src="zabbix.png" alt="zabbix"></p>
<h1 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h1>
<ol>
<li><a href=]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="监控" scheme="http://geosmart.github.io/tags/%E7%9B%91%E6%8E%A7/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[mongodb手动安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/28/mongodb%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/28/mongodb手动安装脚本/</id>
    <published>2015-06-28T12:26:00.000Z</published>
    <updated>2015-07-15T07:17:15.345Z</updated>
    <content type="html"><![CDATA[<p><img src="nosql.png" alt="nosql"></p>
<h1 id="&#x51C6;&#x5907;&#x4E8B;&#x9879;">&#x51C6;&#x5907;&#x4E8B;&#x9879;</h1>
<h2 id="&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;&#x6587;&#x4EF6;&#x4E8C;&#x8FDB;&#x5236;&#x7F16;&#x8BD1;&#x7248;">&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;&#x6587;&#x4EF6;&#xFF08;&#x4E8C;&#x8FDB;&#x5236;&#x7F16;&#x8BD1;&#x7248;&#xFF09;</h2>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /usr/<span class="built_in">local</span>/mongodb</span><br><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/mongodb</span><br><span class="line">wget http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-<span class="number">2.6</span>.<span class="number">3</span>.tgz</span><br><span class="line">tar -zvxf mongodb-linux-x86_64-<span class="number">2.6</span>.<span class="number">3</span>.tgz</span><br></pre></td></tr></table></figure></p>
<h2 id="&#x91CD;&#x547D;&#x540D;&#x65B0;&#x5EFA;&#x6570;&#x636E;&#x65E5;&#x5FD7;&#x76EE;&#x5F55;">&#x91CD;&#x547D;&#x540D;&gt;&#x65B0;&#x5EFA;&#x6570;&#x636E;/&#x65E5;&#x5FD7;&#x76EE;&#x5F55;</h2>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv mongodb-linux-x86_64-<span class="number">2.6</span>.<span class="number">3</span> mongodb</span><br><span class="line">mkdir data</span><br><span class="line">mkdir <span class="built_in">log</span></span><br></pre></td></tr></table></figure></p>
<h1 id="&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;">&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;</h1>
<p>CentOs&#x4E2D;&#x914D;&#x7F6E;path&#x73AF;&#x5883;&#x53D8;&#x91CF;,&#x786E;&#x4FDD;mongodb&#x7684;bin&#x76EE;&#x5F55;&#x5305;&#x542B;&#x5728;path&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x3002;</p>
<h2 id="&#x914D;&#x7F6E;path">&#x914D;&#x7F6E;PATH</h2>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/profile </span><br><span class="line">&#x3000;&#x3000;<span class="comment">#set for mongodb </span></span><br><span class="line">&#x3000;&#x3000;<span class="built_in">export</span> MONGODB_HOME=/usr/<span class="built_in">local</span>/mongodb </span><br><span class="line">&#x3000;&#x3000;<span class="built_in">export</span> PATH=<span class="variable">$MONGODB_HOME</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure></p>
<h2 id="&#x67E5;&#x770B;&#x5F53;&#x524D;path">&#x67E5;&#x770B;&#x5F53;&#x524D;PATH</h2>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure></p>
<h2 id="&#x8BA9;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x751F;&#x6548;">&#x8BA9;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x751F;&#x6548;</h2>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line">//&#x9A8C;&#x8BC1;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x751F;&#x6548;</span><br><span class="line">mongod -version</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"><span class="comment">## &#x6DFB;&#x52A0;CentOS&#x5F00;&#x673A;&#x542F;&#x52A8;&#x9879;</span></span><br></pre></td></tr></table></figure></p>
<p>vim  /etc/rc.d/rc.local
//&#x5C06;mongodb&#x542F;&#x52A8;&#x547D;&#x4EE4;&#x624B;&#x52A8;&#x8FFD;&#x52A0;&#x5230;&#x672C;&#x6587;&#x4EF6;&#x4E2D;&#xFF1A;
/usr/local/mongodb/bin/mongod --dbpath /usr/local/mongodb/data --logpath /usr/local/mongodb/log/mongodb.log  --fork --smallfiles
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># &#x542F;&#x52A8;MongoDB</span><br><span class="line">## &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5F62;&#x5F0F; </span><br><span class="line">``` bash</span><br><span class="line">vim  <span class="regexp">/usr/</span>local<span class="regexp">/mongodb/</span>mongodb.conf</span><br><span class="line">dbpath=<span class="regexp">/usr/</span>local<span class="regexp">/mongodb/</span>data</span><br><span class="line">logpath=<span class="regexp">/usr/</span>local<span class="regexp">/mongodb/</span>log/mongodb.log</span><br><span class="line">logappend=<span class="literal">true</span></span><br><span class="line">port=<span class="number">27017</span></span><br><span class="line">fork=<span class="literal">true</span></span><br><span class="line">noauth=<span class="literal">true</span></span><br><span class="line">journal=<span class="literal">true</span></span><br><span class="line">smallfiles=<span class="literal">true</span> </span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line">## &#x547D;&#x4EE4;&#x884C;&#x5F62;&#x5F0F;</span><br><span class="line">``` Bash</span><br><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/mongodb/</span>bin<span class="regexp">/mongod --dbpath /</span>usr<span class="regexp">/local/</span>mongodb<span class="regexp">/data --logpath /</span>usr<span class="regexp">/local/</span>mongodb<span class="regexp">/log/</span>mongodb.log  --fork --smallfiles</span><br><span class="line"><span class="comment">//&#x53EF;&#x9009;&#xFF1A;--auth</span></span><br></pre></td></tr></table></figure></p>
<h1 id="&#x589E;&#x52A0;&#x7528;&#x6237;">&#x589E;&#x52A0;&#x7528;&#x6237;</h1>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd mongodb -M <span class="operator">-s</span> /sbin/nologin</span><br></pre></td></tr></table></figure></p>
<h1 id="&#x542F;&#x52A8;&#x670D;&#x52A1;&#x6D4B;&#x8BD5;&#x670D;&#x52A1;&#x72B6;&#x6001;">&#x542F;&#x52A8;&#x670D;&#x52A1;/&#x6D4B;&#x8BD5;&#x670D;&#x52A1;&#x72B6;&#x6001;</h1>
<pre><code class="language-bash">service mongod start
service mongod status
shutdown -r now
service mongod status
mongo admin
show dbs&#xFF1B;
db.test.find();
exit
</code></pre>
<h1 id="&#x90E8;&#x7F72;&#x95EE;&#x9898;&#x8BB0;&#x5F55;">&#x90E8;&#x7F72;&#x95EE;&#x9898;&#x8BB0;&#x5F55;</h1>
<h2 id="mongovue&#x4E0D;&#x80FD;&#x8FDE;&#x63A5;">MongoVUE&#x4E0D;&#x80FD;&#x8FDE;&#x63A5;</h2>
<p>&#x5C06;27017&#x7AEF;&#x53E3;&#x52A0;&#x5165;&#x4FE1;&#x4EFB;&#x5217;&#x8868;&#xFF1B;&#x5C40;&#x57DF;&#x7F51;&#x6D4B;&#x8BD5;&#x76F4;&#x63A5;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;</p>
<pre><code class="language-bash">//&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; 
service iptables stop 
//&#x5F00;&#x542F;
chkconfig iptables on
//&#x5173;&#x95ED;
chkconfig iptables off 
//&#x67E5;&#x8BE2;TCP&#x8FDE;&#x63A5;&#x60C5;&#x51B5;
 netstat -n | awk &apos;/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}&apos;
//&#x67E5;&#x8BE2;&#x7AEF;&#x53E3;&#x5360;&#x7528;&#x60C5;&#x51B5;&#xFF1A;
 netstat   -anp   |   grep  portno
//&#xFF08;&#x4F8B;&#x5982;&#xFF1A;netstat &#x2013;apn | grep 80&#xFF09;
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p><img src="nosql.png" alt="nosql"></p>
<h1 id="&#x51C6;&#x5907;&#x4E8B;&#x9879;">&#x51C6;&#x5907;&#x4E8B;&#x9879;</h1>
<h2 id="&#x4E0B;&#x]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="数据库" scheme="http://geosmart.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[jdk安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/28/jdk%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/28/jdk安装脚本/</id>
    <published>2015-06-28T08:03:00.000Z</published>
    <updated>2015-07-06T05:19:17.979Z</updated>
    <content type="html"><![CDATA[<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2>
<ol>
<li><a href="http://download.oracle.com/otn-pub/java/jdk/7u80-b15/jdk-7u80-linux-x64.tar.gz">jdk7 X64&#x5B89;&#x88C5;&#x5305;&#xFF08;&#x5B98;&#x7F51;&#x7248;&#x672C;&#xFF1A;jdk-7u80-linux-x64.tar.gz&#xFF09;</a>
&#x4E0B;&#x8F7D;&#x540E;&#x5E76;&#x91CD;&#x547D;&#x540D;&#x4E3A;jetty.tar.gz</li>
<li><a href="install-jdk.sh">jdk&#x5B89;&#x88C5;&#x811A;&#x672C;</a></li>
</ol>
<h2 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h2>
<p>&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;CentOS&#x540E;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<ol>
<li>CentOS&#x8DEF;&#x5F84;&#xFF1A;/tmp/jdk</li>
<li>&#x6267;&#x884C;</li>
</ol>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /tmp/jdk</span><br><span class="line">chmod +x install-jdk.sh </span><br><span class="line">sudo ./install-jdk.sh</span><br></pre></td></tr></table></figure></p>
<ol start="3">
<li>&#x4E00;&#x8DEF;&#x56DE;&#x8F66;&#x5373;&#x53EF;</li>
</ol>
<p>#&#x9644;&#x4EF6; install-jdk.sh
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="shebang">#!/bin/sh</span></span><br><span class="line">BASEDIR=$(<span class="built_in">cd</span> `dirname <span class="variable">$0</span>`; <span class="built_in">pwd</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#jdk-7u80-linux-x64</span></span><br><span class="line"><span class="built_in">read</span>  -p <span class="string">&quot;Please select java tar package full path path[/tmp/jdk.tar.gz] &quot;</span> INSTALL_FILE</span><br><span class="line"><span class="keyword">if</span> [ ! <span class="operator">-f</span> <span class="string">&quot;<span class="variable">$INSTALL_FILE</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">trueINSTALL_FILE=<span class="string">&quot;/tmp/jdk.tar.gz&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set install path</span></span><br><span class="line"><span class="built_in">read</span>  -p <span class="string">&quot;Please select java install path path[/usr/local/java]: &quot;</span> INSTALL_PATH</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$INSTALL_PATH</span>&quot;</span> = <span class="string">&quot;&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">trueINSTALL_PATH=<span class="string">&quot;/usr/local/java&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="keyword">if</span> [ ! <span class="operator">-d</span> <span class="variable">$INSTALL_PATH</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;mkdir <span class="variable">$INSTALL_PATH</span>&quot;</span></span><br><span class="line">    mkdir -p <span class="variable">$INSTALL_PATH</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;uncompress <span class="variable">$INSTALL_FILE</span> to <span class="variable">$INSTALL_PATH</span>&quot;</span></span><br><span class="line"><span class="keyword">if</span> [ -w <span class="variable">$INSTALL_PATH</span> ]; <span class="keyword">then</span></span><br><span class="line">  tar -zxvf <span class="variable">$INSTALL_FILE</span> -C <span class="variable">$INSTALL_PATH</span> --strip-components=<span class="number">1</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  sudo tar -zxvf <span class="variable">$INSTALL_FILE</span> -C <span class="variable">$INSTALL_PATH</span> --strip-components=<span class="number">1</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Setting java environment...&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export JAVA_HOME=<span class="variable">$INSTALL_PATH</span>&quot;</span> | sudo tee <span class="operator">-a</span> /etc/profile</span><br><span class="line"></span><br><span class="line">JAVA_HOME=<span class="variable">$INSTALL_PATH</span></span><br><span class="line"><span class="comment">#<span class="doctag">FIXME</span></span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;export CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib/tools.jar:<span class="variable">$JAVA_HOME</span>/lib/dt.jar&quot;</span> | sudo tee <span class="operator">-a</span> /etc/profile</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&apos;export PATH=$JAVA_HOME/bin:$PATH&apos;</span> | sudo tee <span class="operator">-a</span> /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;refresh java environment...&quot;</span></span><br><span class="line"><span class="comment">#<span class="doctag">TODO</span> what does &quot;.&quot;  do? the same as &quot;source&quot; command?</span></span><br><span class="line">. /etc/profile </span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"></span><br><span class="line">java -version</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;$?&quot;</span> = <span class="string">&quot;0&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="operator">-e</span> <span class="string">&quot;\033[32m Installed, please source /etc/profile or relogin. \033[0m&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">echo</span> <span class="operator">-e</span> <span class="string">&quot;\033[31m Install failed. \033[0m&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">unset</span> BASEDIR</span><br><span class="line"><span class="built_in">unset</span> INSTALL_PATH</span><br><span class="line"><span class="built_in">unset</span> INSTALL_FILE</span><br><span class="line"></span><br><span class="line"><span class="built_in">exit</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></p>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2>
<ol>
<li><a href="http://download.oracle.com/otn-pub/java/jd]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="运维" scheme="http://geosmart.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[jetty手动安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/28/jetty%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/28/jetty手动安装脚本/</id>
    <published>2015-06-28T05:39:00.000Z</published>
    <updated>2015-07-06T05:19:25.683Z</updated>
    <content type="html"><![CDATA[<p>##&#x5B89;&#x88C5;&#x6B65;&#x9AA4;
&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;CentOS&#x540E;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<h3 id="&#x4E0B;&#x8F7D;&#x89E3;&#x538B;jetty">&#x4E0B;&#x8F7D;&#x89E3;&#x538B;Jetty</h3>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp</span><br><span class="line">wget http://eclipse.org/downloads/download.php?file=/jetty/stable-<span class="number">9</span>/dist/jetty-distribution-<span class="number">9.3</span>.<span class="number">0</span>.v20150612.tar.gz&amp;r=<span class="number">1</span> </span><br><span class="line">tar -xzvf  jetty-distribution-<span class="number">9.3</span>.<span class="number">0</span>.v20150612.tar.gz </span><br><span class="line">mv jetty-distribution-<span class="number">9.1</span>.<span class="number">1</span>.v20140108 /usr/<span class="built_in">local</span>/jetty</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x65B0;&#x5EFA;&#x7528;&#x6237;&#x914D;&#x7F6E;jetty&#x6240;&#x5C5E;&#x6743;&#x9650;">&#x65B0;&#x5EFA;&#x7528;&#x6237;&gt;&#x914D;&#x7F6E;jetty&#x6240;&#x5C5E;&#x6743;&#x9650;</h3>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd -m jetty </span><br><span class="line">chown -R jetty:jetty /usr/<span class="built_in">local</span>/jetty/</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x5B89;&#x88C5;&#x5230;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;">&#x5B89;&#x88C5;&#x5230;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;</h3>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ln <span class="operator">-s</span> /usr/<span class="built_in">local</span>/jetty/bin/jetty.sh /etc/init.d/jetty</span><br><span class="line">chkconfig --add jetty </span><br><span class="line">chkconfig --level <span class="number">345</span> jetty on</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x7F16;&#x8F91;&#x542F;&#x52A8;&#x811A;&#x672C;">&#x7F16;&#x8F91;&#x542F;&#x52A8;&#x811A;&#x672C;</h3>
<p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/default/jetty </span><br><span class="line">JETTY_HOME=/usr/<span class="built_in">local</span>/jetty </span><br><span class="line">JETTY_USER=jetty </span><br><span class="line">JETTY_PORT=<span class="number">8080</span></span><br><span class="line">JETTY_LOGS=/usr/<span class="built_in">local</span>/jetty/logs/</span><br></pre></td></tr></table></figure></p>
<h3 id="&#x542F;&#x52A8;&#x670D;&#x52A1;&#x6D4B;&#x8BD5;">&#x542F;&#x52A8;&#x670D;&#x52A1;&gt;&#x6D4B;&#x8BD5;</h3>
<pre><code class="language-bash">service jetty start
curl localhost:8080
</code></pre>
<h3 id="&#x5E38;&#x7528;&#x64CD;&#x4F5C;&#x6307;&#x4EE4;">&#x5E38;&#x7528;&#x64CD;&#x4F5C;&#x6307;&#x4EE4;</h3>
<pre><code class="language-bash">jetty [-d] {start|stop|run|restart|check|supervise} [ CONFIGS ... ]
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p>##&#x5B89;&#x88C5;&#x6B65;&#x9AA4;
&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;CentOS&#x540E;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<h3]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[jetty一键安装脚本]]></title>
    <link href="http://geosmart.github.io/2015/06/28/jetty%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"/>
    <id>http://geosmart.github.io/2015/06/28/jetty一键安装脚本/</id>
    <published>2015-06-28T05:39:00.000Z</published>
    <updated>2015-07-06T05:19:12.608Z</updated>
    <content type="html"><![CDATA[<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2>
<ol>
<li><a href="http://download.eclipse.org/jetty/9.2.11.v20150529/dist/jetty-distribution-9.2.11.v20150529.tar.gz">jetty&#x5B89;&#x88C5;&#x5305;&#xFF08;&#x5B98;&#x7F51;&#x7248;&#x672C;&#xFF1A;jetty-distribution-9.2.11.v20150529.tar&#xFF09;</a>
&#x4E0B;&#x8F7D;&#x540E;&#x5E76;&#x91CD;&#x547D;&#x540D;&#x4E3A;jetty.tar.gz</li>
<li><a href="install-jetty.sh">jetty&#x5B89;&#x88C5;&#x811A;&#x672C;</a></li>
<li>&#x5DF2;&#x5B89;&#x88C5;JDK1.7</li>
</ol>
<h2 id="&#x5B89;&#x88C5;&#x6B65;&#x9AA4;">&#x5B89;&#x88C5;&#x6B65;&#x9AA4;</h2>
<p>&#x5C06;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;CentOS&#x540E;&#x8FDB;&#x884C;&#x5B89;&#x88C5;</p>
<ol>
<li>
<p>CentOS&#x8DEF;&#x5F84;&#xFF1A;/tmp/jetty</p>
</li>
<li>
<p>&#x6267;&#x884C;
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp/jetty</span><br><span class="line">chmod +x install-jetty.sh </span><br><span class="line">sudo ./install-jetty.sh</span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>&#x4E00;&#x8DEF;&#x56DE;&#x8F66;&#x5373;&#x53EF;</p>
</li>
</ol>]]></content>
    <summary type="html">
    <![CDATA[<h2 id="&#x51C6;&#x5907;&#x5185;&#x5BB9;">&#x51C6;&#x5907;&#x5185;&#x5BB9;</h2>
<ol>
<li><a href="http://download.eclipse.org/jetty/9.2.11.v]]>
    </summary>
    
      <category term="CentOS" scheme="http://geosmart.github.io/tags/CentOS/"/>
    
      <category term="Web服务器" scheme="http://geosmart.github.io/tags/Web%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
      <category term="技术点滴" scheme="http://geosmart.github.io/categories/%E6%8A%80%E6%9C%AF%E7%82%B9%E6%BB%B4/"/>
    
  </entry>
  
</feed>